{"version":3,"file":"angular-tree-component.umd.js","sources":["models/tree-node.model.js","models/tree-virtual-scroll.model.js","constants/keys.js","models/tree-options.model.js","constants/events.js","models/tree.model.js","models/tree-dragged-element.model.js","components/loading.component.js","components/tree.component.js","components/tree-node.component.js","components/tree-node-content.component.js","components/tree-node-drop-slot.component.js","components/tree-node-expander.component.js","components/tree-node-children.component.js","components/tree-node-collection.component.js","components/tree-node-wrapper.component.js","components/tree-viewport.component.js","directives/tree-drop.directive.js","directives/tree-drag.directive.js","directives/tree-animate-open.directive.js","vendor/closest.js","angular-tree-component.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { observable, computed, action } from 'mobx';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nimport * as _ from 'lodash';\r\nvar first = _.first, last = _.last;\r\nvar TreeNode = /** @class */ (function () {\r\n    function TreeNode(data, parent, treeModel, index) {\r\n        var _this = this;\r\n        this.data = data;\r\n        this.parent = parent;\r\n        this.treeModel = treeModel;\r\n        this.position = 0;\r\n        this.allowDrop = function (element, $event) {\r\n            return _this.options.allowDrop(element, { parent: _this, index: 0 }, $event);\r\n        };\r\n        if (this.id === undefined || this.id === null) {\r\n            this.id = uuid();\r\n        } // Make sure there's a unique id without overriding existing ids to work with immutable data structures\r\n        this.index = index;\r\n        if (this.getField('children')) {\r\n            this._initChildren();\r\n        }\r\n    }\r\n    Object.defineProperty(TreeNode.prototype, \"isHidden\", {\r\n        get: function () { return this.treeModel.isHidden(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isExpanded\", {\r\n        get: function () { return this.treeModel.isExpanded(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isActive\", {\r\n        get: function () { return this.treeModel.isActive(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"isFocused\", {\r\n        get: function () { return this.treeModel.isNodeFocused(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"level\", {\r\n        get: function () {\r\n            return this.parent ? this.parent.level + 1 : 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"path\", {\r\n        get: function () {\r\n            return this.parent ? this.parent.path.concat([this.id]) : [];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"elementRef\", {\r\n        get: function () {\r\n            throw \"Element Ref is no longer supported since introducing virtual scroll\\n\\n      You may use a template to obtain a reference to the element\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"originalNode\", {\r\n        get: function () { return this._originalNode; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeNode.prototype, \"hasChildren\", {\r\n        // helper get functions:\r\n        get: function () {\r\n            return !!(this.data.hasChildren || (this.children && this.children.length > 0));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"isCollapsed\", {\r\n        get: function () { return !this.isExpanded; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"isLeaf\", {\r\n        get: function () { return !this.hasChildren; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"isRoot\", {\r\n        get: function () { return this.parent.data.virtual; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"realParent\", {\r\n        get: function () { return this.isRoot ? null : this.parent; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"options\", {\r\n        // proxy functions:\r\n        get: function () { return this.treeModel.options; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNode.prototype.fireEvent = function (event) { this.treeModel.fireEvent(event); };\r\n    Object.defineProperty(TreeNode.prototype, \"displayField\", {\r\n        // field accessors:\r\n        get: function () {\r\n            return this.getField('display');\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNode.prototype, \"id\", {\r\n        get: function () {\r\n            return this.getField('id');\r\n        },\r\n        set: function (value) {\r\n            this.setField('id', value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNode.prototype.getField = function (key) {\r\n        return this.data[this.options[key + \"Field\"]];\r\n    };\r\n    TreeNode.prototype.setField = function (key, value) {\r\n        this.data[this.options[key + \"Field\"]] = value;\r\n    };\r\n    // traversing:\r\n    TreeNode.prototype._findAdjacentSibling = function (steps, skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return this._getParentsChildren(skipHidden)[this.index + steps];\r\n    };\r\n    TreeNode.prototype.findNextSibling = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return this._findAdjacentSibling(+1, skipHidden);\r\n    };\r\n    TreeNode.prototype.findPreviousSibling = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return this._findAdjacentSibling(-1, skipHidden);\r\n    };\r\n    TreeNode.prototype.getVisibleChildren = function () {\r\n        return this.visibleChildren;\r\n    };\r\n    Object.defineProperty(TreeNode.prototype, \"visibleChildren\", {\r\n        get: function () {\r\n            return (this.children || []).filter(function (node) { return !node.isHidden; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNode.prototype.getFirstChild = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var children = skipHidden ? this.visibleChildren : this.children;\r\n        return first(children || []);\r\n    };\r\n    TreeNode.prototype.getLastChild = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var children = skipHidden ? this.visibleChildren : this.children;\r\n        return last(children || []);\r\n    };\r\n    TreeNode.prototype.findNextNode = function (goInside, skipHidden) {\r\n        if (goInside === void 0) { goInside = true; }\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return goInside && this.isExpanded && this.getFirstChild(skipHidden) ||\r\n            this.findNextSibling(skipHidden) ||\r\n            this.parent && this.parent.findNextNode(false, skipHidden);\r\n    };\r\n    TreeNode.prototype.findPreviousNode = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var previousSibling = this.findPreviousSibling(skipHidden);\r\n        if (!previousSibling) {\r\n            return this.realParent;\r\n        }\r\n        return previousSibling._getLastOpenDescendant(skipHidden);\r\n    };\r\n    TreeNode.prototype._getLastOpenDescendant = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var lastChild = this.getLastChild(skipHidden);\r\n        return (this.isCollapsed || !lastChild)\r\n            ? this\r\n            : lastChild._getLastOpenDescendant(skipHidden);\r\n    };\r\n    TreeNode.prototype._getParentsChildren = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        var children = this.parent &&\r\n            (skipHidden ? this.parent.getVisibleChildren() : this.parent.children);\r\n        return children || [];\r\n    };\r\n    TreeNode.prototype.getIndexInParent = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return this._getParentsChildren(skipHidden).indexOf(this);\r\n    };\r\n    TreeNode.prototype.isDescendantOf = function (node) {\r\n        if (this === node)\r\n            return true;\r\n        else\r\n            return this.parent && this.parent.isDescendantOf(node);\r\n    };\r\n    TreeNode.prototype.getNodePadding = function () {\r\n        return this.options.levelPadding * (this.level - 1) + 'px';\r\n    };\r\n    TreeNode.prototype.getClass = function () {\r\n        return [this.options.nodeClass(this), \"tree-node-level-\" + this.level].join(' ');\r\n    };\r\n    TreeNode.prototype.onDrop = function ($event) {\r\n        this.mouseAction('drop', $event.event, {\r\n            from: $event.element,\r\n            to: { parent: this, index: 0, dropOnNode: true }\r\n        });\r\n    };\r\n    TreeNode.prototype.allowDrag = function () {\r\n        return this.options.allowDrag(this);\r\n    };\r\n    // helper methods:\r\n    TreeNode.prototype.loadNodeChildren = function () {\r\n        var _this = this;\r\n        if (!this.options.getChildren) {\r\n            return Promise.resolve(); // Not getChildren method - for using redux\r\n        }\r\n        return Promise.resolve(this.options.getChildren(this))\r\n            .then(function (children) {\r\n            if (children) {\r\n                _this.setField('children', children);\r\n                _this._initChildren();\r\n                _this.children.forEach(function (child) {\r\n                    if (child.getField('isExpanded') && child.hasChildren) {\r\n                        child.expand();\r\n                    }\r\n                });\r\n            }\r\n        }).then(function () {\r\n            _this.fireEvent({\r\n                eventName: TREE_EVENTS.loadNodeChildren,\r\n                node: _this\r\n            });\r\n        });\r\n    };\r\n    TreeNode.prototype.expand = function () {\r\n        if (!this.isExpanded) {\r\n            return this.toggleExpanded();\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    TreeNode.prototype.collapse = function () {\r\n        if (this.isExpanded) {\r\n            this.toggleExpanded();\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.doForAll = function (fn) {\r\n        var _this = this;\r\n        Promise.resolve(fn(this)).then(function () {\r\n            if (_this.children) {\r\n                _this.children.forEach(function (child) { return child.doForAll(fn); });\r\n            }\r\n        });\r\n    };\r\n    TreeNode.prototype.expandAll = function () {\r\n        this.doForAll(function (node) { return node.expand(); });\r\n    };\r\n    TreeNode.prototype.collapseAll = function () {\r\n        this.doForAll(function (node) { return node.collapse(); });\r\n    };\r\n    TreeNode.prototype.ensureVisible = function () {\r\n        if (this.realParent) {\r\n            this.realParent.expand();\r\n            this.realParent.ensureVisible();\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.toggleExpanded = function () {\r\n        return this.setIsExpanded(!this.isExpanded);\r\n    };\r\n    TreeNode.prototype.setIsExpanded = function (value) {\r\n        if (this.hasChildren) {\r\n            this.treeModel.setExpandedNode(this, value);\r\n            if (!this.children && this.hasChildren && value) {\r\n                return this.loadNodeChildren();\r\n            }\r\n        }\r\n        return Promise.resolve();\r\n    };\r\n    ;\r\n    TreeNode.prototype.setIsActive = function (value, multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        this.treeModel.setActiveNode(this, value, multi);\r\n        if (value) {\r\n            this.focus(this.options.scrollOnSelect);\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.toggleActivated = function (multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        this.setIsActive(!this.isActive, multi);\r\n        return this;\r\n    };\r\n    TreeNode.prototype.setActiveAndVisible = function (multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        this.setIsActive(true, multi)\r\n            .ensureVisible();\r\n        setTimeout(this.scrollIntoView.bind(this));\r\n        return this;\r\n    };\r\n    TreeNode.prototype.scrollIntoView = function (force) {\r\n        if (force === void 0) { force = false; }\r\n        this.treeModel.virtualScroll.scrollIntoView(this, force);\r\n    };\r\n    TreeNode.prototype.focus = function (scroll) {\r\n        if (scroll === void 0) { scroll = true; }\r\n        var previousNode = this.treeModel.getFocusedNode();\r\n        this.treeModel.setFocusedNode(this);\r\n        if (scroll) {\r\n            this.scrollIntoView();\r\n        }\r\n        if (previousNode) {\r\n            this.fireEvent({ eventName: TREE_EVENTS.blur, node: previousNode });\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.focus, node: this });\r\n        return this;\r\n    };\r\n    TreeNode.prototype.blur = function () {\r\n        var previousNode = this.treeModel.getFocusedNode();\r\n        this.treeModel.setFocusedNode(null);\r\n        if (previousNode) {\r\n            this.fireEvent({ eventName: TREE_EVENTS.blur, node: this });\r\n        }\r\n        return this;\r\n    };\r\n    TreeNode.prototype.setIsHidden = function (value) {\r\n        this.treeModel.setIsHidden(this, value);\r\n    };\r\n    TreeNode.prototype.hide = function () {\r\n        this.setIsHidden(true);\r\n    };\r\n    TreeNode.prototype.show = function () {\r\n        this.setIsHidden(false);\r\n    };\r\n    TreeNode.prototype.mouseAction = function (actionName, $event, data) {\r\n        if (data === void 0) { data = null; }\r\n        this.treeModel.setFocus(true);\r\n        var actionMapping = this.options.actionMapping.mouse;\r\n        var action = actionMapping[actionName];\r\n        if (action) {\r\n            action(this.treeModel, this, $event, data);\r\n        }\r\n    };\r\n    TreeNode.prototype.getSelfHeight = function () {\r\n        return this.options.nodeHeight(this);\r\n    };\r\n    TreeNode.prototype._initChildren = function () {\r\n        var _this = this;\r\n        this.children = this.getField('children')\r\n            .map(function (c, index) { return new TreeNode(c, _this, _this.treeModel, index); });\r\n    };\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isHidden\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isExpanded\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isActive\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"isFocused\", null);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Array)\r\n    ], TreeNode.prototype, \"children\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Number)\r\n    ], TreeNode.prototype, \"index\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeNode.prototype, \"position\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Number)\r\n    ], TreeNode.prototype, \"height\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Number),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"level\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Array),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"path\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNode.prototype, \"visibleChildren\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeNode.prototype, \"_initChildren\", null);\r\n    return TreeNode;\r\n}());\r\nexport { TreeNode };\r\nfunction uuid() {\r\n    return Math.floor(Math.random() * 10000000000000);\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFXLE1BQU0sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUk3RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFbEQsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFDcEIsSUFBQSxlQUFLLEVBQUUsYUFBSSxDQUFPO0FBRTFCO0lBeUJFLGtCQUFtQixJQUFTLEVBQVMsTUFBZ0IsRUFBUyxTQUFvQixFQUFFLEtBQWE7UUFBakcsaUJBU0M7UUFUa0IsU0FBSSxHQUFKLElBQUksQ0FBSztRQUFTLFdBQU0sR0FBTixNQUFNLENBQVU7UUFBUyxjQUFTLEdBQVQsU0FBUyxDQUFXO1FBakJ0RSxhQUFRLEdBQUcsQ0FBQyxDQUFDO1FBbUp6QixjQUFTLEdBQUcsVUFBQyxPQUFPLEVBQUUsTUFBTztZQUMzQixNQUFNLENBQUMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDN0UsQ0FBQyxDQUFBO1FBbklDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksRUFBRSxDQUFDO1FBQ25CLENBQUMsQ0FBQyx1R0FBdUc7UUFDekcsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFFbkIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FB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LENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxFQUE1QyxDQUE0QyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQXJVUztRQUFULFFBQVE7Ozs0Q0FBeUQ7SUFDeEQ7UUFBVCxRQUFROzs7OENBQTZEO0lBQzVEO1FBQVQsUUFBUTs7OzRDQUF5RDtJQUN4RDtRQUFULFFBQVE7Ozs2Q0FBK0Q7SUFFNUQ7UUFBWCxVQUFVOzs4Q0FBc0I7SUFDckI7UUFBWCxVQUFVOzsyQ0FBZTtJQUNkO1FBQVgsVUFBVTs7OENBQWM7SUFDYjtRQUFYLFVBQVU7OzRDQUFnQjtJQUNqQjtRQUFULFFBQVE7Ozt5Q0FFUjtJQUNTO1FBQVQsUUFBUTs7O3dDQUVSO0lBd0VTO1FBQVQsUUFBUTs7O21EQUVSO0lBME9PO1FBQVAsTUFBTTs7OztpREFHTjtJQUNILGVBQUM7Q0F2VUQsQUF1VUMsSUFBQTtTQXZVWSxRQUFRO0FBeVVyQjtJQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztBQUNwRCxDQUFDIiwiZmlsZSI6InRyZWUtbm9kZS5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBvYnNlcnZhYmxlLCBjb21wdXRlZCwgYXV0b3J1biwgYWN0aW9uIH0gZnJvbSAnbW9ieCc7XHJcbmltcG9ydCB7IFRyZWVNb2RlbCB9IGZyb20gJy4vdHJlZS5tb2RlbCc7XHJcbmltcG9ydCB7IFRyZWVPcHRpb25zIH0gZnJvbSAnLi90cmVlLW9wdGlvbnMubW9kZWwnO1xyXG5pbXBvcnQgeyBJVHJlZU5vZGUgfSBmcm9tICcuLi9kZWZzL2FwaSc7XHJcbmltcG9ydCB7IFRSRUVfRVZFTlRTIH0gZnJvbSAnLi4vY29uc3RhbnRzL2V2ZW50cyc7XHJcblxyXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XHJcbmNvbnN0IHsgZmlyc3QsIGxhc3QgfSA9IF87XHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZU5vZGUgaW1wbGVtZW50cyBJVHJlZU5vZGUge1xyXG4gIEBjb21wdXRlZCBnZXQgaXNIaWRkZW4oKSB7IHJldHVybiB0aGlzLnRyZWVNb2RlbC5pc0hpZGRlbih0aGlzKTsgfTtcclxuICBAY29tcHV0ZWQgZ2V0IGlzRXhwYW5kZWQoKSB7IHJldHVybiB0aGlzLnRyZWVNb2RlbC5pc0V4cGFuZGVkKHRoaXMpOyB9O1xyXG4gIEBjb21wdXRlZCBnZXQgaXNBY3RpdmUoKSB7IHJldHVybiB0aGlzLnRyZWVNb2RlbC5pc0FjdGl2ZSh0aGlzKTsgfTtcclxuICBAY29tcHV0ZWQgZ2V0IGlzRm9jdXNlZCgpIHsgcmV0dXJuIHRoaXMudHJlZU1vZGVsLmlzTm9kZUZvY3VzZWQodGhpcyk7IH07XHJcblxyXG4gIEBvYnNlcnZhYmxlIGNoaWxkcmVuOiBUcmVlTm9kZVtdO1xyXG4gIEBvYnNlcnZhYmxlIGluZGV4OiBudW1iZXI7XHJcbiAgQG9ic2VydmFibGUgcG9zaXRpb24gPSAwO1xyXG4gIEBvYnNlcnZhYmxlIGhlaWdodDogbnVtYmVyO1xyXG4gIEBjb21wdXRlZCBnZXQgbGV2ZWwoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmxldmVsICsgMSA6IDA7XHJcbiAgfVxyXG4gIEBjb21wdXRlZCBnZXQgcGF0aCgpOiBzdHJpbmdbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQgPyBbLi4udGhpcy5wYXJlbnQucGF0aCwgdGhpcy5pZF0gOiBbXTtcclxuICB9XHJcblxyXG4gIGdldCBlbGVtZW50UmVmKCk6IGFueSB7XHJcbiAgICB0aHJvdyBgRWxlbWVudCBSZWYgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBzaW5jZSBpbnRyb2R1Y2luZyB2aXJ0dWFsIHNjcm9sbFxcblxyXG4gICAgICBZb3UgbWF5IHVzZSBhIHRlbXBsYXRlIHRvIG9idGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudGA7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9vcmlnaW5hbE5vZGU6IGFueTtcclxuICBnZXQgb3JpZ2luYWxOb2RlKCkgeyByZXR1cm4gdGhpcy5fb3JpZ2luYWxOb2RlOyB9O1xyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZGF0YTogYW55LCBwdWJsaWMgcGFyZW50OiBUcmVlTm9kZSwgcHVibGljIHRyZWVNb2RlbDogVHJlZU1vZGVsLCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICBpZiAodGhpcy5pZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuaWQgPT09IG51bGwpIHtcclxuICAgICAgdGhpcy5pZCA9IHV1aWQoKTtcclxuICAgIH0gLy8gTWFrZSBzdXJlIHRoZXJlJ3MgYSB1bmlxdWUgaWQgd2l0aG91dCBvdmVycmlkaW5nIGV4aXN0aW5nIGlkcyB0byB3b3JrIHdpdGggaW1tdXRhYmxlIGRhdGEgc3RydWN0dXJlc1xyXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG5cclxuICAgIGlmICh0aGlzLmdldEZpZWxkKCdjaGlsZHJlbicpKSB7XHJcbiAgICAgIHRoaXMuX2luaXRDaGlsZHJlbigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gaGVscGVyIGdldCBmdW5jdGlvbnM6XHJcbiAgZ2V0IGhhc0NoaWxkcmVuKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YS5oYXNDaGlsZHJlbiB8fCAodGhpcy5jaGlsZHJlbiAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApKTtcclxuICB9XHJcbiAgZ2V0IGlzQ29sbGFwc2VkKCk6IGJvb2xlYW4geyByZXR1cm4gIXRoaXMuaXNFeHBhbmRlZDsgfVxyXG4gIGdldCBpc0xlYWYoKTogYm9vbGVhbiB7IHJldHVybiAhdGhpcy5oYXNDaGlsZHJlbjsgfVxyXG4gIGdldCBpc1Jvb3QoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLnBhcmVudC5kYXRhLnZpcnR1YWw7IH1cclxuICBnZXQgcmVhbFBhcmVudCgpOiBUcmVlTm9kZSB7IHJldHVybiB0aGlzLmlzUm9vdCA/IG51bGwgOiB0aGlzLnBhcmVudDsgfVxyXG5cclxuICAvLyBwcm94eSBmdW5jdGlvbnM6XHJcbiAgZ2V0IG9wdGlvbnMoKTogVHJlZU9wdGlvbnMgeyByZXR1cm4gdGhpcy50cmVlTW9kZWwub3B0aW9uczsgfVxyXG4gIGZpcmVFdmVudChldmVudCkgeyB0aGlzLnRyZWVNb2RlbC5maXJlRXZlbnQoZXZlbnQpOyB9XHJcblxyXG4gIC8vIGZpZWxkIGFjY2Vzc29yczpcclxuICBnZXQgZGlzcGxheUZpZWxkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ2V0RmllbGQoJ2Rpc3BsYXknKTtcclxuICB9XHJcblxyXG4gIGdldCBpZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmdldEZpZWxkKCdpZCcpO1xyXG4gIH1cclxuXHJcbiAgc2V0IGlkKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNldEZpZWxkKCdpZCcsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIGdldEZpZWxkKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLm9wdGlvbnNbYCR7a2V5fUZpZWxkYF1dO1xyXG4gIH1cclxuXHJcbiAgc2V0RmllbGQoa2V5LCB2YWx1ZSkge1xyXG4gICAgdGhpcy5kYXRhW3RoaXMub3B0aW9uc1tgJHtrZXl9RmllbGRgXV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8vIHRyYXZlcnNpbmc6XHJcbiAgX2ZpbmRBZGphY2VudFNpYmxpbmcoc3RlcHMsIHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2dldFBhcmVudHNDaGlsZHJlbihza2lwSGlkZGVuKVt0aGlzLmluZGV4ICsgc3RlcHNdO1xyXG4gIH1cclxuXHJcbiAgZmluZE5leHRTaWJsaW5nKHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2ZpbmRBZGphY2VudFNpYmxpbmcoKzEsIHNraXBIaWRkZW4pO1xyXG4gIH1cclxuXHJcbiAgZmluZFByZXZpb3VzU2libGluZyhza2lwSGlkZGVuID0gZmFsc2UpIHtcclxuICAgIHJldHVybiB0aGlzLl9maW5kQWRqYWNlbnRTaWJsaW5nKC0xLCBza2lwSGlkZGVuKTtcclxuICB9XHJcblxyXG4gIGdldFZpc2libGVDaGlsZHJlbigpIHtcclxuICAgIHJldHVybiB0aGlzLnZpc2libGVDaGlsZHJlbjtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZCBnZXQgdmlzaWJsZUNoaWxkcmVuKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLmNoaWxkcmVuIHx8IFtdKS5maWx0ZXIoKG5vZGUpID0+ICFub2RlLmlzSGlkZGVuKTtcclxuICB9XHJcblxyXG4gIGdldEZpcnN0Q2hpbGQoc2tpcEhpZGRlbiA9IGZhbHNlKSB7XHJcbiAgICBsZXQgY2hpbGRyZW4gPSBza2lwSGlkZGVuID8gdGhpcy52aXNpYmxlQ2hpbGRyZW4gOiB0aGlzLmNoaWxkcmVuO1xyXG5cclxuICAgIHJldHVybiBmaXJzdChjaGlsZHJlbiB8fCBbXSk7XHJcbiAgfVxyXG5cclxuICBnZXRMYXN0Q2hpbGQoc2tpcEhpZGRlbiA9IGZhbHNlKSB7XHJcbiAgICBsZXQgY2hpbGRyZW4gPSBza2lwSGlkZGVuID8gdGhpcy52aXNpYmxlQ2hpbGRyZW4gOiB0aGlzLmNoaWxkcmVuO1xyXG5cclxuICAgIHJldHVybiBsYXN0KGNoaWxkcmVuIHx8IFtdKTtcclxuICB9XHJcblxyXG4gIGZpbmROZXh0Tm9kZShnb0luc2lkZSA9IHRydWUsIHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGdvSW5zaWRlICYmIHRoaXMuaXNFeHBhbmRlZCAmJiB0aGlzLmdldEZpcnN0Q2hpbGQoc2tpcEhpZGRlbikgfHxcclxuICAgICAgICAgICB0aGlzLmZpbmROZXh0U2libGluZyhza2lwSGlkZGVuKSB8fFxyXG4gICAgICAgICAgIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmZpbmROZXh0Tm9kZShmYWxzZSwgc2tpcEhpZGRlbik7XHJcbiAgfVxyXG5cclxuICBmaW5kUHJldmlvdXNOb2RlKHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgbGV0IHByZXZpb3VzU2libGluZyA9IHRoaXMuZmluZFByZXZpb3VzU2libGluZyhza2lwSGlkZGVuKTtcclxuICAgIGlmICghcHJldmlvdXNTaWJsaW5nKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnJlYWxQYXJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJldmlvdXNTaWJsaW5nLl9nZXRMYXN0T3BlbkRlc2NlbmRhbnQoc2tpcEhpZGRlbik7XHJcbiAgfVxyXG5cclxuICBfZ2V0TGFzdE9wZW5EZXNjZW5kYW50KHNraXBIaWRkZW4gPSBmYWxzZSkge1xyXG4gICAgY29uc3QgbGFzdENoaWxkID0gdGhpcy5nZXRMYXN0Q2hpbGQoc2tpcEhpZGRlbik7XHJcbiAgICByZXR1cm4gKHRoaXMuaXNDb2xsYXBzZWQgfHwgIWxhc3RDaGlsZClcclxuICAgICAgPyB0aGlzXHJcbiAgICAgIDogbGFzdENoaWxkLl9nZXRMYXN0T3BlbkRlc2NlbmRhbnQoc2tpcEhpZGRlbik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9nZXRQYXJlbnRzQ2hpbGRyZW4oc2tpcEhpZGRlbiA9IGZhbHNlKTogYW55W10ge1xyXG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLnBhcmVudCAmJlxyXG4gICAgICAoc2tpcEhpZGRlbiA/IHRoaXMucGFyZW50LmdldFZpc2libGVDaGlsZHJlbigpIDogdGhpcy5wYXJlbnQuY2hpbGRyZW4pO1xyXG5cclxuICAgIHJldHVybiBjaGlsZHJlbiB8fCBbXTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0SW5kZXhJblBhcmVudChza2lwSGlkZGVuID0gZmFsc2UpIHtcclxuICAgIHJldHVybiB0aGlzLl9nZXRQYXJlbnRzQ2hpbGRyZW4oc2tpcEhpZGRlbikuaW5kZXhPZih0aGlzKTtcclxuICB9XHJcblxyXG4gIGlzRGVzY2VuZGFudE9mKG5vZGU6IFRyZWVOb2RlKSB7XHJcbiAgICBpZiAodGhpcyA9PT0gbm9kZSkgcmV0dXJuIHRydWU7XHJcbiAgICBlbHNlIHJldHVybiB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5pc0Rlc2NlbmRhbnRPZihub2RlKTtcclxuICB9XHJcblxyXG4gIGdldE5vZGVQYWRkaW5nKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmxldmVsUGFkZGluZyAqICh0aGlzLmxldmVsIC0gMSkgKyAncHgnO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2xhc3MoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBbdGhpcy5vcHRpb25zLm5vZGVDbGFzcyh0aGlzKSwgYHRyZWUtbm9kZS1sZXZlbC0keyB0aGlzLmxldmVsIH1gXS5qb2luKCcgJyk7XHJcbiAgfVxyXG5cclxuICBvbkRyb3AoJGV2ZW50KSB7XHJcbiAgICB0aGlzLm1vdXNlQWN0aW9uKCdkcm9wJywgJGV2ZW50LmV2ZW50LCB7XHJcbiAgICAgIGZyb206ICRldmVudC5lbGVtZW50LFxyXG4gICAgICB0bzogeyBwYXJlbnQ6IHRoaXMsIGluZGV4OiAwLCBkcm9wT25Ob2RlOiB0cnVlIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWxsb3dEcm9wID0gKGVsZW1lbnQsICRldmVudD8pID0+IHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWxsb3dEcm9wKGVsZW1lbnQsIHsgcGFyZW50OiB0aGlzLCBpbmRleDogMCB9LCAkZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgYWxsb3dEcmFnKCkge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hbGxvd0RyYWcodGhpcyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gaGVscGVyIG1ldGhvZHM6XHJcbiAgbG9hZE5vZGVDaGlsZHJlbigpIHtcclxuICAgIGlmICghdGhpcy5vcHRpb25zLmdldENoaWxkcmVuKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTsgLy8gTm90IGdldENoaWxkcmVuIG1ldGhvZCAtIGZvciB1c2luZyByZWR1eFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLm9wdGlvbnMuZ2V0Q2hpbGRyZW4odGhpcykpXHJcbiAgICAgIC50aGVuKChjaGlsZHJlbikgPT4ge1xyXG4gICAgICAgIGlmIChjaGlsZHJlbikge1xyXG4gICAgICAgICAgdGhpcy5zZXRGaWVsZCgnY2hpbGRyZW4nLCBjaGlsZHJlbik7XHJcbiAgICAgICAgICB0aGlzLl9pbml0Q2hpbGRyZW4oKTtcclxuICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNoaWxkLmdldEZpZWxkKCdpc0V4cGFuZGVkJykgJiYgY2hpbGQuaGFzQ2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgICBjaGlsZC5leHBhbmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH19KS50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLmZpcmVFdmVudCh7XHJcbiAgICAgICAgICBldmVudE5hbWU6IFRSRUVfRVZFTlRTLmxvYWROb2RlQ2hpbGRyZW4sXHJcbiAgICAgICAgICBub2RlOiB0aGlzXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZXhwYW5kKCkge1xyXG4gICAgaWYgKCF0aGlzLmlzRXhwYW5kZWQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlRXhwYW5kZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgfVxyXG5cclxuICBjb2xsYXBzZSgpIHtcclxuICAgIGlmICh0aGlzLmlzRXhwYW5kZWQpIHtcclxuICAgICAgdGhpcy50b2dnbGVFeHBhbmRlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgZG9Gb3JBbGwoZm46IChub2RlOiBJVHJlZU5vZGUpID0+IGFueSkge1xyXG4gICAgUHJvbWlzZS5yZXNvbHZlKGZuKHRoaXMpKS50aGVuKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiBjaGlsZC5kb0ZvckFsbChmbikpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGV4cGFuZEFsbCgpIHtcclxuICAgIHRoaXMuZG9Gb3JBbGwoKG5vZGUpID0+IG5vZGUuZXhwYW5kKCkpO1xyXG4gIH1cclxuXHJcbiAgY29sbGFwc2VBbGwoKSB7XHJcbiAgICB0aGlzLmRvRm9yQWxsKChub2RlKSA9PiBub2RlLmNvbGxhcHNlKCkpO1xyXG4gIH1cclxuXHJcbiAgZW5zdXJlVmlzaWJsZSgpIHtcclxuICAgIGlmICh0aGlzLnJlYWxQYXJlbnQpIHtcclxuICAgICAgdGhpcy5yZWFsUGFyZW50LmV4cGFuZCgpO1xyXG4gICAgICB0aGlzLnJlYWxQYXJlbnQuZW5zdXJlVmlzaWJsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlRXhwYW5kZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZXRJc0V4cGFuZGVkKCF0aGlzLmlzRXhwYW5kZWQpO1xyXG4gIH1cclxuXHJcbiAgc2V0SXNFeHBhbmRlZCh2YWx1ZSkge1xyXG4gICAgaWYgKHRoaXMuaGFzQ2hpbGRyZW4pIHtcclxuICAgICAgdGhpcy50cmVlTW9kZWwuc2V0RXhwYW5kZWROb2RlKHRoaXMsIHZhbHVlKTtcclxuXHJcbiAgICAgIGlmICghdGhpcy5jaGlsZHJlbiAmJiB0aGlzLmhhc0NoaWxkcmVuICYmIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZE5vZGVDaGlsZHJlbigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gIH07XHJcblxyXG4gIHNldElzQWN0aXZlKHZhbHVlLCBtdWx0aSA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC5zZXRBY3RpdmVOb2RlKHRoaXMsIHZhbHVlLCBtdWx0aSk7XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgdGhpcy5mb2N1cyh0aGlzLm9wdGlvbnMuc2Nyb2xsT25TZWxlY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlQWN0aXZhdGVkKG11bHRpID0gZmFsc2UpIHtcclxuICAgIHRoaXMuc2V0SXNBY3RpdmUoIXRoaXMuaXNBY3RpdmUsIG11bHRpKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldEFjdGl2ZUFuZFZpc2libGUobXVsdGkgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5zZXRJc0FjdGl2ZSh0cnVlLCBtdWx0aSlcclxuICAgICAgLmVuc3VyZVZpc2libGUoKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KHRoaXMuc2Nyb2xsSW50b1ZpZXcuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICBzY3JvbGxJbnRvVmlldyhmb3JjZSA9IGZhbHNlKSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC52aXJ0dWFsU2Nyb2xsLnNjcm9sbEludG9WaWV3KHRoaXMsIGZvcmNlKTtcclxuICB9XHJcblxyXG4gIGZvY3VzKHNjcm9sbCA9IHRydWUpIHtcclxuICAgIGxldCBwcmV2aW91c05vZGUgPSB0aGlzLnRyZWVNb2RlbC5nZXRGb2N1c2VkTm9kZSgpO1xyXG4gICAgdGhpcy50cmVlTW9kZWwuc2V0Rm9jdXNlZE5vZGUodGhpcyk7XHJcbiAgICBpZiAoc2Nyb2xsKSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAgIH1cclxuICAgIGlmIChwcmV2aW91c05vZGUpIHtcclxuICAgICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLmJsdXIsIG5vZGU6IHByZXZpb3VzTm9kZSB9KTtcclxuICAgIH1cclxuICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5mb2N1cywgbm9kZTogdGhpcyB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIGJsdXIoKSB7XHJcbiAgICBsZXQgcHJldmlvdXNOb2RlID0gdGhpcy50cmVlTW9kZWwuZ2V0Rm9jdXNlZE5vZGUoKTtcclxuICAgIHRoaXMudHJlZU1vZGVsLnNldEZvY3VzZWROb2RlKG51bGwpO1xyXG4gICAgaWYgKHByZXZpb3VzTm9kZSkge1xyXG4gICAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuYmx1ciwgbm9kZTogdGhpcyB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIHNldElzSGlkZGVuKHZhbHVlKSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC5zZXRJc0hpZGRlbih0aGlzLCB2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBoaWRlKCkge1xyXG4gICAgdGhpcy5zZXRJc0hpZGRlbih0cnVlKTtcclxuICB9XHJcblxyXG4gIHNob3coKSB7XHJcbiAgICB0aGlzLnNldElzSGlkZGVuKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIG1vdXNlQWN0aW9uKGFjdGlvbk5hbWU6IHN0cmluZywgJGV2ZW50LCBkYXRhOiBhbnkgPSBudWxsKSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC5zZXRGb2N1cyh0cnVlKTtcclxuXHJcbiAgICBjb25zdCBhY3Rpb25NYXBwaW5nID0gdGhpcy5vcHRpb25zLmFjdGlvbk1hcHBpbmcubW91c2U7XHJcbiAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25NYXBwaW5nW2FjdGlvbk5hbWVdO1xyXG5cclxuICAgIGlmIChhY3Rpb24pIHtcclxuICAgICAgYWN0aW9uKHRoaXMudHJlZU1vZGVsLCB0aGlzLCAkZXZlbnQsIGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0U2VsZkhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMubm9kZUhlaWdodCh0aGlzKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gX2luaXRDaGlsZHJlbigpIHtcclxuICAgIHRoaXMuY2hpbGRyZW4gPSB0aGlzLmdldEZpZWxkKCdjaGlsZHJlbicpXHJcbiAgICAgIC5tYXAoKGMsIGluZGV4KSA9PiBuZXcgVHJlZU5vZGUoYywgdGhpcywgdGhpcy50cmVlTW9kZWwsIGluZGV4KSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1dWlkKCkge1xyXG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMDAwMDAwMCk7XHJcbn1cclxuIl19","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { observable, computed, action, autorun, reaction } from 'mobx';\r\nimport { TreeModel } from './tree.model';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nvar Y_OFFSET = 300; // Extra pixels outside the viewport, in each direction, to render nodes in\r\nvar Y_EPSILON = 50; // Minimum pixel change required to recalculate the rendered nodes\r\nvar TreeVirtualScroll = /** @class */ (function () {\r\n    function TreeVirtualScroll(treeModel) {\r\n        var _this = this;\r\n        this.treeModel = treeModel;\r\n        this.yBlocks = 0;\r\n        this.x = 0;\r\n        this.viewportHeight = null;\r\n        this.viewport = null;\r\n        treeModel.virtualScroll = this;\r\n        this._dispose = [autorun(function () { return _this.fixScroll(); })];\r\n    }\r\n    Object.defineProperty(TreeVirtualScroll.prototype, \"y\", {\r\n        get: function () {\r\n            return this.yBlocks * Y_EPSILON;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeVirtualScroll.prototype, \"totalHeight\", {\r\n        get: function () {\r\n            return this.treeModel.virtualRoot ? this.treeModel.virtualRoot.height : 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeVirtualScroll.prototype.fireEvent = function (event) {\r\n        this.treeModel.fireEvent(event);\r\n    };\r\n    TreeVirtualScroll.prototype.init = function () {\r\n        var _this = this;\r\n        var fn = this.recalcPositions.bind(this);\r\n        fn();\r\n        this._dispose = this._dispose.concat([\r\n            reaction(function () { return _this.treeModel.roots; }, fn),\r\n            reaction(function () { return _this.treeModel.expandedNodeIds; }, fn),\r\n            reaction(function () { return _this.treeModel.hiddenNodeIds; }, fn)\r\n        ]);\r\n        this.treeModel.subscribe(TREE_EVENTS.loadNodeChildren, fn);\r\n    };\r\n    TreeVirtualScroll.prototype.isEnabled = function () {\r\n        return this.treeModel.options.useVirtualScroll;\r\n    };\r\n    TreeVirtualScroll.prototype._setYBlocks = function (value) {\r\n        this.yBlocks = value;\r\n    };\r\n    TreeVirtualScroll.prototype.recalcPositions = function () {\r\n        this.treeModel.virtualRoot.height = this._getPositionAfter(this.treeModel.getVisibleRoots(), 0);\r\n    };\r\n    TreeVirtualScroll.prototype._getPositionAfter = function (nodes, startPos) {\r\n        var _this = this;\r\n        var position = startPos;\r\n        nodes.forEach(function (node) {\r\n            node.position = position;\r\n            position = _this._getPositionAfterNode(node, position);\r\n        });\r\n        return position;\r\n    };\r\n    TreeVirtualScroll.prototype._getPositionAfterNode = function (node, startPos) {\r\n        var position = node.getSelfHeight() + startPos;\r\n        if (node.children && node.isExpanded) {\r\n            position = this._getPositionAfter(node.visibleChildren, position);\r\n        }\r\n        node.height = position - startPos;\r\n        return position;\r\n    };\r\n    TreeVirtualScroll.prototype.clear = function () {\r\n        this._dispose.forEach(function (d) { return d(); });\r\n    };\r\n    TreeVirtualScroll.prototype.setViewport = function (viewport) {\r\n        Object.assign(this, {\r\n            viewport: viewport,\r\n            x: viewport.scrollLeft,\r\n            yBlocks: Math.round(viewport.scrollTop / Y_EPSILON),\r\n            viewportHeight: viewport.getBoundingClientRect().height\r\n        });\r\n    };\r\n    TreeVirtualScroll.prototype.scrollIntoView = function (node, force, scrollToMiddle) {\r\n        if (scrollToMiddle === void 0) { scrollToMiddle = true; }\r\n        if (force || // force scroll to node\r\n            node.position < this.y || // node is above viewport\r\n            node.position + node.getSelfHeight() > this.y + this.viewportHeight) {\r\n            if (this.viewport) {\r\n                this.viewport.scrollTop = scrollToMiddle ?\r\n                    node.position - this.viewportHeight / 2 : // scroll to middle\r\n                    node.position; // scroll to start\r\n                this._setYBlocks(Math.floor(this.viewport.scrollTop / Y_EPSILON));\r\n            }\r\n        }\r\n    };\r\n    TreeVirtualScroll.prototype.getViewportNodes = function (nodes) {\r\n        var _this = this;\r\n        if (!nodes)\r\n            return [];\r\n        var visibleNodes = nodes.filter(function (node) { return !node.isHidden; });\r\n        if (!this.isEnabled())\r\n            return visibleNodes;\r\n        if (!this.viewportHeight || !visibleNodes.length)\r\n            return [];\r\n        // Search for first node in the viewport using binary search\r\n        // Look for first node that starts after the beginning of the viewport (with buffer)\r\n        // Or that ends after the beginning of the viewport\r\n        var firstIndex = binarySearch(visibleNodes, function (node) {\r\n            return (node.position + Y_OFFSET > _this.y) ||\r\n                (node.position + node.height > _this.y);\r\n        });\r\n        // Search for last node in the viewport using binary search\r\n        // Look for first node that starts after the end of the viewport (with buffer)\r\n        var lastIndex = binarySearch(visibleNodes, function (node) {\r\n            return node.position - Y_OFFSET > _this.y + _this.viewportHeight;\r\n        }, firstIndex);\r\n        var viewportNodes = [];\r\n        for (var i = firstIndex; i <= lastIndex; i++) {\r\n            viewportNodes.push(visibleNodes[i]);\r\n        }\r\n        return viewportNodes;\r\n    };\r\n    TreeVirtualScroll.prototype.fixScroll = function () {\r\n        var maxY = Math.max(0, this.totalHeight - this.viewportHeight);\r\n        if (this.y < 0)\r\n            this._setYBlocks(0);\r\n        if (this.y > maxY)\r\n            this._setYBlocks(maxY / Y_EPSILON);\r\n    };\r\n    TreeVirtualScroll.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeVirtualScroll.ctorParameters = function () { return [\r\n        { type: TreeModel, },\r\n    ]; };\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeVirtualScroll.prototype, \"yBlocks\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeVirtualScroll.prototype, \"x\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeVirtualScroll.prototype, \"viewportHeight\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeVirtualScroll.prototype, \"y\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeVirtualScroll.prototype, \"totalHeight\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"_setYBlocks\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"recalcPositions\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"setViewport\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeVirtualScroll.prototype, \"scrollIntoView\", null);\r\n    return TreeVirtualScroll;\r\n}());\r\nexport { TreeVirtualScroll };\r\nfunction binarySearch(nodes, condition, firstIndex) {\r\n    if (firstIndex === void 0) { firstIndex = 0; }\r\n    var index = firstIndex;\r\n    var toIndex = nodes.length - 1;\r\n    while (index !== toIndex) {\r\n        var midIndex = Math.floor((index + toIndex) / 2);\r\n        if (condition(nodes[midIndex])) {\r\n            toIndex = midIndex;\r\n        }\r\n        else {\r\n            if (index === midIndex)\r\n                index = toIndex;\r\n            else\r\n                index = midIndex;\r\n        }\r\n    }\r\n    return index;\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS12aXJ0dWFsLXNjcm9sbC5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBQSxFQUFXLE1BQU8sZUFBQSxDQUFnQjtBQUMzQyxPQUFPLEVBQUUsVUFBQSxFQUFZLFFBQUEsRUFBVSxNQUFBLEVBQVEsT0FBQSxFQUFTLFFBQUEsRUFBUyxNQUFPLE1BQUEsQ0FBTztBQUN2RSxPQUFPLEVBQUUsU0FBQSxFQUFVLE1BQU8sY0FBQSxDQUFlO0FBQ3pDLE9BQU8sRUFBRSxXQUFBLEVBQVksTUFBTyxxQkFBQSxDQUFzQjtBQUVsRCxJQUFNLFFBQUEsR0FBVyxHQUFBLENBQUksQ0FBQywyRUFBQTtBQUN0QixJQUFNLFNBQUEsR0FBWSxFQUFBLENBQUcsQ0FBQSxrRUFBQTtBQUdyQjtJQWdCRSwyQkFBb0IsU0FBb0I7UUFBeEMsaUJBR0M7UUFIbUIsY0FBUyxHQUFULFNBQVMsQ0FBVztRQWI1QixZQUFPLEdBQUcsQ0FBQyxDQUFDO1FBQ1osTUFBQyxHQUFHLENBQUMsQ0FBQztRQUNOLG1CQUFjLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFXZCxTQUFTLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsT0FBTyxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsU0FBUyxFQUFFLEVBQWhCLENBQWdCLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFYUyxzQkFBSSxnQ0FBQzthQUFMO1lBQ1IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsU0FBUyxDQUFDO1FBQ2xDLENBQUM7OztPQUFBO0lBRVMsc0JBQUksMENBQVc7YUFBZjtZQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsTUFB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R0FBRyxDQUFBLENBQUUsQ0FBQztRQVNqRCxFQUFFLENBQUMsQ0FBQyxTQVBDLENBQVMsS0FBQyxDQUFLLFFBQUMsQ0FBUSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBUTlCLE9BQU8sR0FQRyxRQUFBLENBQVM7UUFRckIsQ0FBQztRQUNELElBQUksQ0FQQyxDQUFBO1lBUUgsRUFBRSxDQUFDLENBQUMsS0FQQyxLQUFTLFFBQUEsQ0FBUztnQkFBQyxLQUFBLEdBQVEsT0FBQSxDQUFRO1lBUXhDLElBQUk7Z0JBUEMsS0FBQSxHQUFRLFFBQUEsQ0FBUztRQVF4QixDQUFDO0lBQ0gsQ0FBQztJQUNELE1BQU0sQ0FQQyxLQUFBLENBQU07QUFRZixDQUFDIiwiZmlsZSI6InRyZWUtdmlydHVhbC1zY3JvbGwubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBvYnNlcnZhYmxlLCBjb21wdXRlZCwgYWN0aW9uLCBhdXRvcnVuLCByZWFjdGlvbiB9IGZyb20gJ21vYngnO1xyXG5pbXBvcnQgeyBUcmVlTW9kZWwgfSBmcm9tICcuL3RyZWUubW9kZWwnO1xyXG5pbXBvcnQgeyBUUkVFX0VWRU5UUyB9IGZyb20gJy4uL2NvbnN0YW50cy9ldmVudHMnO1xyXG5cclxuY29uc3QgWV9PRkZTRVQgPSAzMDA7IC8vIEV4dHJhIHBpeGVscyBvdXRzaWRlIHRoZSB2aWV3cG9ydCwgaW4gZWFjaCBkaXJlY3Rpb24sIHRvIHJlbmRlciBub2RlcyBpblxyXG5jb25zdCBZX0VQU0lMT04gPSA1MDsgLy8gTWluaW11bSBwaXhlbCBjaGFuZ2UgcmVxdWlyZWQgdG8gcmVjYWxjdWxhdGUgdGhlIHJlbmRlcmVkIG5vZGVzXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVWaXJ0dWFsU2Nyb2xsIHtcclxuICBwcml2YXRlIF9kaXNwb3NlOiBhbnk7XHJcblxyXG4gIEBvYnNlcnZhYmxlIHlCbG9ja3MgPSAwO1xyXG4gIEBvYnNlcnZhYmxlIHggPSAwO1xyXG4gIEBvYnNlcnZhYmxlIHZpZXdwb3J0SGVpZ2h0ID0gbnVsbDtcclxuICB2aWV3cG9ydCA9IG51bGw7XHJcblxyXG4gIEBjb21wdXRlZCBnZXQgeSgpIHtcclxuICAgIHJldHVybiB0aGlzLnlCbG9ja3MgKiBZX0VQU0lMT047XHJcbiAgfVxyXG5cclxuICBAY29tcHV0ZWQgZ2V0IHRvdGFsSGVpZ2h0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMudHJlZU1vZGVsLnZpcnR1YWxSb290ID8gdGhpcy50cmVlTW9kZWwudmlydHVhbFJvb3QuaGVpZ2h0IDogMDtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJlZU1vZGVsOiBUcmVlTW9kZWwpIHtcclxuICAgIHRyZWVNb2RlbC52aXJ0dWFsU2Nyb2xsID0gdGhpcztcclxuICAgIHRoaXMuX2Rpc3Bvc2UgPSBbYXV0b3J1bigoKSA9PiB0aGlzLmZpeFNjcm9sbCgpKV07XHJcbiAgfVxyXG5cclxuICBmaXJlRXZlbnQoZXZlbnQpIHtcclxuICAgIHRoaXMudHJlZU1vZGVsLmZpcmVFdmVudChldmVudCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgY29uc3QgZm4gPSB0aGlzLnJlY2FsY1Bvc2l0aW9ucy5iaW5kKHRoaXMpO1xyXG5cclxuICAgIGZuKCk7XHJcbiAgICB0aGlzLl9kaXNwb3NlID0gW1xyXG4gICAgICAuLi50aGlzLl9kaXNwb3NlLFxyXG4gICAgICByZWFjdGlvbigoKSA9PiB0aGlzLnRyZWVNb2RlbC5yb290cywgZm4pLFxyXG4gICAgICByZWFjdGlvbigoKSA9PiB0aGlzLnRyZWVNb2RlbC5leHBhbmRlZE5vZGVJZHMsIGZuKSxcclxuICAgICAgcmVhY3Rpb24oKCkgPT4gdGhpcy50cmVlTW9kZWwuaGlkZGVuTm9kZUlkcywgZm4pXHJcbiAgICBdO1xyXG4gICAgdGhpcy50cmVlTW9kZWwuc3Vic2NyaWJlKFRSRUVfRVZFTlRTLmxvYWROb2RlQ2hpbGRyZW4sIGZuKTtcclxuICB9XHJcblxyXG4gIGlzRW5hYmxlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLnRyZWVNb2RlbC5vcHRpb25zLnVzZVZpcnR1YWxTY3JvbGw7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHByaXZhdGUgX3NldFlCbG9ja3ModmFsdWUpIHtcclxuICAgIHRoaXMueUJsb2NrcyA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiByZWNhbGNQb3NpdGlvbnMoKSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC52aXJ0dWFsUm9vdC5oZWlnaHQgPSB0aGlzLl9nZXRQb3NpdGlvbkFmdGVyKHRoaXMudHJlZU1vZGVsLmdldFZpc2libGVSb290cygpLCAwKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2dldFBvc2l0aW9uQWZ0ZXIobm9kZXMsIHN0YXJ0UG9zKSB7XHJcbiAgICBsZXQgcG9zaXRpb24gPSBzdGFydFBvcztcclxuXHJcbiAgICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XHJcbiAgICAgIG5vZGUucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgcG9zaXRpb24gPSB0aGlzLl9nZXRQb3NpdGlvbkFmdGVyTm9kZShub2RlLCBwb3NpdGlvbik7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2dldFBvc2l0aW9uQWZ0ZXJOb2RlKG5vZGUsIHN0YXJ0UG9zKSB7XHJcbiAgICBsZXQgcG9zaXRpb24gPSBub2RlLmdldFNlbGZIZWlnaHQoKSArIHN0YXJ0UG9zO1xyXG5cclxuICAgIGlmIChub2RlLmNoaWxkcmVuICYmIG5vZGUuaXNFeHBhbmRlZCkgeyAvLyBUQkQ6IGNvbnNpZGVyIGxvYWRpbmcgY29tcG9uZW50IGFzIHdlbGxcclxuICAgICAgcG9zaXRpb24gPSB0aGlzLl9nZXRQb3NpdGlvbkFmdGVyKG5vZGUudmlzaWJsZUNoaWxkcmVuLCBwb3NpdGlvbik7XHJcbiAgICB9XHJcbiAgICBub2RlLmhlaWdodCA9IHBvc2l0aW9uIC0gc3RhcnRQb3M7XHJcbiAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgfVxyXG5cclxuXHJcbiAgY2xlYXIoKSB7XHJcbiAgICB0aGlzLl9kaXNwb3NlLmZvckVhY2goKGQpID0+IGQoKSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNldFZpZXdwb3J0KHZpZXdwb3J0KSB7XHJcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcclxuICAgICAgdmlld3BvcnQsXHJcbiAgICAgIHg6IHZpZXdwb3J0LnNjcm9sbExlZnQsXHJcbiAgICAgIHlCbG9ja3M6IE1hdGgucm91bmQodmlld3BvcnQuc2Nyb2xsVG9wIC8gWV9FUFNJTE9OKSxcclxuICAgICAgdmlld3BvcnRIZWlnaHQ6IHZpZXdwb3J0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNjcm9sbEludG9WaWV3KG5vZGUsIGZvcmNlLCBzY3JvbGxUb01pZGRsZSA9IHRydWUpIHtcclxuICAgIGlmIChmb3JjZSB8fCAvLyBmb3JjZSBzY3JvbGwgdG8gbm9kZVxyXG4gICAgICBub2RlLnBvc2l0aW9uIDwgdGhpcy55IHx8IC8vIG5vZGUgaXMgYWJvdmUgdmlld3BvcnRcclxuICAgICAgbm9kZS5wb3NpdGlvbiArIG5vZGUuZ2V0U2VsZkhlaWdodCgpID4gdGhpcy55ICsgdGhpcy52aWV3cG9ydEhlaWdodCkgeyAvLyBub2RlIGlzIGJlbG93IHZpZXdwb3J0XHJcbiAgICAgIGlmICh0aGlzLnZpZXdwb3J0KSB7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydC5zY3JvbGxUb3AgPSBzY3JvbGxUb01pZGRsZSA/XHJcbiAgICAgICAgICBub2RlLnBvc2l0aW9uIC0gdGhpcy52aWV3cG9ydEhlaWdodCAvIDIgOiAvLyBzY3JvbGwgdG8gbWlkZGxlXHJcbiAgICAgICAgICBub2RlLnBvc2l0aW9uOyAvLyBzY3JvbGwgdG8gc3RhcnRcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0WUJsb2NrcyhNYXRoLmZsb29yKHRoaXMudmlld3BvcnQuc2Nyb2xsVG9wIC8gWV9FUFNJTE9OKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFZpZXdwb3J0Tm9kZXMobm9kZXMpIHtcclxuICAgIGlmICghbm9kZXMpIHJldHVybiBbXTtcclxuXHJcbiAgICBjb25zdCB2aXNpYmxlTm9kZXMgPSBub2Rlcy5maWx0ZXIoKG5vZGUpID0+ICFub2RlLmlzSGlkZGVuKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaXNFbmFibGVkKCkpIHJldHVybiB2aXNpYmxlTm9kZXM7XHJcblxyXG4gICAgaWYgKCF0aGlzLnZpZXdwb3J0SGVpZ2h0IHx8ICF2aXNpYmxlTm9kZXMubGVuZ3RoKSByZXR1cm4gW107XHJcblxyXG4gICAgLy8gU2VhcmNoIGZvciBmaXJzdCBub2RlIGluIHRoZSB2aWV3cG9ydCB1c2luZyBiaW5hcnkgc2VhcmNoXHJcbiAgICAvLyBMb29rIGZvciBmaXJzdCBub2RlIHRoYXQgc3RhcnRzIGFmdGVyIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHZpZXdwb3J0ICh3aXRoIGJ1ZmZlcilcclxuICAgIC8vIE9yIHRoYXQgZW5kcyBhZnRlciB0aGUgYmVnaW5uaW5nIG9mIHRoZSB2aWV3cG9ydFxyXG4gICAgY29uc3QgZmlyc3RJbmRleCA9IGJpbmFyeVNlYXJjaCh2aXNpYmxlTm9kZXMsIChub2RlKSA9PiB7XHJcbiAgICAgIHJldHVybiAobm9kZS5wb3NpdGlvbiArIFlfT0ZGU0VUID4gdGhpcy55KSB8fFxyXG4gICAgICAgICAgICAgKG5vZGUucG9zaXRpb24gKyBub2RlLmhlaWdodCA+IHRoaXMueSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBTZWFyY2ggZm9yIGxhc3Qgbm9kZSBpbiB0aGUgdmlld3BvcnQgdXNpbmcgYmluYXJ5IHNlYXJjaFxyXG4gICAgLy8gTG9vayBmb3IgZmlyc3Qgbm9kZSB0aGF0IHN0YXJ0cyBhZnRlciB0aGUgZW5kIG9mIHRoZSB2aWV3cG9ydCAod2l0aCBidWZmZXIpXHJcbiAgICBjb25zdCBsYXN0SW5kZXggPSBiaW5hcnlTZWFyY2godmlzaWJsZU5vZGVzLCAobm9kZSkgPT4ge1xyXG4gICAgICByZXR1cm4gbm9kZS5wb3NpdGlvbiAtIFlfT0ZGU0VUID4gdGhpcy55ICsgdGhpcy52aWV3cG9ydEhlaWdodDtcclxuICAgIH0sIGZpcnN0SW5kZXgpO1xyXG5cclxuICAgIGNvbnN0IHZpZXdwb3J0Tm9kZXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSBmaXJzdEluZGV4OyBpIDw9IGxhc3RJbmRleDsgaSsrKSB7XHJcbiAgICAgIHZpZXdwb3J0Tm9kZXMucHVzaCh2aXNpYmxlTm9kZXNbaV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2aWV3cG9ydE5vZGVzO1xyXG4gIH1cclxuXHJcbiAgZml4U2Nyb2xsKCkge1xyXG4gICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KDAsIHRoaXMudG90YWxIZWlnaHQgLSB0aGlzLnZpZXdwb3J0SGVpZ2h0KTtcclxuXHJcbiAgICBpZiAodGhpcy55IDwgMCkgdGhpcy5fc2V0WUJsb2NrcygwKTtcclxuICAgIGlmICh0aGlzLnkgPiBtYXhZKSB0aGlzLl9zZXRZQmxvY2tzKG1heFkgLyBZX0VQU0lMT04pO1xyXG4gIH1cclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogSW5qZWN0YWJsZSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbnt0eXBlOiBUcmVlTW9kZWwsIH0sXG5dO1xufVxyXG5cclxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKG5vZGVzLCBjb25kaXRpb24sIGZpcnN0SW5kZXggPSAwKSB7XHJcbiAgbGV0IGluZGV4ID0gZmlyc3RJbmRleDtcclxuICBsZXQgdG9JbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7XHJcblxyXG4gIHdoaWxlIChpbmRleCAhPT0gdG9JbmRleCkge1xyXG4gICAgbGV0IG1pZEluZGV4ID0gTWF0aC5mbG9vcigoaW5kZXggKyB0b0luZGV4KSAvIDIpO1xyXG5cclxuICAgIGlmIChjb25kaXRpb24obm9kZXNbbWlkSW5kZXhdKSkge1xyXG4gICAgICB0b0luZGV4ID0gbWlkSW5kZXg7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaWYgKGluZGV4ID09PSBtaWRJbmRleCkgaW5kZXggPSB0b0luZGV4O1xyXG4gICAgICBlbHNlIGluZGV4ID0gbWlkSW5kZXg7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBpbmRleDtcclxufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","export var KEYS = {\r\n    LEFT: 37,\r\n    UP: 38,\r\n    RIGHT: 39,\r\n    DOWN: 40,\r\n    ENTER: 13,\r\n    SPACE: 32\r\n};\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb25zdGFudHMva2V5cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxJQUFJLEdBQUc7SUFDbEIsSUFBSSxFQUFFLEVBQUU7SUFDUixFQUFFLEVBQUUsRUFBRTtJQUNOLEtBQUssRUFBRSxFQUFFO0lBQ1QsSUFBSSxFQUFFLEVBQUU7SUFDUixLQUFLLEVBQUUsRUFBRTtJQUNULEtBQUssRUFBRSxFQUFFO0NBQ1YsQ0FBQyIsImZpbGUiOiJrZXlzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBLRVlTID0ge1xyXG4gIExFRlQ6IDM3LFxyXG4gIFVQOiAzOCxcclxuICBSSUdIVDogMzksXHJcbiAgRE9XTjogNDAsXHJcbiAgRU5URVI6IDEzLFxyXG4gIFNQQUNFOiAzMlxyXG59O1xyXG4iXX0=","import { KEYS } from '../constants/keys';\r\nimport * as _ from 'lodash';\r\nexport var TREE_ACTIONS = {\r\n    TOGGLE_SELECTED: function (tree, node, $event) { return node && node.toggleActivated(); },\r\n    TOGGLE_SELECTED_MULTI: function (tree, node, $event) { return node && node.toggleActivated(true); },\r\n    SELECT: function (tree, node, $event) { return node.setIsActive(true); },\r\n    DESELECT: function (tree, node, $event) { return node.setIsActive(false); },\r\n    FOCUS: function (tree, node, $event) { return node.focus(); },\r\n    TOGGLE_EXPANDED: function (tree, node, $event) { return node.hasChildren && node.toggleExpanded(); },\r\n    EXPAND: function (tree, node, $event) { return node.expand(); },\r\n    COLLAPSE: function (tree, node, $event) { return node.collapse(); },\r\n    DRILL_DOWN: function (tree, node, $event) { return tree.focusDrillDown(); },\r\n    DRILL_UP: function (tree, node, $event) { return tree.focusDrillUp(); },\r\n    NEXT_NODE: function (tree, node, $event) { return tree.focusNextNode(); },\r\n    PREVIOUS_NODE: function (tree, node, $event) { return tree.focusPreviousNode(); },\r\n    MOVE_NODE: function (tree, node, $event, _a) {\r\n        var from = _a.from, to = _a.to;\r\n        // default action assumes from = node, to = {parent, index}\r\n        if ($event.ctrlKey) {\r\n            tree.copyNode(from, to);\r\n        }\r\n        else {\r\n            tree.moveNode(from, to);\r\n        }\r\n    }\r\n};\r\nvar defaultActionMapping = {\r\n    mouse: {\r\n        click: TREE_ACTIONS.TOGGLE_SELECTED,\r\n        dblClick: null,\r\n        contextMenu: null,\r\n        expanderClick: TREE_ACTIONS.TOGGLE_EXPANDED,\r\n        drop: TREE_ACTIONS.MOVE_NODE\r\n    },\r\n    keys: (_a = {},\r\n        _a[KEYS.RIGHT] = TREE_ACTIONS.DRILL_DOWN,\r\n        _a[KEYS.LEFT] = TREE_ACTIONS.DRILL_UP,\r\n        _a[KEYS.DOWN] = TREE_ACTIONS.NEXT_NODE,\r\n        _a[KEYS.UP] = TREE_ACTIONS.PREVIOUS_NODE,\r\n        _a[KEYS.SPACE] = TREE_ACTIONS.TOGGLE_SELECTED,\r\n        _a[KEYS.ENTER] = TREE_ACTIONS.TOGGLE_SELECTED,\r\n        _a)\r\n};\r\nvar TreeOptions = /** @class */ (function () {\r\n    function TreeOptions(options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.options = options;\r\n        this.actionMapping = _.defaultsDeep({}, this.options.actionMapping, defaultActionMapping);\r\n        if (options.rtl) {\r\n            this.actionMapping.keys[KEYS.RIGHT] = _.get(options, ['actionMapping', 'keys', KEYS.RIGHT]) || TREE_ACTIONS.DRILL_UP;\r\n            this.actionMapping.keys[KEYS.LEFT] = _.get(options, ['actionMapping', 'keys', KEYS.LEFT]) || TREE_ACTIONS.DRILL_DOWN;\r\n        }\r\n    }\r\n    Object.defineProperty(TreeOptions.prototype, \"childrenField\", {\r\n        get: function () { return this.options.childrenField || 'children'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"displayField\", {\r\n        get: function () { return this.options.displayField || 'name'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"idField\", {\r\n        get: function () { return this.options.idField || 'id'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"isExpandedField\", {\r\n        get: function () { return this.options.isExpandedField || 'isExpanded'; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"getChildren\", {\r\n        get: function () { return this.options.getChildren; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"levelPadding\", {\r\n        get: function () { return this.options.levelPadding || 0; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"useVirtualScroll\", {\r\n        get: function () { return this.options.useVirtualScroll; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"animateExpand\", {\r\n        get: function () { return this.options.animateExpand; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"animateSpeed\", {\r\n        get: function () { return this.options.animateSpeed || 30; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"animateAcceleration\", {\r\n        get: function () { return this.options.animateAcceleration || 1.2; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"scrollOnSelect\", {\r\n        get: function () { return this.options.scrollOnSelect === undefined ? true : this.options.scrollOnSelect; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"rtl\", {\r\n        get: function () { return !!this.options.rtl; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeOptions.prototype, \"rootId\", {\r\n        get: function () { return this.options.rootId; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeOptions.prototype.getNodeClone = function (node) {\r\n        if (this.options.getNodeClone) {\r\n            return this.options.getNodeClone(node);\r\n        }\r\n        return _.omit(Object.assign({}, node.data), ['id']);\r\n    };\r\n    TreeOptions.prototype.allowDrop = function (element, to, $event) {\r\n        if (this.options.allowDrop instanceof Function) {\r\n            return this.options.allowDrop(element, to, $event);\r\n        }\r\n        else {\r\n            return this.options.allowDrop === undefined ? true : this.options.allowDrop;\r\n        }\r\n    };\r\n    TreeOptions.prototype.allowDrag = function (node) {\r\n        if (this.options.allowDrag instanceof Function) {\r\n            return this.options.allowDrag(node);\r\n        }\r\n        else {\r\n            return this.options.allowDrag;\r\n        }\r\n    };\r\n    TreeOptions.prototype.nodeClass = function (node) {\r\n        return this.options.nodeClass ? this.options.nodeClass(node) : '';\r\n    };\r\n    TreeOptions.prototype.nodeHeight = function (node) {\r\n        if (node.data.virtual) {\r\n            return 0;\r\n        }\r\n        var nodeHeight = this.options.nodeHeight || 22;\r\n        if (typeof nodeHeight === 'function') {\r\n            nodeHeight = nodeHeight(node);\r\n        }\r\n        // account for drop slots:\r\n        return nodeHeight + (node.index === 0 ? 2 : 1) * this.dropSlotHeight;\r\n    };\r\n    Object.defineProperty(TreeOptions.prototype, \"dropSlotHeight\", {\r\n        get: function () {\r\n            return this.options.dropSlotHeight || 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return TreeOptions;\r\n}());\r\nexport { TreeOptions };\r\nvar _a;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS1vcHRpb25zLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUd6QyxPQUFPLEtBQUssQ0FBQyxNQUFNLFFBQVEsQ0FBQztBQU01QixNQUFNLENBQUMsSUFBTSxZQUFZLEdBQUc7SUFDMUIsZUFBZSxFQUFFLFVBQUMsSUFBZSxFQUFFLElBQWMsRUFBRSxNQUFXLElBQUssT0FBQSxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxFQUE5QixDQUE4QjtJQUNqRyxxQkFBcUIsRUFBRSxVQUFDLElBQWUsRUFBRSxJQUFjLEVBQUUsTUFBVyxJQUFLLE9BQUEsSUFBSSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLEVBQWxDLENBQWtDO0lBQzNHLE1BQU0sRUFBRSxVQUFDLElBQWUsRUFBRSxJQUFjLEVBQUUsTUFBVyxJQUFLLE9BQUEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBdEIsQ0FBc0I7SUFDaEYsUUFBUSxFQUFFLFVBQUMsSUFBZSxFQUFFLElBQWMsRUFBRSxNQUFXLElBQUssT0FBQSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUF2QixDQUF1QjtJQUNuRixLQUFLLEVBQUUsVUFBQyxJQUFlLEVBQUUsSUFBYyxFQUFFLE1BQVcsSUFBSyxPQUFBLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBWixDQUFZO0lBQ3JFLGVBQWUsRUFBRSxVQUFDLElBQWUsRUFBRSxJQUFjLEVBQUUsTUFBVyxJQUFLLE9BQUEsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFLEVBQXpDLENBQXlDO0lBQzVHLE1BQU0sRUFBRSxVQUFDLElBQWUsRUFBRSxJQUFjLEVBQUUsTUFBVyxJQUFLLE9BQUEsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFiLENBQWE7SUFDdkUsUUFBUSxFQUFFLFVB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LENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDeEUsQ0FBQztJQUVELHNCQUFJLHVDQUFjO2FBQWxCO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxJQUFJLENBQUMsQ0FBQztRQUMxQyxDQUFDOzs7T0FBQTtJQUNILGtCQUFDO0FBQUQsQ0F2RUEsQUF1RUMsSUFBQSIsImZpbGUiOiJ0cmVlLW9wdGlvbnMubW9kZWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuL3RyZWUtbm9kZS5tb2RlbCc7XHJcbmltcG9ydCB7IFRyZWVNb2RlbCB9IGZyb20gJy4vdHJlZS5tb2RlbCc7XHJcbmltcG9ydCB7IEtFWVMgfSBmcm9tICcuLi9jb25zdGFudHMva2V5cyc7XHJcbmltcG9ydCB7IElUcmVlT3B0aW9ucyB9IGZyb20gJy4uL2RlZnMvYXBpJztcclxuXHJcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUFjdGlvbkhhbmRsZXIge1xyXG4gICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSwgLi4ucmVzdCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBUUkVFX0FDVElPTlMgPSB7XHJcbiAgVE9HR0xFX1NFTEVDVEVEOiAodHJlZTogVHJlZU1vZGVsLCBub2RlOiBUcmVlTm9kZSwgJGV2ZW50OiBhbnkpID0+IG5vZGUgJiYgbm9kZS50b2dnbGVBY3RpdmF0ZWQoKSxcclxuICBUT0dHTEVfU0VMRUNURURfTVVMVEk6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZSAmJiBub2RlLnRvZ2dsZUFjdGl2YXRlZCh0cnVlKSxcclxuICBTRUxFQ1Q6ICh0cmVlOiBUcmVlTW9kZWwsIG5vZGU6IFRyZWVOb2RlLCAkZXZlbnQ6IGFueSkgPT4gbm9kZS5zZXRJc0FjdGl2ZSh0cnVlKSxcclxuICBERVNFTEVDVDogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiBub2RlLnNldElzQWN0aXZlKGZhbHNlKSxcclxuICBGT0NVUzogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiBub2RlLmZvY3VzKCksXHJcbiAgVE9HR0xFX0VYUEFOREVEOiAodHJlZTogVHJlZU1vZGVsLCBub2RlOiBUcmVlTm9kZSwgJGV2ZW50OiBhbnkpID0+IG5vZGUuaGFzQ2hpbGRyZW4gJiYgbm9kZS50b2dnbGVFeHBhbmRlZCgpLFxyXG4gIEVYUEFORDogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiBub2RlLmV4cGFuZCgpLFxyXG4gIENPTExBUFNFOiAodHJlZTogVHJlZU1vZGVsLCBub2RlOiBUcmVlTm9kZSwgJGV2ZW50OiBhbnkpID0+IG5vZGUuY29sbGFwc2UoKSxcclxuICBEUklMTF9ET1dOOiAodHJlZTogVHJlZU1vZGVsLCBub2RlOiBUcmVlTm9kZSwgJGV2ZW50OiBhbnkpID0+IHRyZWUuZm9jdXNEcmlsbERvd24oKSxcclxuICBEUklMTF9VUDogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiB0cmVlLmZvY3VzRHJpbGxVcCgpLFxyXG4gIE5FWFRfTk9ERTogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiAgdHJlZS5mb2N1c05leHROb2RlKCksXHJcbiAgUFJFVklPVVNfTk9ERTogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55KSA9PiAgdHJlZS5mb2N1c1ByZXZpb3VzTm9kZSgpLFxyXG4gIE1PVkVfTk9ERTogKHRyZWU6IFRyZWVNb2RlbCwgbm9kZTogVHJlZU5vZGUsICRldmVudDogYW55LCB7ZnJvbSAsIHRvfToge2Zyb206IGFueSwgdG86IGFueX0pID0+IHtcclxuICAgIC8vIGRlZmF1bHQgYWN0aW9uIGFzc3VtZXMgZnJvbSA9IG5vZGUsIHRvID0ge3BhcmVudCwgaW5kZXh9XHJcbiAgICBpZiAoJGV2ZW50LmN0cmxLZXkpIHtcclxuICAgICAgdHJlZS5jb3B5Tm9kZShmcm9tLCB0byk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0cmVlLm1vdmVOb2RlKGZyb20sIHRvKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBkZWZhdWx0QWN0aW9uTWFwcGluZzogSUFjdGlvbk1hcHBpbmcgPSB7XHJcbiAgbW91c2U6IHtcclxuICAgIGNsaWNrOiBUUkVFX0FDVElPTlMuVE9HR0xFX1NFTEVDVEVELFxyXG4gICAgZGJsQ2xpY2s6IG51bGwsXHJcbiAgICBjb250ZXh0TWVudTogbnVsbCxcclxuICAgIGV4cGFuZGVyQ2xpY2s6IFRSRUVfQUNUSU9OUy5UT0dHTEVfRVhQQU5ERUQsXHJcbiAgICBkcm9wOiBUUkVFX0FDVElPTlMuTU9WRV9OT0RFXHJcbiAgfSxcclxuICBrZXlzOiB7XHJcbiAgICBbS0VZUy5SSUdIVF06IFRSRUVfQUNUSU9OUy5EUklMTF9ET1dOLFxyXG4gICAgW0tFWVMuTEVGVF06IFRSRUVfQUNUSU9OUy5EUklMTF9VUCxcclxuICAgIFtLRVlTLkRPV05dOiBUUkVFX0FDVElPTlMuTkVYVF9OT0RFLFxyXG4gICAgW0tFWVMuVVBdOiBUUkVFX0FDVElPTlMuUFJFVklPVVNfTk9ERSxcclxuICAgIFtLRVlTLlNQQUNFXTogVFJFRV9BQ1RJT05TLlRPR0dMRV9TRUxFQ1RFRCxcclxuICAgIFtLRVlTLkVOVEVSXTogVFJFRV9BQ1RJT05TLlRPR0dMRV9TRUxFQ1RFRFxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUFjdGlvbk1hcHBpbmcge1xyXG4gIG1vdXNlPzoge1xyXG4gICAgY2xpY2s/OiBJQWN0aW9uSGFuZGxlcixcclxuICAgIGRibENsaWNrPzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBjb250ZXh0TWVudT86IElBY3Rpb25IYW5kbGVyLFxyXG4gICAgZXhwYW5kZXJDbGljaz86IElBY3Rpb25IYW5kbGVyLFxyXG4gICAgZHJhZ1N0YXJ0PzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBkcmFnPzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBkcmFnRW5kPzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBkcmFnT3Zlcj86IElBY3Rpb25IYW5kbGVyLFxyXG4gICAgZHJhZ0xlYXZlPzogSUFjdGlvbkhhbmRsZXIsXHJcbiAgICBkcmFnRW50ZXI/OiBJQWN0aW9uSGFuZGxlcixcclxuICAgIGRyb3A/OiBJQWN0aW9uSGFuZGxlclxyXG4gIH07XHJcbiAga2V5cz86IHtcclxuICAgIFtrZXk6IG51bWJlcl06IElBY3Rpb25IYW5kbGVyXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVPcHRpb25zIHtcclxuICBnZXQgY2hpbGRyZW5GaWVsZCgpOiBzdHJpbmcgeyByZXR1cm4gdGhpcy5vcHRpb25zLmNoaWxkcmVuRmllbGQgfHwgJ2NoaWxkcmVuJzsgfVxyXG4gIGdldCBkaXNwbGF5RmllbGQoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5kaXNwbGF5RmllbGQgfHwgJ25hbWUnOyB9XHJcbiAgZ2V0IGlkRmllbGQoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5pZEZpZWxkIHx8ICdpZCc7IH1cclxuICBnZXQgaXNFeHBhbmRlZEZpZWxkKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLm9wdGlvbnMuaXNFeHBhbmRlZEZpZWxkIHx8ICdpc0V4cGFuZGVkJzsgfVxyXG4gIGdldCBnZXRDaGlsZHJlbigpOiBhbnkgeyByZXR1cm4gdGhpcy5vcHRpb25zLmdldENoaWxkcmVuOyB9XHJcbiAgZ2V0IGxldmVsUGFkZGluZygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5vcHRpb25zLmxldmVsUGFkZGluZyB8fCAwOyB9XHJcbiAgZ2V0IHVzZVZpcnR1YWxTY3JvbGwoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLm9wdGlvbnMudXNlVmlydHVhbFNjcm9sbDsgfVxyXG4gIGdldCBhbmltYXRlRXhwYW5kKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5vcHRpb25zLmFuaW1hdGVFeHBhbmQ7IH1cclxuICBnZXQgYW5pbWF0ZVNwZWVkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLm9wdGlvbnMuYW5pbWF0ZVNwZWVkIHx8IDMwOyB9XHJcbiAgZ2V0IGFuaW1hdGVBY2NlbGVyYXRpb24oKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5hbmltYXRlQWNjZWxlcmF0aW9uIHx8IDEuMjsgfVxyXG4gIGdldCBzY3JvbGxPblNlbGVjdCgpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMub3B0aW9ucy5zY3JvbGxPblNlbGVjdCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHRoaXMub3B0aW9ucy5zY3JvbGxPblNlbGVjdDsgfVxyXG4gIGdldCBydGwoKTogYm9vbGVhbiB7IHJldHVybiAhIXRoaXMub3B0aW9ucy5ydGw7IH1cclxuICBnZXQgcm9vdElkKCk6IGFueSB7cmV0dXJuIHRoaXMub3B0aW9ucy5yb290SWQ7IH1cclxuICBhY3Rpb25NYXBwaW5nOiBJQWN0aW9uTWFwcGluZztcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBvcHRpb25zOiBJVHJlZU9wdGlvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5hY3Rpb25NYXBwaW5nID0gXy5kZWZhdWx0c0RlZXAoe30sIHRoaXMub3B0aW9ucy5hY3Rpb25NYXBwaW5nLCBkZWZhdWx0QWN0aW9uTWFwcGluZyk7XHJcbiAgICBpZiAob3B0aW9ucy5ydGwpIHtcclxuICAgICAgdGhpcy5hY3Rpb25NYXBwaW5nLmtleXNbS0VZUy5SSUdIVF0gPSA8SUFjdGlvbkhhbmRsZXI+Xy5nZXQob3B0aW9ucywgWydhY3Rpb25NYXBwaW5nJywgJ2tleXMnLCBLRVlTLlJJR0hUXSkgfHwgVFJFRV9BQ1RJT05TLkRSSUxMX1VQO1xyXG4gICAgICB0aGlzLmFjdGlvbk1hcHBpbmcua2V5c1tLRVlTLkxFRlRdID0gPElBY3Rpb25IYW5kbGVyPl8uZ2V0KG9wdGlvbnMsIFsnYWN0aW9uTWFwcGluZycsICdrZXlzJywgS0VZUy5MRUZUXSkgfHwgVFJFRV9BQ1RJT05TLkRSSUxMX0RPV047XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXROb2RlQ2xvbmUobm9kZTogVHJlZU5vZGUpOiBhbnkge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5nZXROb2RlQ2xvbmUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXROb2RlQ2xvbmUobm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIF8ub21pdChPYmplY3QuYXNzaWduKHt9LCBub2RlLmRhdGEpLCBbJ2lkJ10pO1xyXG4gIH1cclxuXHJcbiAgYWxsb3dEcm9wKGVsZW1lbnQsIHRvLCAkZXZlbnQ/KTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHJvcCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWxsb3dEcm9wKGVsZW1lbnQsIHRvLCAkZXZlbnQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWxsb3dEcm9wID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5vcHRpb25zLmFsbG93RHJvcDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFsbG93RHJhZyhub2RlOiBUcmVlTm9kZSk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0RyYWcgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmFsbG93RHJhZyhub2RlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYWxsb3dEcmFnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbm9kZUNsYXNzKG5vZGU6IFRyZWVOb2RlKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMubm9kZUNsYXNzID8gdGhpcy5vcHRpb25zLm5vZGVDbGFzcyhub2RlKSA6ICcnO1xyXG4gIH1cclxuXHJcbiAgbm9kZUhlaWdodChub2RlOiBUcmVlTm9kZSk6IG51bWJlciB7XHJcbiAgICBpZiAobm9kZS5kYXRhLnZpcnR1YWwpIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG5vZGVIZWlnaHQgPSB0aGlzLm9wdGlvbnMubm9kZUhlaWdodCB8fCAyMjtcclxuXHJcbiAgICBpZiAodHlwZW9mIG5vZGVIZWlnaHQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgbm9kZUhlaWdodCA9IG5vZGVIZWlnaHQobm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYWNjb3VudCBmb3IgZHJvcCBzbG90czpcclxuICAgIHJldHVybiBub2RlSGVpZ2h0ICsgKG5vZGUuaW5kZXggPT09IDAgPyAgMiA6IDEpICogdGhpcy5kcm9wU2xvdEhlaWdodDtcclxuICB9XHJcblxyXG4gIGdldCBkcm9wU2xvdEhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5kcm9wU2xvdEhlaWdodCB8fCAyO1xyXG4gIH1cclxufVxyXG4iXX0=","export var TREE_EVENTS = {\r\n    toggleExpanded: 'toggleExpanded',\r\n    activate: 'activate',\r\n    deactivate: 'deactivate',\r\n    focus: 'focus',\r\n    blur: 'blur',\r\n    initialized: 'initialized',\r\n    updateData: 'updateData',\r\n    moveNode: 'moveNode',\r\n    copyNode: 'copyNode',\r\n    event: 'event',\r\n    loadNodeChildren: 'loadNodeChildren',\r\n    changeFilter: 'changeFilter',\r\n    stateChange: 'stateChange'\r\n};\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb25zdGFudHMvZXZlbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxJQUFNLFdBQVcsR0FBRztJQUN6QixjQUFjLEVBQUUsZ0JBQWdCO0lBQ2hDLFFBQVEsRUFBRSxVQUFVO0lBQ3BCLFVBQVUsRUFBRSxZQUFZO0lBQ3hCLEtBQUssRUFBRSxPQUFPO0lBQ2QsSUFBSSxFQUFFLE1BQU07SUFDWixXQUFXLEVBQUUsYUFBYTtJQUMxQixVQUFVLEVBQUUsWUFBWTtJQUN4QixRQUFRLEVBQUUsVUFBVTtJQUNwQixRQUFRLEVBQUUsVUFBVTtJQUNwQixLQUFLLEVBQUUsT0FBTztJQUNkLGdCQUFnQixFQUFFLGtCQUFrQjtJQUNwQyxZQUFZLEVBQUUsY0FBYztJQUM1QixXQUFXLEVBQUUsYUFBYTtDQUMzQixDQUFDIiwiZmlsZSI6ImV2ZW50cy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVFJFRV9FVkVOVFMgPSB7XHJcbiAgdG9nZ2xlRXhwYW5kZWQ6ICd0b2dnbGVFeHBhbmRlZCcsXHJcbiAgYWN0aXZhdGU6ICdhY3RpdmF0ZScsXHJcbiAgZGVhY3RpdmF0ZTogJ2RlYWN0aXZhdGUnLFxyXG4gIGZvY3VzOiAnZm9jdXMnLFxyXG4gIGJsdXI6ICdibHVyJyxcclxuICBpbml0aWFsaXplZDogJ2luaXRpYWxpemVkJyxcclxuICB1cGRhdGVEYXRhOiAndXBkYXRlRGF0YScsXHJcbiAgbW92ZU5vZGU6ICdtb3ZlTm9kZScsXHJcbiAgY29weU5vZGU6ICdjb3B5Tm9kZScsXHJcbiAgZXZlbnQ6ICdldmVudCcsXHJcbiAgbG9hZE5vZGVDaGlsZHJlbjogJ2xvYWROb2RlQ2hpbGRyZW4nLFxyXG4gIGNoYW5nZUZpbHRlcjogJ2NoYW5nZUZpbHRlcicsXHJcbiAgc3RhdGVDaGFuZ2U6ICdzdGF0ZUNoYW5nZSdcclxufTtcclxuIl19","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { observable, computed, action, autorun } from 'mobx';\r\nimport { TreeNode } from './tree-node.model';\r\nimport { TreeOptions } from './tree-options.model';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nimport * as _ from 'lodash';\r\nvar first = _.first, last = _.last, compact = _.compact, find = _.find, includes = _.includes, isString = _.isString, isFunction = _.isFunction;\r\nvar TreeModel = /** @class */ (function () {\r\n    function TreeModel() {\r\n        this.options = new TreeOptions();\r\n        this.eventNames = Object.keys(TREE_EVENTS);\r\n        this.expandedNodeIds = {};\r\n        this.activeNodeIds = {};\r\n        this.hiddenNodeIds = {};\r\n        this.focusedNodeId = null;\r\n        this.firstUpdate = true;\r\n    }\r\n    // events\r\n    TreeModel.prototype.fireEvent = function (event) {\r\n        event.treeModel = this;\r\n        this.events[event.eventName].emit(event);\r\n        this.events.event.emit(event);\r\n    };\r\n    TreeModel.prototype.subscribe = function (eventName, fn) {\r\n        this.events[eventName].subscribe(fn);\r\n    };\r\n    // getters\r\n    TreeModel.prototype.getFocusedNode = function () {\r\n        return this.focusedNode;\r\n    };\r\n    TreeModel.prototype.getActiveNode = function () {\r\n        return this.activeNodes[0];\r\n    };\r\n    TreeModel.prototype.getActiveNodes = function () {\r\n        return this.activeNodes;\r\n    };\r\n    TreeModel.prototype.getVisibleRoots = function () {\r\n        return this.virtualRoot.visibleChildren;\r\n    };\r\n    TreeModel.prototype.getFirstRoot = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return first(skipHidden ? this.getVisibleRoots() : this.roots);\r\n    };\r\n    TreeModel.prototype.getLastRoot = function (skipHidden) {\r\n        if (skipHidden === void 0) { skipHidden = false; }\r\n        return last(skipHidden ? this.getVisibleRoots() : this.roots);\r\n    };\r\n    Object.defineProperty(TreeModel.prototype, \"isFocused\", {\r\n        get: function () {\r\n            return TreeModel.focusedTree === this;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeModel.prototype.isNodeFocused = function (node) {\r\n        return this.focusedNode === node;\r\n    };\r\n    TreeModel.prototype.isEmptyTree = function () {\r\n        return this.roots && this.roots.length === 0;\r\n    };\r\n    Object.defineProperty(TreeModel.prototype, \"focusedNode\", {\r\n        get: function () {\r\n            return this.focusedNodeId ? this.getNodeById(this.focusedNodeId) : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeModel.prototype, \"expandedNodes\", {\r\n        get: function () {\r\n            var _this = this;\r\n            var nodes = Object.keys(this.expandedNodeIds)\r\n                .filter(function (id) { return _this.expandedNodeIds[id]; })\r\n                .map(function (id) { return _this.getNodeById(id); });\r\n            return compact(nodes);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeModel.prototype, \"activeNodes\", {\r\n        get: function () {\r\n            var _this = this;\r\n            var nodes = Object.keys(this.activeNodeIds)\r\n                .filter(function (id) { return _this.activeNodeIds[id]; })\r\n                .map(function (id) { return _this.getNodeById(id); });\r\n            return compact(nodes);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // locating nodes\r\n    TreeModel.prototype.getNodeByPath = function (path, startNode) {\r\n        if (startNode === void 0) { startNode = null; }\r\n        if (!path)\r\n            return null;\r\n        startNode = startNode || this.virtualRoot;\r\n        if (path.length === 0)\r\n            return startNode;\r\n        if (!startNode.children)\r\n            return null;\r\n        var childId = path.shift();\r\n        var childNode = find(startNode.children, { id: childId });\r\n        if (!childNode)\r\n            return null;\r\n        return this.getNodeByPath(path, childNode);\r\n    };\r\n    TreeModel.prototype.getNodeById = function (id) {\r\n        var idStr = id.toString();\r\n        return this.getNodeBy(function (node) { return node.id.toString() === idStr; });\r\n    };\r\n    TreeModel.prototype.getNodeBy = function (predicate, startNode) {\r\n        if (startNode === void 0) { startNode = null; }\r\n        startNode = startNode || this.virtualRoot;\r\n        if (!startNode.children)\r\n            return null;\r\n        var found = find(startNode.children, predicate);\r\n        if (found) {\r\n            return found;\r\n        }\r\n        else {\r\n            for (var _i = 0, _a = startNode.children; _i < _a.length; _i++) {\r\n                var child = _a[_i];\r\n                var foundInChildren = this.getNodeBy(predicate, child);\r\n                if (foundInChildren)\r\n                    return foundInChildren;\r\n            }\r\n        }\r\n    };\r\n    TreeModel.prototype.isExpanded = function (node) {\r\n        return this.expandedNodeIds[node.id];\r\n    };\r\n    TreeModel.prototype.isHidden = function (node) {\r\n        return this.hiddenNodeIds[node.id];\r\n    };\r\n    TreeModel.prototype.isActive = function (node) {\r\n        return this.activeNodeIds[node.id];\r\n    };\r\n    // actions\r\n    TreeModel.prototype.setData = function (_a) {\r\n        var nodes = _a.nodes, _b = _a.options, options = _b === void 0 ? null : _b, _c = _a.events, events = _c === void 0 ? null : _c;\r\n        if (options) {\r\n            this.options = new TreeOptions(options);\r\n        }\r\n        if (events) {\r\n            this.events = events;\r\n        }\r\n        if (nodes) {\r\n            this.nodes = nodes;\r\n        }\r\n        this.update();\r\n    };\r\n    TreeModel.prototype.update = function () {\r\n        // Rebuild tree:\r\n        var virtualRootConfig = (_a = {\r\n                id: this.options.rootId,\r\n                virtual: true\r\n            },\r\n            _a[this.options.childrenField] = this.nodes,\r\n            _a);\r\n        this.virtualRoot = new TreeNode(virtualRootConfig, null, this, 0);\r\n        this.roots = this.virtualRoot.children;\r\n        // Fire event:\r\n        if (this.firstUpdate) {\r\n            if (this.roots) {\r\n                this.firstUpdate = false;\r\n                this._calculateExpandedNodes();\r\n            }\r\n        }\r\n        else {\r\n            this.fireEvent({ eventName: TREE_EVENTS.updateData });\r\n        }\r\n        var _a;\r\n    };\r\n    TreeModel.prototype.setFocusedNode = function (node) {\r\n        this.focusedNodeId = node ? node.id : null;\r\n    };\r\n    TreeModel.prototype.setFocus = function (value) {\r\n        TreeModel.focusedTree = value ? this : null;\r\n    };\r\n    TreeModel.prototype.doForAll = function (fn) {\r\n        this.roots.forEach(function (root) { return root.doForAll(fn); });\r\n    };\r\n    TreeModel.prototype.focusNextNode = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        var nextNode = previousNode ? previousNode.findNextNode(true, true) : this.getFirstRoot(true);\r\n        if (nextNode)\r\n            nextNode.focus();\r\n    };\r\n    TreeModel.prototype.focusPreviousNode = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        var nextNode = previousNode ? previousNode.findPreviousNode(true) : this.getLastRoot(true);\r\n        if (nextNode)\r\n            nextNode.focus();\r\n    };\r\n    TreeModel.prototype.focusDrillDown = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        if (previousNode && previousNode.isCollapsed && previousNode.hasChildren) {\r\n            previousNode.toggleExpanded();\r\n        }\r\n        else {\r\n            var nextNode = previousNode ? previousNode.getFirstChild(true) : this.getFirstRoot(true);\r\n            if (nextNode)\r\n                nextNode.focus();\r\n        }\r\n    };\r\n    TreeModel.prototype.focusDrillUp = function () {\r\n        var previousNode = this.getFocusedNode();\r\n        if (!previousNode)\r\n            return;\r\n        if (previousNode.isExpanded) {\r\n            previousNode.toggleExpanded();\r\n        }\r\n        else {\r\n            var nextNode = previousNode.realParent;\r\n            if (nextNode)\r\n                nextNode.focus();\r\n        }\r\n    };\r\n    TreeModel.prototype.setActiveNode = function (node, value, multi) {\r\n        if (multi === void 0) { multi = false; }\r\n        if (multi) {\r\n            this._setActiveNodeMulti(node, value);\r\n        }\r\n        else {\r\n            this._setActiveNodeSingle(node, value);\r\n        }\r\n        if (value) {\r\n            node.focus();\r\n            this.fireEvent({ eventName: TREE_EVENTS.activate, node: node });\r\n        }\r\n        else {\r\n            this.fireEvent({ eventName: TREE_EVENTS.deactivate, node: node });\r\n        }\r\n    };\r\n    TreeModel.prototype.setExpandedNode = function (node, value) {\r\n        this.expandedNodeIds = Object.assign({}, this.expandedNodeIds, (_a = {}, _a[node.id] = value, _a));\r\n        this.fireEvent({ eventName: TREE_EVENTS.toggleExpanded, node: node, isExpanded: value });\r\n        var _a;\r\n    };\r\n    TreeModel.prototype.expandAll = function () {\r\n        this.roots.forEach(function (root) { return root.expandAll(); });\r\n    };\r\n    TreeModel.prototype.collapseAll = function () {\r\n        this.roots.forEach(function (root) { return root.collapseAll(); });\r\n    };\r\n    TreeModel.prototype.setIsHidden = function (node, value) {\r\n        this.hiddenNodeIds = Object.assign({}, this.hiddenNodeIds, (_a = {}, _a[node.id] = value, _a));\r\n        var _a;\r\n    };\r\n    TreeModel.prototype.setHiddenNodeIds = function (nodeIds) {\r\n        this.hiddenNodeIds = nodeIds.reduce(function (id, hiddenNodeIds) {\r\n            return Object.assign(hiddenNodeIds, (_a = {},\r\n                _a[id] = true,\r\n                _a));\r\n            var _a;\r\n        }, {});\r\n    };\r\n    TreeModel.prototype.performKeyAction = function (node, $event) {\r\n        var action = this.options.actionMapping.keys[$event.keyCode];\r\n        if (action) {\r\n            $event.preventDefault();\r\n            action(this, node, $event);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n    TreeModel.prototype.filterNodes = function (filter, autoShow) {\r\n        var _this = this;\r\n        if (autoShow === void 0) { autoShow = true; }\r\n        var filterFn;\r\n        if (!filter) {\r\n            return this.clearFilter();\r\n        }\r\n        // support function and string filter\r\n        if (isString(filter)) {\r\n            filterFn = function (node) { return node.displayField.toLowerCase().indexOf(filter.toLowerCase()) !== -1; };\r\n        }\r\n        else if (isFunction(filter)) {\r\n            filterFn = filter;\r\n        }\r\n        else {\r\n            console.error('Don\\'t know what to do with filter', filter);\r\n            console.error('Should be either a string or function');\r\n            return;\r\n        }\r\n        var ids = {};\r\n        this.roots.forEach(function (node) { return _this._filterNode(ids, node, filterFn, autoShow); });\r\n        this.hiddenNodeIds = ids;\r\n        this.fireEvent({ eventName: TREE_EVENTS.changeFilter });\r\n    };\r\n    TreeModel.prototype.clearFilter = function () {\r\n        this.hiddenNodeIds = {};\r\n        this.fireEvent({ eventName: TREE_EVENTS.changeFilter });\r\n    };\r\n    TreeModel.prototype.moveNode = function (node, to) {\r\n        var fromIndex = node.getIndexInParent();\r\n        var fromParent = node.parent;\r\n        if (!this._canMoveNode(node, fromIndex, to))\r\n            return;\r\n        var fromChildren = fromParent.getField('children');\r\n        // If node doesn't have children - create children array\r\n        if (!to.parent.getField('children')) {\r\n            to.parent.setField('children', []);\r\n        }\r\n        var toChildren = to.parent.getField('children');\r\n        var originalNode = fromChildren.splice(fromIndex, 1)[0];\r\n        // Compensate for index if already removed from parent:\r\n        var toIndex = (fromParent === to.parent && to.index > fromIndex) ? to.index - 1 : to.index;\r\n        toChildren.splice(toIndex, 0, originalNode);\r\n        fromParent.treeModel.update();\r\n        if (to.parent.treeModel !== fromParent.treeModel) {\r\n            to.parent.treeModel.update();\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.moveNode, node: originalNode, to: { parent: to.parent.data, index: toIndex } });\r\n    };\r\n    TreeModel.prototype.copyNode = function (node, to) {\r\n        var fromIndex = node.getIndexInParent();\r\n        if (!this._canMoveNode(node, fromIndex, to))\r\n            return;\r\n        // If node doesn't have children - create children array\r\n        if (!to.parent.getField('children')) {\r\n            to.parent.setField('children', []);\r\n        }\r\n        var toChildren = to.parent.getField('children');\r\n        var nodeCopy = this.options.getNodeClone(node);\r\n        toChildren.splice(to.index, 0, nodeCopy);\r\n        node.treeModel.update();\r\n        if (to.parent.treeModel !== node.treeModel) {\r\n            to.parent.treeModel.update();\r\n        }\r\n        this.fireEvent({ eventName: TREE_EVENTS.copyNode, node: nodeCopy, to: { parent: to.parent.data, index: to.index } });\r\n    };\r\n    TreeModel.prototype.getState = function () {\r\n        return {\r\n            expandedNodeIds: this.expandedNodeIds,\r\n            activeNodeIds: this.activeNodeIds,\r\n            hiddenNodeIds: this.hiddenNodeIds,\r\n            focusedNodeId: this.focusedNodeId\r\n        };\r\n    };\r\n    TreeModel.prototype.setState = function (state) {\r\n        if (!state)\r\n            return;\r\n        Object.assign(this, {\r\n            expandedNodeIds: state.expandedNodeIds || {},\r\n            activeNodeIds: state.activeNodeIds || {},\r\n            hiddenNodeIds: state.hiddenNodeIds || {},\r\n            focusedNodeId: state.focusedNodeId\r\n        });\r\n    };\r\n    TreeModel.prototype.subscribeToState = function (fn) {\r\n        var _this = this;\r\n        autorun(function () { return fn(_this.getState()); });\r\n    };\r\n    // private methods\r\n    TreeModel.prototype._canMoveNode = function (node, fromIndex, to) {\r\n        // same node:\r\n        if (node.parent === to.parent && fromIndex === to.index) {\r\n            return false;\r\n        }\r\n        return !to.parent.isDescendantOf(node);\r\n    };\r\n    TreeModel.prototype._filterNode = function (ids, node, filterFn, autoShow) {\r\n        var _this = this;\r\n        // if node passes function then it's visible\r\n        var isVisible = filterFn(node);\r\n        if (node.children) {\r\n            // if one of node's children passes filter then this node is also visible\r\n            node.children.forEach(function (child) {\r\n                if (_this._filterNode(ids, child, filterFn, autoShow)) {\r\n                    isVisible = true;\r\n                }\r\n            });\r\n        }\r\n        // mark node as hidden\r\n        if (!isVisible) {\r\n            ids[node.id] = true;\r\n        }\r\n        // auto expand parents to make sure the filtered nodes are visible\r\n        if (autoShow && isVisible) {\r\n            node.ensureVisible();\r\n        }\r\n        return isVisible;\r\n    };\r\n    TreeModel.prototype._calculateExpandedNodes = function (startNode) {\r\n        var _this = this;\r\n        if (startNode === void 0) { startNode = null; }\r\n        startNode = startNode || this.virtualRoot;\r\n        if (startNode.data[this.options.isExpandedField]) {\r\n            this.expandedNodeIds = Object.assign({}, this.expandedNodeIds, (_a = {}, _a[startNode.id] = true, _a));\r\n        }\r\n        if (startNode.children) {\r\n            startNode.children.forEach(function (child) { return _this._calculateExpandedNodes(child); });\r\n        }\r\n        var _a;\r\n    };\r\n    TreeModel.prototype._setActiveNodeSingle = function (node, value) {\r\n        var _this = this;\r\n        // Deactivate all other nodes:\r\n        this.activeNodes\r\n            .filter(function (activeNode) { return activeNode !== node; })\r\n            .forEach(function (activeNode) {\r\n            _this.fireEvent({ eventName: TREE_EVENTS.deactivate, node: activeNode });\r\n        });\r\n        if (value) {\r\n            this.activeNodeIds = (_a = {}, _a[node.id] = true, _a);\r\n        }\r\n        else {\r\n            this.activeNodeIds = {};\r\n        }\r\n        var _a;\r\n    };\r\n    TreeModel.prototype._setActiveNodeMulti = function (node, value) {\r\n        this.activeNodeIds = Object.assign({}, this.activeNodeIds, (_a = {}, _a[node.id] = value, _a));\r\n        var _a;\r\n    };\r\n    TreeModel.focusedTree = null;\r\n    TreeModel.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeModel.ctorParameters = function () { return []; };\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Array)\r\n    ], TreeModel.prototype, \"roots\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"expandedNodeIds\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"activeNodeIds\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"hiddenNodeIds\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeModel.prototype, \"focusedNodeId\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", TreeNode)\r\n    ], TreeModel.prototype, \"virtualRoot\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeModel.prototype, \"focusedNode\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeModel.prototype, \"expandedNodes\", null);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", Object),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeModel.prototype, \"activeNodes\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setData\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"update\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setFocusedNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setFocus\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"doForAll\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusNextNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusPreviousNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusDrillDown\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"focusDrillUp\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setActiveNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setExpandedNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"expandAll\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"collapseAll\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setIsHidden\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setHiddenNodeIds\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"filterNodes\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"clearFilter\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"moveNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"copyNode\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeModel.prototype, \"setState\", null);\r\n    return TreeModel;\r\n}());\r\nexport { TreeModel };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBQSxFQUF5QixNQUFPLGVBQUEsQ0FBZ0I7QUFDekQsT0FBTyxFQUFFLFVBQUEsRUFBWSxRQUFBLEVBQVUsTUFBQSxFQUFRLE9BQUEsRUFBUSxNQUFPLE1BQUEsQ0FBTztBQUM3RCxPQUFPLEVBQUUsUUFBQSxFQUFTLE1BQU8sbUJBQUEsQ0FBb0I7QUFDN0MsT0FBTyxFQUFFLFdBQUEsRUFBWSxNQUFPLHNCQUFBLENBQXVCO0FBR25ELE9BQU8sRUFBRSxXQUFBLEVBQVksTUFBTyxxQkFBQSxDQUFzQjtBQUVsRCxPQUFPLEtBQUssQ0FBQSxNQUFPLFFBQUEsQ0FBUztBQUVwQixJQUFBLGVBQUEsRUFBTyxhQUFBLEVBQU0sbUJBQUEsRUFBUyxhQUFBLEVBQU0scUJBQUEsRUFBVSxxQkFBQSxFQUFVLHlCQUFBLENBQWlCO0FBR3pFO0lBQUE7UUFHRSxZQUFPLEdBQWdCLElBQUksV0FBVyxFQUFFLENBQUM7UUFFekMsZUFBVSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFJMUIsb0JBQWUsR0FBcUIsRUFBRSxDQUFDO1FBQ3ZDLGtCQUFhLEdBQXFCLEVBQUUsQ0FBQztRQUNyQyxrQkFBYSxHQUFxQixFQUFFLENBQUM7UUFDckMsa0JBQWEsR0FBVyxJQUFJLENBQUM7UUFHakMsZ0JBQVcsR0FBRyxJQUFJLENBQUM7SUF3YjdCLENBQUM7SUFyYkMsU0FBUztJQUNULDZCQUFTLEdBQVQsVUFBVSxLQUFLO1FBQ2IsS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFL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TTs7OztzREFJTjtJQUVPO1FBQVAsTUFBTTs7OzttREFTTjtJQUVPO1FBQVAsTUFBTTs7OztpREFVTjtJQUVPO1FBQVAsTUFBTTs7OztrREFjTjtJQUVPO1FBQVAsTUFBTTs7OztvREFHTjtJQUVPO1FBQVAsTUFBTTs7Ozs4Q0FFTjtJQUVPO1FBQVAsTUFBTTs7OztnREFFTjtJQUVPO1FBQVAsTUFBTTs7OztnREFFTjtJQUVPO1FBQVAsTUFBTTs7OztxREFJTjtJQWFPO1FBQVAsTUFBTTs7OztnREF3Qk47SUFFTztRQUFQLE1BQU07Ozs7Z0RBR047SUFFTztRQUFQLE1BQU07Ozs7NkNBMkJOO0lBRU87UUFBUCxNQUFNOzs7OzZDQXFCTjtJQVdPO1FBQVAsTUFBTTs7Ozs2Q0FTTjtJQThFSCxnQkFBQztDQXZjRCxBQXVjQyxJQUFBO1NBdmNZLFNBQVMiLCJmaWxlIjoidHJlZS5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgb2JzZXJ2YWJsZSwgY29tcHV0ZWQsIGFjdGlvbiwgYXV0b3J1biB9IGZyb20gJ21vYngnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4vdHJlZS1ub2RlLm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZU9wdGlvbnMgfSBmcm9tICcuL3RyZWUtb3B0aW9ucy5tb2RlbCc7XHJcbmltcG9ydCB7IFRyZWVWaXJ0dWFsU2Nyb2xsIH0gZnJvbSAnLi90cmVlLXZpcnR1YWwtc2Nyb2xsLm1vZGVsJztcclxuaW1wb3J0IHsgSVRyZWVNb2RlbCwgSURUeXBlLCBJRFR5cGVEaWN0aW9uYXJ5IH0gZnJvbSAnLi4vZGVmcy9hcGknO1xyXG5pbXBvcnQgeyBUUkVFX0VWRU5UUyB9IGZyb20gJy4uL2NvbnN0YW50cy9ldmVudHMnO1xyXG5cclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xyXG5cclxuY29uc3QgeyBmaXJzdCwgbGFzdCwgY29tcGFjdCwgZmluZCwgaW5jbHVkZXMsIGlzU3RyaW5nLCBpc0Z1bmN0aW9uIH0gPSBfO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTW9kZWwgaW1wbGVtZW50cyBJVHJlZU1vZGVsIHtcclxuICBzdGF0aWMgZm9jdXNlZFRyZWUgPSBudWxsO1xyXG5cclxuICBvcHRpb25zOiBUcmVlT3B0aW9ucyA9IG5ldyBUcmVlT3B0aW9ucygpO1xyXG4gIG5vZGVzOiBhbnlbXTtcclxuICBldmVudE5hbWVzID0gT2JqZWN0LmtleXMoVFJFRV9FVkVOVFMpO1xyXG4gIHZpcnR1YWxTY3JvbGw6IFRyZWVWaXJ0dWFsU2Nyb2xsO1xyXG5cclxuICBAb2JzZXJ2YWJsZSByb290czogVHJlZU5vZGVbXTtcclxuICBAb2JzZXJ2YWJsZSBleHBhbmRlZE5vZGVJZHM6IElEVHlwZURpY3Rpb25hcnkgPSB7fTtcclxuICBAb2JzZXJ2YWJsZSBhY3RpdmVOb2RlSWRzOiBJRFR5cGVEaWN0aW9uYXJ5ID0ge307XHJcbiAgQG9ic2VydmFibGUgaGlkZGVuTm9kZUlkczogSURUeXBlRGljdGlvbmFyeSA9IHt9O1xyXG4gIEBvYnNlcnZhYmxlIGZvY3VzZWROb2RlSWQ6IElEVHlwZSA9IG51bGw7XHJcbiAgQG9ic2VydmFibGUgdmlydHVhbFJvb3Q6IFRyZWVOb2RlO1xyXG5cclxuICBwcml2YXRlIGZpcnN0VXBkYXRlID0gdHJ1ZTtcclxuICBwcml2YXRlIGV2ZW50czogYW55O1xyXG5cclxuICAvLyBldmVudHNcclxuICBmaXJlRXZlbnQoZXZlbnQpIHtcclxuICAgIGV2ZW50LnRyZWVNb2RlbCA9IHRoaXM7XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudC5ldmVudE5hbWVdLmVtaXQoZXZlbnQpO1xyXG4gICAgdGhpcy5ldmVudHMuZXZlbnQuZW1pdChldmVudCk7XHJcbiAgfVxyXG5cclxuICBzdWJzY3JpYmUoZXZlbnROYW1lLCBmbikge1xyXG4gICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXS5zdWJzY3JpYmUoZm4pO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIGdldHRlcnNcclxuICBnZXRGb2N1c2VkTm9kZSgpOiBUcmVlTm9kZSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb2N1c2VkTm9kZTtcclxuICB9XHJcblxyXG5cclxuICBnZXRBY3RpdmVOb2RlKCk6IFRyZWVOb2RlIHtcclxuICAgIHJldHVybiB0aGlzLmFjdGl2ZU5vZGVzWzBdO1xyXG4gIH1cclxuXHJcbiAgZ2V0QWN0aXZlTm9kZXMoKTogVHJlZU5vZGVbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVOb2RlcztcclxuICB9XHJcblxyXG4gIGdldFZpc2libGVSb290cygpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxSb290LnZpc2libGVDaGlsZHJlbjtcclxuICB9XHJcblxyXG4gIGdldEZpcnN0Um9vdChza2lwSGlkZGVuID0gZmFsc2UpIHtcclxuICAgIHJldHVybiBmaXJzdChza2lwSGlkZGVuID8gdGhpcy5nZXRWaXNpYmxlUm9vdHMoKSA6IHRoaXMucm9vdHMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0TGFzdFJvb3Qoc2tpcEhpZGRlbiA9IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gbGFzdChza2lwSGlkZGVuID8gdGhpcy5nZXRWaXNpYmxlUm9vdHMoKSA6IHRoaXMucm9vdHMpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGlzRm9jdXNlZCgpIHtcclxuICAgIHJldHVybiBUcmVlTW9kZWwuZm9jdXNlZFRyZWUgPT09IHRoaXM7XHJcbiAgfVxyXG5cclxuICBpc05vZGVGb2N1c2VkKG5vZGUpIHtcclxuICAgIHJldHVybiB0aGlzLmZvY3VzZWROb2RlID09PSBub2RlO1xyXG4gIH1cclxuXHJcbiAgaXNFbXB0eVRyZWUoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5yb290cyAmJiB0aGlzLnJvb3RzLmxlbmd0aCA9PT0gMDtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZCBnZXQgZm9jdXNlZE5vZGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5mb2N1c2VkTm9kZUlkID8gdGhpcy5nZXROb2RlQnlJZCh0aGlzLmZvY3VzZWROb2RlSWQpIDogbnVsbDtcclxuICB9XHJcblxyXG4gIEBjb21wdXRlZCBnZXQgZXhwYW5kZWROb2RlcygpIHtcclxuICAgIGNvbnN0IG5vZGVzID0gT2JqZWN0LmtleXModGhpcy5leHBhbmRlZE5vZGVJZHMpXHJcbiAgICAgIC5maWx0ZXIoKGlkKSA9PiB0aGlzLmV4cGFuZGVkTm9kZUlkc1tpZF0pXHJcbiAgICAgIC5tYXAoKGlkKSA9PiB0aGlzLmdldE5vZGVCeUlkKGlkKSk7XHJcblxyXG4gICAgcmV0dXJuIGNvbXBhY3Qobm9kZXMpO1xyXG4gIH1cclxuXHJcbiAgQGNvbXB1dGVkIGdldCBhY3RpdmVOb2RlcygpIHtcclxuICAgIGNvbnN0IG5vZGVzID0gT2JqZWN0LmtleXModGhpcy5hY3RpdmVOb2RlSWRzKVxyXG4gICAgICAuZmlsdGVyKChpZCkgPT4gdGhpcy5hY3RpdmVOb2RlSWRzW2lkXSlcclxuICAgICAgLm1hcCgoaWQpID0+IHRoaXMuZ2V0Tm9kZUJ5SWQoaWQpKTtcclxuXHJcbiAgICByZXR1cm4gY29tcGFjdChub2Rlcyk7XHJcbiAgfVxyXG5cclxuICAvLyBsb2NhdGluZyBub2Rlc1xyXG4gIGdldE5vZGVCeVBhdGgocGF0aDogYW55W10sIHN0YXJ0Tm9kZT0gbnVsbCk6IFRyZWVOb2RlIHtcclxuICAgIGlmICghcGF0aCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgc3RhcnROb2RlID0gc3RhcnROb2RlIHx8IHRoaXMudmlydHVhbFJvb3Q7XHJcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHJldHVybiBzdGFydE5vZGU7XHJcblxyXG4gICAgaWYgKCFzdGFydE5vZGUuY2hpbGRyZW4pIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IGNoaWxkSWQgPSBwYXRoLnNoaWZ0KCk7XHJcbiAgICBjb25zdCBjaGlsZE5vZGUgPSBmaW5kKHN0YXJ0Tm9kZS5jaGlsZHJlbiwgeyBpZDogY2hpbGRJZCB9KTtcclxuXHJcbiAgICBpZiAoIWNoaWxkTm9kZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5UGF0aChwYXRoLCBjaGlsZE5vZGUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Tm9kZUJ5SWQoaWQpIHtcclxuICAgIGNvbnN0IGlkU3RyID0gaWQudG9TdHJpbmcoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5nZXROb2RlQnkoKG5vZGUpID0+IG5vZGUuaWQudG9TdHJpbmcoKSA9PT0gaWRTdHIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Tm9kZUJ5KHByZWRpY2F0ZSwgc3RhcnROb2RlID0gbnVsbCkge1xyXG4gICAgc3RhcnROb2RlID0gc3RhcnROb2RlIHx8IHRoaXMudmlydHVhbFJvb3Q7XHJcblxyXG4gICAgaWYgKCFzdGFydE5vZGUuY2hpbGRyZW4pIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IGZvdW5kID0gZmluZChzdGFydE5vZGUuY2hpbGRyZW4sIHByZWRpY2F0ZSk7XHJcblxyXG4gICAgaWYgKGZvdW5kKSB7IC8vIGZvdW5kIGluIGNoaWxkcmVuXHJcbiAgICAgIHJldHVybiBmb3VuZDtcclxuICAgIH0gZWxzZSB7IC8vIGxvb2sgaW4gY2hpbGRyZW4ncyBjaGlsZHJlblxyXG4gICAgICBmb3IgKGxldCBjaGlsZCBvZiBzdGFydE5vZGUuY2hpbGRyZW4pIHtcclxuICAgICAgICBjb25zdCBmb3VuZEluQ2hpbGRyZW4gPSB0aGlzLmdldE5vZGVCeShwcmVkaWNhdGUsIGNoaWxkKTtcclxuICAgICAgICBpZiAoZm91bmRJbkNoaWxkcmVuKSByZXR1cm4gZm91bmRJbkNoaWxkcmVuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc0V4cGFuZGVkKG5vZGUpIHtcclxuICAgIHJldHVybiB0aGlzLmV4cGFuZGVkTm9kZUlkc1tub2RlLmlkXTtcclxuICB9XHJcblxyXG4gIGlzSGlkZGVuKG5vZGUpIHtcclxuICAgIHJldHVybiB0aGlzLmhpZGRlbk5vZGVJZHNbbm9kZS5pZF07XHJcbiAgfVxyXG5cclxuICBpc0FjdGl2ZShub2RlKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVOb2RlSWRzW25vZGUuaWRdO1xyXG4gIH1cclxuXHJcbiAgLy8gYWN0aW9uc1xyXG4gIEBhY3Rpb24gc2V0RGF0YSh7IG5vZGVzLCBvcHRpb25zID0gbnVsbCwgZXZlbnRzID0gbnVsbCB9OiB7bm9kZXM6IGFueSwgb3B0aW9uczogYW55LCBldmVudHM6IGFueX0pIHtcclxuICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucyA9IG5ldyBUcmVlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgIH1cclxuICAgIGlmIChldmVudHMpIHtcclxuICAgICAgdGhpcy5ldmVudHMgPSBldmVudHM7XHJcbiAgICB9XHJcbiAgICBpZiAobm9kZXMpIHtcclxuICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHVwZGF0ZSgpIHtcclxuICAgIC8vIFJlYnVpbGQgdHJlZTpcclxuICAgIGxldCB2aXJ0dWFsUm9vdENvbmZpZyA9IHtcclxuICAgICAgaWQ6IHRoaXMub3B0aW9ucy5yb290SWQsXHJcbiAgICAgIHZpcnR1YWw6IHRydWUsXHJcbiAgICAgIFt0aGlzLm9wdGlvbnMuY2hpbGRyZW5GaWVsZF06IHRoaXMubm9kZXNcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy52aXJ0dWFsUm9vdCA9IG5ldyBUcmVlTm9kZSh2aXJ0dWFsUm9vdENvbmZpZywgbnVsbCwgdGhpcywgMCk7XHJcblxyXG4gICAgdGhpcy5yb290cyA9IHRoaXMudmlydHVhbFJvb3QuY2hpbGRyZW47XHJcblxyXG4gICAgLy8gRmlyZSBldmVudDpcclxuICAgIGlmICh0aGlzLmZpcnN0VXBkYXRlKSB7XHJcbiAgICAgIGlmICh0aGlzLnJvb3RzKSB7XHJcbiAgICAgICAgdGhpcy5maXJzdFVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUV4cGFuZGVkTm9kZXMoKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLnVwZGF0ZURhdGEgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgQGFjdGlvbiBzZXRGb2N1c2VkTm9kZShub2RlKSB7XHJcbiAgICB0aGlzLmZvY3VzZWROb2RlSWQgPSBub2RlID8gbm9kZS5pZCA6IG51bGw7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNldEZvY3VzKHZhbHVlKSB7XHJcbiAgICBUcmVlTW9kZWwuZm9jdXNlZFRyZWUgPSB2YWx1ZSA/IHRoaXMgOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBkb0ZvckFsbChmbikge1xyXG4gICAgdGhpcy5yb290cy5mb3JFYWNoKChyb290KSA9PiByb290LmRvRm9yQWxsKGZuKSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIGZvY3VzTmV4dE5vZGUoKSB7XHJcbiAgICBsZXQgcHJldmlvdXNOb2RlID0gdGhpcy5nZXRGb2N1c2VkTm9kZSgpO1xyXG4gICAgbGV0IG5leHROb2RlID0gcHJldmlvdXNOb2RlID8gcHJldmlvdXNOb2RlLmZpbmROZXh0Tm9kZSh0cnVlLCB0cnVlKSA6IHRoaXMuZ2V0Rmlyc3RSb290KHRydWUpO1xyXG4gICAgaWYgKG5leHROb2RlKSBuZXh0Tm9kZS5mb2N1cygpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBmb2N1c1ByZXZpb3VzTm9kZSgpIHtcclxuICAgIGxldCBwcmV2aW91c05vZGUgPSB0aGlzLmdldEZvY3VzZWROb2RlKCk7XHJcbiAgICBsZXQgbmV4dE5vZGUgPSBwcmV2aW91c05vZGUgPyBwcmV2aW91c05vZGUuZmluZFByZXZpb3VzTm9kZSh0cnVlKSA6IHRoaXMuZ2V0TGFzdFJvb3QodHJ1ZSk7XHJcbiAgICBpZiAobmV4dE5vZGUpIG5leHROb2RlLmZvY3VzKCk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIGZvY3VzRHJpbGxEb3duKCkge1xyXG4gICAgbGV0IHByZXZpb3VzTm9kZSA9IHRoaXMuZ2V0Rm9jdXNlZE5vZGUoKTtcclxuICAgIGlmIChwcmV2aW91c05vZGUgJiYgcHJldmlvdXNOb2RlLmlzQ29sbGFwc2VkICYmIHByZXZpb3VzTm9kZS5oYXNDaGlsZHJlbikge1xyXG4gICAgICBwcmV2aW91c05vZGUudG9nZ2xlRXhwYW5kZWQoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBsZXQgbmV4dE5vZGUgPSBwcmV2aW91c05vZGUgPyBwcmV2aW91c05vZGUuZ2V0Rmlyc3RDaGlsZCh0cnVlKSA6IHRoaXMuZ2V0Rmlyc3RSb290KHRydWUpO1xyXG4gICAgICBpZiAobmV4dE5vZGUpIG5leHROb2RlLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIGZvY3VzRHJpbGxVcCgpIHtcclxuICAgIGxldCBwcmV2aW91c05vZGUgPSB0aGlzLmdldEZvY3VzZWROb2RlKCk7XHJcbiAgICBpZiAoIXByZXZpb3VzTm9kZSkgcmV0dXJuO1xyXG4gICAgaWYgKHByZXZpb3VzTm9kZS5pc0V4cGFuZGVkKSB7XHJcbiAgICAgIHByZXZpb3VzTm9kZS50b2dnbGVFeHBhbmRlZCgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCBuZXh0Tm9kZSA9IHByZXZpb3VzTm9kZS5yZWFsUGFyZW50O1xyXG4gICAgICBpZiAobmV4dE5vZGUpIG5leHROb2RlLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNldEFjdGl2ZU5vZGUobm9kZSwgdmFsdWUsIG11bHRpID0gZmFsc2UpIHtcclxuICAgIGlmIChtdWx0aSkge1xyXG4gICAgICB0aGlzLl9zZXRBY3RpdmVOb2RlTXVsdGkobm9kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIHRoaXMuX3NldEFjdGl2ZU5vZGVTaW5nbGUobm9kZSwgdmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICBub2RlLmZvY3VzKCk7XHJcbiAgICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5hY3RpdmF0ZSwgbm9kZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5kZWFjdGl2YXRlLCBub2RlIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBzZXRFeHBhbmRlZE5vZGUobm9kZSwgdmFsdWUpIHtcclxuICAgIHRoaXMuZXhwYW5kZWROb2RlSWRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5leHBhbmRlZE5vZGVJZHMsIHtbbm9kZS5pZF06IHZhbHVlfSk7XHJcbiAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMudG9nZ2xlRXhwYW5kZWQsIG5vZGUsIGlzRXhwYW5kZWQ6IHZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBleHBhbmRBbGwoKSB7XHJcbiAgICB0aGlzLnJvb3RzLmZvckVhY2goKHJvb3QpID0+IHJvb3QuZXhwYW5kQWxsKCkpO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBjb2xsYXBzZUFsbCgpIHtcclxuICAgIHRoaXMucm9vdHMuZm9yRWFjaCgocm9vdCkgPT4gcm9vdC5jb2xsYXBzZUFsbCgpKTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gc2V0SXNIaWRkZW4obm9kZSwgdmFsdWUpIHtcclxuICAgIHRoaXMuaGlkZGVuTm9kZUlkcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaGlkZGVuTm9kZUlkcywge1tub2RlLmlkXTogdmFsdWV9KTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gc2V0SGlkZGVuTm9kZUlkcyhub2RlSWRzKSB7XHJcbiAgICB0aGlzLmhpZGRlbk5vZGVJZHMgPSBub2RlSWRzLnJlZHVjZSgoaWQsIGhpZGRlbk5vZGVJZHMpID0+IE9iamVjdC5hc3NpZ24oaGlkZGVuTm9kZUlkcywge1xyXG4gICAgICBbaWRdOiB0cnVlXHJcbiAgICB9KSwge30pO1xyXG4gIH1cclxuXHJcbiAgcGVyZm9ybUtleUFjdGlvbihub2RlLCAkZXZlbnQpIHtcclxuICAgIGNvbnN0IGFjdGlvbiA9IHRoaXMub3B0aW9ucy5hY3Rpb25NYXBwaW5nLmtleXNbJGV2ZW50LmtleUNvZGVdO1xyXG4gICAgaWYgKGFjdGlvbikge1xyXG4gICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgYWN0aW9uKHRoaXMsIG5vZGUsICRldmVudCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBmaWx0ZXJOb2RlcyhmaWx0ZXIsIGF1dG9TaG93ID0gdHJ1ZSkge1xyXG4gICAgbGV0IGZpbHRlckZuO1xyXG5cclxuICAgIGlmICghZmlsdGVyKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNsZWFyRmlsdGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3VwcG9ydCBmdW5jdGlvbiBhbmQgc3RyaW5nIGZpbHRlclxyXG4gICAgaWYgKGlzU3RyaW5nKGZpbHRlcikpIHtcclxuICAgICAgZmlsdGVyRm4gPSAobm9kZSkgPT4gbm9kZS5kaXNwbGF5RmllbGQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZpbHRlci50b0xvd2VyQ2FzZSgpKSAhPT0gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGZpbHRlcikpIHtcclxuICAgICAgIGZpbHRlckZuID0gZmlsdGVyO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RvblxcJ3Qga25vdyB3aGF0IHRvIGRvIHdpdGggZmlsdGVyJywgZmlsdGVyKTtcclxuICAgICAgY29uc29sZS5lcnJvcignU2hvdWxkIGJlIGVpdGhlciBhIHN0cmluZyBvciBmdW5jdGlvbicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaWRzID0ge307XHJcbiAgICB0aGlzLnJvb3RzLmZvckVhY2goKG5vZGUpID0+IHRoaXMuX2ZpbHRlck5vZGUoaWRzLCBub2RlLCBmaWx0ZXJGbiwgYXV0b1Nob3cpKTtcclxuICAgIHRoaXMuaGlkZGVuTm9kZUlkcyA9IGlkcztcclxuICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5jaGFuZ2VGaWx0ZXIgfSk7XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIGNsZWFyRmlsdGVyKCkge1xyXG4gICAgdGhpcy5oaWRkZW5Ob2RlSWRzID0ge307XHJcbiAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuY2hhbmdlRmlsdGVyIH0pO1xyXG4gIH1cclxuXHJcbiAgQGFjdGlvbiBtb3ZlTm9kZShub2RlLCB0bykge1xyXG4gICAgY29uc3QgZnJvbUluZGV4ID0gbm9kZS5nZXRJbmRleEluUGFyZW50KCk7XHJcbiAgICBjb25zdCBmcm9tUGFyZW50ID0gbm9kZS5wYXJlbnQ7XHJcblxyXG4gICAgaWYgKCF0aGlzLl9jYW5Nb3ZlTm9kZShub2RlLCBmcm9tSW5kZXggLCB0bykpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBmcm9tQ2hpbGRyZW4gPSBmcm9tUGFyZW50LmdldEZpZWxkKCdjaGlsZHJlbicpO1xyXG5cclxuICAgIC8vIElmIG5vZGUgZG9lc24ndCBoYXZlIGNoaWxkcmVuIC0gY3JlYXRlIGNoaWxkcmVuIGFycmF5XHJcbiAgICBpZiAoIXRvLnBhcmVudC5nZXRGaWVsZCgnY2hpbGRyZW4nKSkge1xyXG4gICAgICB0by5wYXJlbnQuc2V0RmllbGQoJ2NoaWxkcmVuJywgW10pO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdG9DaGlsZHJlbiA9IHRvLnBhcmVudC5nZXRGaWVsZCgnY2hpbGRyZW4nKTtcclxuXHJcbiAgICBjb25zdCBvcmlnaW5hbE5vZGUgPSBmcm9tQ2hpbGRyZW4uc3BsaWNlKGZyb21JbmRleCwgMSlbMF07XHJcblxyXG4gICAgLy8gQ29tcGVuc2F0ZSBmb3IgaW5kZXggaWYgYWxyZWFkeSByZW1vdmVkIGZyb20gcGFyZW50OlxyXG4gICAgbGV0IHRvSW5kZXggPSAoZnJvbVBhcmVudCA9PT0gdG8ucGFyZW50ICYmIHRvLmluZGV4ID4gZnJvbUluZGV4KSA/IHRvLmluZGV4IC0gMSA6IHRvLmluZGV4O1xyXG5cclxuICAgIHRvQ2hpbGRyZW4uc3BsaWNlKHRvSW5kZXgsIDAsIG9yaWdpbmFsTm9kZSk7XHJcblxyXG4gICAgZnJvbVBhcmVudC50cmVlTW9kZWwudXBkYXRlKCk7XHJcbiAgICBpZiAodG8ucGFyZW50LnRyZWVNb2RlbCAhPT0gZnJvbVBhcmVudC50cmVlTW9kZWwpIHtcclxuICAgICAgdG8ucGFyZW50LnRyZWVNb2RlbC51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMubW92ZU5vZGUsIG5vZGU6IG9yaWdpbmFsTm9kZSwgdG86IHsgcGFyZW50OiB0by5wYXJlbnQuZGF0YSwgaW5kZXg6IHRvSW5kZXggfSB9KTtcclxuICB9XHJcblxyXG4gIEBhY3Rpb24gY29weU5vZGUobm9kZSwgdG8pIHtcclxuICAgIGNvbnN0IGZyb21JbmRleCA9IG5vZGUuZ2V0SW5kZXhJblBhcmVudCgpO1xyXG5cclxuICAgIGlmICghdGhpcy5fY2FuTW92ZU5vZGUobm9kZSwgZnJvbUluZGV4ICwgdG8pKSByZXR1cm47XHJcblxyXG4gICAgLy8gSWYgbm9kZSBkb2Vzbid0IGhhdmUgY2hpbGRyZW4gLSBjcmVhdGUgY2hpbGRyZW4gYXJyYXlcclxuICAgIGlmICghdG8ucGFyZW50LmdldEZpZWxkKCdjaGlsZHJlbicpKSB7XHJcbiAgICAgIHRvLnBhcmVudC5zZXRGaWVsZCgnY2hpbGRyZW4nLCBbXSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0b0NoaWxkcmVuID0gdG8ucGFyZW50LmdldEZpZWxkKCdjaGlsZHJlbicpO1xyXG5cclxuICAgIGNvbnN0IG5vZGVDb3B5ID0gdGhpcy5vcHRpb25zLmdldE5vZGVDbG9uZShub2RlKTtcclxuXHJcbiAgICB0b0NoaWxkcmVuLnNwbGljZSh0by5pbmRleCwgMCwgbm9kZUNvcHkpO1xyXG5cclxuICAgIG5vZGUudHJlZU1vZGVsLnVwZGF0ZSgpO1xyXG4gICAgaWYgKHRvLnBhcmVudC50cmVlTW9kZWwgIT09IG5vZGUudHJlZU1vZGVsKSB7XHJcbiAgICAgIHRvLnBhcmVudC50cmVlTW9kZWwudXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5maXJlRXZlbnQoeyBldmVudE5hbWU6IFRSRUVfRVZFTlRTLmNvcHlOb2RlLCBub2RlOiBub2RlQ29weSwgdG86IHsgcGFyZW50OiB0by5wYXJlbnQuZGF0YSwgaW5kZXg6IHRvLmluZGV4IH0gfSk7XHJcbiAgfVxyXG5cclxuICBnZXRTdGF0ZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGV4cGFuZGVkTm9kZUlkczogdGhpcy5leHBhbmRlZE5vZGVJZHMsXHJcbiAgICAgIGFjdGl2ZU5vZGVJZHM6IHRoaXMuYWN0aXZlTm9kZUlkcyxcclxuICAgICAgaGlkZGVuTm9kZUlkczogdGhpcy5oaWRkZW5Ob2RlSWRzLFxyXG4gICAgICBmb2N1c2VkTm9kZUlkOiB0aGlzLmZvY3VzZWROb2RlSWRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBAYWN0aW9uIHNldFN0YXRlKHN0YXRlKSB7XHJcbiAgICBpZiAoIXN0YXRlKSByZXR1cm47XHJcblxyXG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCB7XHJcbiAgICAgIGV4cGFuZGVkTm9kZUlkczogc3RhdGUuZXhwYW5kZWROb2RlSWRzIHx8IHt9LFxyXG4gICAgICBhY3RpdmVOb2RlSWRzOiBzdGF0ZS5hY3RpdmVOb2RlSWRzIHx8IHt9LFxyXG4gICAgICBoaWRkZW5Ob2RlSWRzOiBzdGF0ZS5oaWRkZW5Ob2RlSWRzIHx8IHt9LFxyXG4gICAgICBmb2N1c2VkTm9kZUlkOiBzdGF0ZS5mb2N1c2VkTm9kZUlkXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZVRvU3RhdGUoZm4pIHtcclxuICAgIGF1dG9ydW4oKCkgPT4gZm4odGhpcy5nZXRTdGF0ZSgpKSk7XHJcbiAgfVxyXG5cclxuICAvLyBwcml2YXRlIG1ldGhvZHNcclxuICBwcml2YXRlIF9jYW5Nb3ZlTm9kZShub2RlLCBmcm9tSW5kZXgsIHRvKSB7XHJcbiAgICAvLyBzYW1lIG5vZGU6XHJcbiAgICBpZiAobm9kZS5wYXJlbnQgPT09IHRvLnBhcmVudCAmJiBmcm9tSW5kZXggPT09IHRvLmluZGV4KSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gIXRvLnBhcmVudC5pc0Rlc2NlbmRhbnRPZihub2RlKTtcclxuICB9XHJcblxyXG5cclxuICBwcml2YXRlIF9maWx0ZXJOb2RlKGlkcywgbm9kZSwgZmlsdGVyRm4sIGF1dG9TaG93KSB7XHJcbiAgICAvLyBpZiBub2RlIHBhc3NlcyBmdW5jdGlvbiB0aGVuIGl0J3MgdmlzaWJsZVxyXG4gICAgbGV0IGlzVmlzaWJsZSA9IGZpbHRlckZuKG5vZGUpO1xyXG5cclxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XHJcbiAgICAgIC8vIGlmIG9uZSBvZiBub2RlJ3MgY2hpbGRyZW4gcGFzc2VzIGZpbHRlciB0aGVuIHRoaXMgbm9kZSBpcyBhbHNvIHZpc2libGVcclxuICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9maWx0ZXJOb2RlKGlkcywgY2hpbGQsIGZpbHRlckZuLCBhdXRvU2hvdykpIHtcclxuICAgICAgICAgIGlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtYXJrIG5vZGUgYXMgaGlkZGVuXHJcbiAgICBpZiAoIWlzVmlzaWJsZSkge1xyXG4gICAgICBpZHNbbm9kZS5pZF0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgLy8gYXV0byBleHBhbmQgcGFyZW50cyB0byBtYWtlIHN1cmUgdGhlIGZpbHRlcmVkIG5vZGVzIGFyZSB2aXNpYmxlXHJcbiAgICBpZiAoYXV0b1Nob3cgJiYgaXNWaXNpYmxlKSB7XHJcbiAgICAgIG5vZGUuZW5zdXJlVmlzaWJsZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzVmlzaWJsZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2NhbGN1bGF0ZUV4cGFuZGVkTm9kZXMoc3RhcnROb2RlID0gbnVsbCkge1xyXG4gICAgc3RhcnROb2RlID0gc3RhcnROb2RlIHx8IHRoaXMudmlydHVhbFJvb3Q7XHJcblxyXG4gICAgaWYgKHN0YXJ0Tm9kZS5kYXRhW3RoaXMub3B0aW9ucy5pc0V4cGFuZGVkRmllbGRdKSB7XHJcbiAgICAgIHRoaXMuZXhwYW5kZWROb2RlSWRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5leHBhbmRlZE5vZGVJZHMsIHtbc3RhcnROb2RlLmlkXTogdHJ1ZX0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXJ0Tm9kZS5jaGlsZHJlbikge1xyXG4gICAgICBzdGFydE5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHRoaXMuX2NhbGN1bGF0ZUV4cGFuZGVkTm9kZXMoY2hpbGQpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgX3NldEFjdGl2ZU5vZGVTaW5nbGUobm9kZSwgdmFsdWUpIHtcclxuICAgIC8vIERlYWN0aXZhdGUgYWxsIG90aGVyIG5vZGVzOlxyXG4gICAgdGhpcy5hY3RpdmVOb2Rlc1xyXG4gICAgICAuZmlsdGVyKChhY3RpdmVOb2RlKSA9PiBhY3RpdmVOb2RlICE9PSBub2RlKVxyXG4gICAgICAuZm9yRWFjaCgoYWN0aXZlTm9kZSkgPT4ge1xyXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHsgZXZlbnROYW1lOiBUUkVFX0VWRU5UUy5kZWFjdGl2YXRlLCBub2RlOiBhY3RpdmVOb2RlIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgdGhpcy5hY3RpdmVOb2RlSWRzID0ge1tub2RlLmlkXTogdHJ1ZX07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5hY3RpdmVOb2RlSWRzID0ge307XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIF9zZXRBY3RpdmVOb2RlTXVsdGkobm9kZSwgdmFsdWUpIHtcclxuICAgIHRoaXMuYWN0aXZlTm9kZUlkcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYWN0aXZlTm9kZUlkcywge1tub2RlLmlkXTogdmFsdWV9KTtcclxuICB9XHJcblxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Injectable } from '@angular/core';\r\nvar TreeDraggedElement = /** @class */ (function () {\r\n    function TreeDraggedElement() {\r\n        this._draggedElement = null;\r\n    }\r\n    TreeDraggedElement.prototype.set = function (draggedElement) {\r\n        this._draggedElement = draggedElement;\r\n    };\r\n    TreeDraggedElement.prototype.get = function () {\r\n        return this._draggedElement;\r\n    };\r\n    TreeDraggedElement.prototype.isDragging = function () {\r\n        return !!this.get();\r\n    };\r\n    TreeDraggedElement.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeDraggedElement.ctorParameters = function () { return []; };\r\n    return TreeDraggedElement;\r\n}());\r\nexport { TreeDraggedElement };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQUEsRUFBVyxNQUFPLGVBQUEsQ0FBZ0I7QUFHM0M7SUFBQTtRQUNFLG9CQUFlLEdBQVEsSUFBSSxDQUFDO0lBbUI5QixDQUFDO0lBakJDLGdDQUFHLEdBQUgsVUFBSSxjQUFtQjtRQUNyQixJQUFJLENBQUMsZUFBZSxHQUFHLGNBQWMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsZ0NBQUcsR0FBSDtRQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzlCLENBQUM7SUFFRCx1Q0FBVSxHQUFWO1FBQ0UsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUNJLDZCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtLQUNuQixDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsaUNBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDRix5QkFBQztDQXBCRCxBQW9CQyxJQUFBO1NBcEJZLGtCQUFrQiIsImZpbGUiOiJ0cmVlLWRyYWdnZWQtZWxlbWVudC5tb2RlbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVEcmFnZ2VkRWxlbWVudCB7XHJcbiAgX2RyYWdnZWRFbGVtZW50OiBhbnkgPSBudWxsO1xyXG5cclxuICBzZXQoZHJhZ2dlZEVsZW1lbnQ6IGFueSkge1xyXG4gICAgdGhpcy5fZHJhZ2dlZEVsZW1lbnQgPSBkcmFnZ2VkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdldCgpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RyYWdnZWRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaXNEcmFnZ2luZygpIHtcclxuICAgIHJldHVybiAhIXRoaXMuZ2V0KCk7XHJcbiAgfVxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBJbmplY3RhYmxlIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar LoadingComponent = /** @class */ (function () {\r\n    function LoadingComponent() {\r\n    }\r\n    LoadingComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    selector: 'tree-loading-component',\r\n                    template: \"\\n    <span *ngIf=\\\"!template\\\">loading...</span>\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: node }\\\">\\n    </ng-container>\\n  \",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    LoadingComponent.ctorParameters = function () { return []; };\r\n    LoadingComponent.propDecorators = {\r\n        'template': [{ type: Input },],\r\n        'node': [{ type: Input },],\r\n    };\r\n    return LoadingComponent;\r\n}());\r\nexport { LoadingComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL2xvYWRpbmcuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFBLEVBQVcsS0FBQSxFQUFvQixpQkFBQSxFQUFrQixNQUFPLGVBQUEsQ0FBZ0I7QUFJakY7SUFBQTtJQXVCQSxDQUFDO0lBcEJNLDJCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLFFBQVEsRUFBRSx3QkFBd0I7b0JBQ2xDLFFBQVEsRUFBRSxnTUFNVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsK0JBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSywrQkFBYyxHQUEyQztRQUNoRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUM5QixNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUN6QixDQUFDO0lBQ0YsdUJBQUM7Q0F2QkQsQUF1QkMsSUFBQTtTQXZCWSxnQkFBZ0IiLCJmaWxlIjoibG9hZGluZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVGVtcGxhdGVSZWYsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtbm9kZS5tb2RlbCc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIExvYWRpbmdDb21wb25lbnQge1xyXG4gICB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuICAgbm9kZTogVHJlZU5vZGU7XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gIHNlbGVjdG9yOiAndHJlZS1sb2FkaW5nLWNvbXBvbmVudCcsXHJcbiAgdGVtcGxhdGU6IGBcclxuICAgIDxzcGFuICpuZ0lmPVwiIXRlbXBsYXRlXCI+bG9hZGluZy4uLjwvc3Bhbj5cclxuICAgIDxuZy1jb250YWluZXJcclxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwidGVtcGxhdGVcIlxyXG4gICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyAkaW1wbGljaXQ6IG5vZGUgfVwiPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgYCxcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ3RlbXBsYXRlJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Component, Input, Output, EventEmitter, Renderer, ContentChild, HostListener } from '@angular/core';\r\nimport { TreeModel } from '../models/tree.model';\r\nimport { TreeDraggedElement } from '../models/tree-dragged-element.model';\r\nimport * as _ from 'lodash';\r\nvar includes = _.includes, pick = _.pick;\r\nvar TreeComponent = /** @class */ (function () {\r\n    function TreeComponent(treeModel, treeDraggedElement, renderer) {\r\n        var _this = this;\r\n        this.treeModel = treeModel;\r\n        this.treeDraggedElement = treeDraggedElement;\r\n        this.renderer = renderer;\r\n        treeModel.eventNames.forEach(function (name) { return _this[name] = new EventEmitter(); });\r\n        treeModel.subscribeToState(function (state) { return _this.stateChange.emit(state); });\r\n    }\r\n    Object.defineProperty(TreeComponent.prototype, \"nodes\", {\r\n        // Will be handled in ngOnChanges\r\n        set: function (nodes) { },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeComponent.prototype, \"options\", {\r\n        set: function (options) { },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(TreeComponent.prototype, \"focused\", {\r\n        set: function (value) {\r\n            this.treeModel.setFocus(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeComponent.prototype, \"state\", {\r\n        set: function (state) {\r\n            this.treeModel.setState(state);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeComponent.prototype.onKeydown = function ($event) {\r\n        if (!this.treeModel.isFocused)\r\n            return;\r\n        if (includes(['input', 'textarea'], document.activeElement.tagName.toLowerCase()))\r\n            return;\r\n        var focusedNode = this.treeModel.getFocusedNode();\r\n        this.treeModel.performKeyAction(focusedNode, $event);\r\n    };\r\n    TreeComponent.prototype.onMousedown = function ($event) {\r\n        var insideClick = this.renderer.invokeElementMethod($event.target, 'closest', ['Tree']);\r\n        if (!insideClick) {\r\n            this.treeModel.setFocus(false);\r\n        }\r\n    };\r\n    TreeComponent.prototype.ngOnChanges = function (changes) {\r\n        this.treeModel.setData({\r\n            options: changes.options && changes.options.currentValue,\r\n            nodes: changes.nodes && changes.nodes.currentValue,\r\n            events: pick(this, this.treeModel.eventNames)\r\n        });\r\n    };\r\n    TreeComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'Tree, tree-root',\r\n                    providers: [TreeModel],\r\n                    styles: [],\r\n                    template: \"\\n    <tree-viewport>\\n      <div\\n        class=\\\"angular-tree-component\\\"\\n        [class.node-dragging]=\\\"treeDraggedElement.isDragging()\\\"\\n        [class.angular-tree-component-rtl]=\\\"treeModel.options.rtl\\\">\\n        <tree-node-collection\\n          *ngIf=\\\"treeModel.roots\\\"\\n          [nodes]=\\\"treeModel.roots\\\"\\n          [treeModel]=\\\"treeModel\\\"\\n          [templates]=\\\"{\\n            loadingTemplate: loadingTemplate,\\n            treeNodeTemplate: treeNodeTemplate,\\n            treeNodeWrapperTemplate: treeNodeWrapperTemplate,\\n            treeNodeFullTemplate: treeNodeFullTemplate\\n          }\\\">\\n        </tree-node-collection>\\n        <tree-node-drop-slot\\n          class=\\\"empty-tree-drop-slot\\\"\\n          *ngIf=\\\"treeModel.isEmptyTree()\\\"\\n          [dropIndex]=\\\"0\\\"\\n          [node]=\\\"treeModel.virtualRoot\\\">\\n        </tree-node-drop-slot>\\n      </div>\\n    </tree-viewport>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeComponent.ctorParameters = function () { return [\r\n        { type: TreeModel, },\r\n        { type: TreeDraggedElement, },\r\n        { type: Renderer, },\r\n    ]; };\r\n    TreeComponent.propDecorators = {\r\n        'loadingTemplate': [{ type: ContentChild, args: ['loadingTemplate',] },],\r\n        'treeNodeTemplate': [{ type: ContentChild, args: ['treeNodeTemplate',] },],\r\n        'treeNodeWrapperTemplate': [{ type: ContentChild, args: ['treeNodeWrapperTemplate',] },],\r\n        'treeNodeFullTemplate': [{ type: ContentChild, args: ['treeNodeFullTemplate',] },],\r\n        'nodes': [{ type: Input },],\r\n        'options': [{ type: Input },],\r\n        'focused': [{ type: Input },],\r\n        'state': [{ type: Input },],\r\n        'toggleExpanded': [{ type: Output },],\r\n        'activate': [{ type: Output },],\r\n        'deactivate': [{ type: Output },],\r\n        'focus': [{ type: Output },],\r\n        'blur': [{ type: Output },],\r\n        'updateData': [{ type: Output },],\r\n        'initialized': [{ type: Output },],\r\n        'moveNode': [{ type: Output },],\r\n        'copyNode': [{ type: Output },],\r\n        'loadNodeChildren': [{ type: Output },],\r\n        'changeFilter': [{ type: Output },],\r\n        'event': [{ type: Output },],\r\n        'stateChange': [{ type: Output },],\r\n        'onKeydown': [{ type: HostListener, args: ['body: keydown', ['$event'],] },],\r\n        'onMousedown': [{ type: HostListener, args: ['body: mousedown', ['$event'],] },],\r\n    };\r\n    return TreeComponent;\r\n}());\r\nexport { TreeComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQUUsS0FBQSxFQUFPLE1BQUEsRUFBbUIsWUFBQSxFQUFjLFFBQUEsRUFDaEMsWUFBQSxFQUEyQixZQUFBLEVBQy9DLE1BQU0sZUFBQSxDQUFnQjtBQUN2QixPQUFPLEVBQUUsU0FBQSxFQUFVLE1BQU8sc0JBQUEsQ0FBdUI7QUFFakQsT0FBTyxFQUFFLGtCQUFBLEVBQW1CLE1BQU8sc0NBQUEsQ0FBdUM7QUFJMUUsT0FBTyxLQUFLLENBQUEsTUFBTyxRQUFBLENBQVM7QUFFcEIsSUFBQSxxQkFBQSxFQUFVLGFBQUEsQ0FBWTtBQUc5QjtJQW1DRSx1QkFDUyxTQUFvQixFQUNwQixrQkFBc0MsRUFDckMsUUFBa0I7UUFINUIsaUJBT0M7UUFOUSxjQUFTLEdBQVQsU0FBUyxDQUFXO1FBQ3BCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFDckMsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUV4QixTQUFTLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQUksSUFBSyxPQUFBLEtBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLFlBQVksRUFBRSxFQUEvQixDQUErQixDQUFDLENBQUM7UUFDeEUsU0FBUyxDQUFDLGdCQUFnQixDQUFDLFVBQUMsS0FBSyxJQUFLLE9BQUEsS0FBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQTVCLENBQTRCLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBaENBLHNCQUFJLGdDQUFLO1FBRFYsaUNBQWlDO2FBQ2hDLFVBQVUsS0FBWSxJQUFJLENBQUM7OztPQUFBO0lBQUEsQ0FBQztJQUM1QixzQkFBSSxrQ0FBTzthQUFYLFVBQVksT0FBb0IsSUFBSSxDQUFDOzs7T0FBQTtJQUFBLENBQUM7SUFFdEMsc0JBQUksa0NBQU87YUFBWCxVQUFZLEtBQWM7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QUMsUUFBUSxDQUFDLEVBQUcsRUFBRSxFQUFFO1FBQzdFLGFBQWEsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFHLEVBQUUsRUFBRTtLQUNoRixDQUFDO0lBQ0Ysb0JBQUM7Q0F2SUQsQUF1SUMsSUFBQTtTQXZJWSxhQUFhIiwiZmlsZSI6InRyZWUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBPbkNoYW5nZXMsIEV2ZW50RW1pdHRlciwgUmVuZGVyZXIsXHJcbiAgVmlld0VuY2Fwc3VsYXRpb24sIENvbnRlbnRDaGlsZCwgVGVtcGxhdGVSZWYsIEhvc3RMaXN0ZW5lciwgVmlld0NoaWxkXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVNb2RlbCB9IGZyb20gJy4uL21vZGVscy90cmVlLm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZURyYWdnZWRFbGVtZW50IH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtZHJhZ2dlZC1lbGVtZW50Lm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZU9wdGlvbnMgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1vcHRpb25zLm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZVZpZXdwb3J0Q29tcG9uZW50IH0gZnJvbSAnLi90cmVlLXZpZXdwb3J0LmNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XHJcblxyXG5jb25zdCB7IGluY2x1ZGVzLCBwaWNrIH0gID0gXztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XHJcbiAgX25vZGVzOiBhbnlbXTtcclxuICBfb3B0aW9uczogVHJlZU9wdGlvbnM7XHJcblxyXG4gICBsb2FkaW5nVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgIHRyZWVOb2RlVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XHJcbiAgIHRyZWVOb2RlV3JhcHBlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xyXG4gICB0cmVlTm9kZUZ1bGxUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcclxuXHJcbiAgLy8gV2lsbCBiZSBoYW5kbGVkIGluIG5nT25DaGFuZ2VzXHJcbiAgIHNldCBub2Rlcyhub2RlczogYW55W10pIHsgfTtcclxuICAgc2V0IG9wdGlvbnMob3B0aW9uczogVHJlZU9wdGlvbnMpIHsgfTtcclxuXHJcbiAgIHNldCBmb2N1c2VkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC5zZXRGb2N1cyh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICAgc2V0IHN0YXRlKHN0YXRlKSB7XHJcbiAgICB0aGlzLnRyZWVNb2RlbC5zZXRTdGF0ZShzdGF0ZSk7XHJcbiAgfVxyXG5cclxuICAgdG9nZ2xlRXhwYW5kZWQ7XHJcbiAgIGFjdGl2YXRlO1xyXG4gICBkZWFjdGl2YXRlO1xyXG4gICBmb2N1cztcclxuICAgYmx1cjtcclxuICAgdXBkYXRlRGF0YTtcclxuICAgaW5pdGlhbGl6ZWQ7XHJcbiAgIG1vdmVOb2RlO1xyXG4gICBjb3B5Tm9kZTtcclxuICAgbG9hZE5vZGVDaGlsZHJlbjtcclxuICAgY2hhbmdlRmlsdGVyO1xyXG4gICBldmVudDtcclxuICAgc3RhdGVDaGFuZ2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgcHVibGljIHRyZWVNb2RlbDogVHJlZU1vZGVsLFxyXG4gICAgcHVibGljIHRyZWVEcmFnZ2VkRWxlbWVudDogVHJlZURyYWdnZWRFbGVtZW50LFxyXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIpIHtcclxuXHJcbiAgICAgIHRyZWVNb2RlbC5ldmVudE5hbWVzLmZvckVhY2goKG5hbWUpID0+IHRoaXNbbmFtZV0gPSBuZXcgRXZlbnRFbWl0dGVyKCkpO1xyXG4gICAgICB0cmVlTW9kZWwuc3Vic2NyaWJlVG9TdGF0ZSgoc3RhdGUpID0+IHRoaXMuc3RhdGVDaGFuZ2UuZW1pdChzdGF0ZSkpO1xyXG4gIH1cclxuXHJcbiAgXHJcbiAgb25LZXlkb3duKCRldmVudCkge1xyXG4gICAgaWYgKCF0aGlzLnRyZWVNb2RlbC5pc0ZvY3VzZWQpIHJldHVybjtcclxuICAgIGlmIChpbmNsdWRlcyhbJ2lucHV0JywgJ3RleHRhcmVhJ10sXHJcbiAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZm9jdXNlZE5vZGUgPSB0aGlzLnRyZWVNb2RlbC5nZXRGb2N1c2VkTm9kZSgpO1xyXG5cclxuICAgIHRoaXMudHJlZU1vZGVsLnBlcmZvcm1LZXlBY3Rpb24oZm9jdXNlZE5vZGUsICRldmVudCk7XHJcbiAgfVxyXG5cclxuICBcclxuICBvbk1vdXNlZG93bigkZXZlbnQpIHtcclxuICAgIGNvbnN0IGluc2lkZUNsaWNrID0gdGhpcy5yZW5kZXJlci5pbnZva2VFbGVtZW50TWV0aG9kKCRldmVudC50YXJnZXQsICdjbG9zZXN0JywgWydUcmVlJ10pO1xyXG5cclxuICAgIGlmICghaW5zaWRlQ2xpY2spIHtcclxuICAgICAgdGhpcy50cmVlTW9kZWwuc2V0Rm9jdXMoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xyXG4gICAgdGhpcy50cmVlTW9kZWwuc2V0RGF0YSh7XHJcbiAgICAgIG9wdGlvbnM6IGNoYW5nZXMub3B0aW9ucyAmJiBjaGFuZ2VzLm9wdGlvbnMuY3VycmVudFZhbHVlLFxyXG4gICAgICBub2RlczogY2hhbmdlcy5ub2RlcyAmJiBjaGFuZ2VzLm5vZGVzLmN1cnJlbnRWYWx1ZSxcclxuICAgICAgZXZlbnRzOiBwaWNrKHRoaXMsIHRoaXMudHJlZU1vZGVsLmV2ZW50TmFtZXMpXHJcbiAgICB9KTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ1RyZWUsIHRyZWUtcm9vdCcsXHJcbiAgcHJvdmlkZXJzOiBbVHJlZU1vZGVsXSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8dHJlZS12aWV3cG9ydD5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIGNsYXNzPVwiYW5ndWxhci10cmVlLWNvbXBvbmVudFwiXHJcbiAgICAgICAgW2NsYXNzLm5vZGUtZHJhZ2dpbmddPVwidHJlZURyYWdnZWRFbGVtZW50LmlzRHJhZ2dpbmcoKVwiXHJcbiAgICAgICAgW2NsYXNzLmFuZ3VsYXItdHJlZS1jb21wb25lbnQtcnRsXT1cInRyZWVNb2RlbC5vcHRpb25zLnJ0bFwiPlxyXG4gICAgICAgIDx0cmVlLW5vZGUtY29sbGVjdGlvblxyXG4gICAgICAgICAgKm5nSWY9XCJ0cmVlTW9kZWwucm9vdHNcIlxyXG4gICAgICAgICAgW25vZGVzXT1cInRyZWVNb2RlbC5yb290c1wiXHJcbiAgICAgICAgICBbdHJlZU1vZGVsXT1cInRyZWVNb2RlbFwiXHJcbiAgICAgICAgICBbdGVtcGxhdGVzXT1cIntcclxuICAgICAgICAgICAgbG9hZGluZ1RlbXBsYXRlOiBsb2FkaW5nVGVtcGxhdGUsXHJcbiAgICAgICAgICAgIHRyZWVOb2RlVGVtcGxhdGU6IHRyZWVOb2RlVGVtcGxhdGUsXHJcbiAgICAgICAgICAgIHRyZWVOb2RlV3JhcHBlclRlbXBsYXRlOiB0cmVlTm9kZVdyYXBwZXJUZW1wbGF0ZSxcclxuICAgICAgICAgICAgdHJlZU5vZGVGdWxsVGVtcGxhdGU6IHRyZWVOb2RlRnVsbFRlbXBsYXRlXHJcbiAgICAgICAgICB9XCI+XHJcbiAgICAgICAgPC90cmVlLW5vZGUtY29sbGVjdGlvbj5cclxuICAgICAgICA8dHJlZS1ub2RlLWRyb3Atc2xvdFxyXG4gICAgICAgICAgY2xhc3M9XCJlbXB0eS10cmVlLWRyb3Atc2xvdFwiXHJcbiAgICAgICAgICAqbmdJZj1cInRyZWVNb2RlbC5pc0VtcHR5VHJlZSgpXCJcclxuICAgICAgICAgIFtkcm9wSW5kZXhdPVwiMFwiXHJcbiAgICAgICAgICBbbm9kZV09XCJ0cmVlTW9kZWwudmlydHVhbFJvb3RcIj5cclxuICAgICAgICA8L3RyZWUtbm9kZS1kcm9wLXNsb3Q+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC90cmVlLXZpZXdwb3J0PlxyXG4gIGBcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbnt0eXBlOiBUcmVlTW9kZWwsIH0sXG57dHlwZTogVHJlZURyYWdnZWRFbGVtZW50LCB9LFxue3R5cGU6IFJlbmRlcmVyLCB9LFxuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbG9hZGluZ1RlbXBsYXRlJzogW3sgdHlwZTogQ29udGVudENoaWxkLCBhcmdzOiBbJ2xvYWRpbmdUZW1wbGF0ZScsIF0gfSxdLFxuJ3RyZWVOb2RlVGVtcGxhdGUnOiBbeyB0eXBlOiBDb250ZW50Q2hpbGQsIGFyZ3M6IFsndHJlZU5vZGVUZW1wbGF0ZScsIF0gfSxdLFxuJ3RyZWVOb2RlV3JhcHBlclRlbXBsYXRlJzogW3sgdHlwZTogQ29udGVudENoaWxkLCBhcmdzOiBbJ3RyZWVOb2RlV3JhcHBlclRlbXBsYXRlJywgXSB9LF0sXG4ndHJlZU5vZGVGdWxsVGVtcGxhdGUnOiBbeyB0eXBlOiBDb250ZW50Q2hpbGQsIGFyZ3M6IFsndHJlZU5vZGVGdWxsVGVtcGxhdGUnLCBdIH0sXSxcbidub2Rlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbidvcHRpb25zJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ2ZvY3VzZWQnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nc3RhdGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4ndG9nZ2xlRXhwYW5kZWQnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuJ2FjdGl2YXRlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidkZWFjdGl2YXRlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidmb2N1cyc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nYmx1cic6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4ndXBkYXRlRGF0YSc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4naW5pdGlhbGl6ZWQnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuJ21vdmVOb2RlJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidjb3B5Tm9kZSc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nbG9hZE5vZGVDaGlsZHJlbic6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nY2hhbmdlRmlsdGVyJzogW3sgdHlwZTogT3V0cHV0IH0sXSxcbidldmVudCc6IFt7IHR5cGU6IE91dHB1dCB9LF0sXG4nc3RhdGVDaGFuZ2UnOiBbeyB0eXBlOiBPdXRwdXQgfSxdLFxuJ29uS2V5ZG93bic6IFt7IHR5cGU6IEhvc3RMaXN0ZW5lciwgYXJnczogWydib2R5OiBrZXlkb3duJywgWyckZXZlbnQnXSwgXSB9LF0sXG4nb25Nb3VzZWRvd24nOiBbeyB0eXBlOiBIb3N0TGlzdGVuZXIsIGFyZ3M6IFsnYm9keTogbW91c2Vkb3duJywgWyckZXZlbnQnXSwgXSB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeComponent = /** @class */ (function () {\r\n    function TreeNodeComponent() {\r\n    }\r\n    TreeNodeComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'TreeNode, tree-node',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <ng-container *mobxAutorun>\\n      <div\\n        *ngIf=\\\"!templates.treeNodeFullTemplate\\\"\\n        [class]=\\\"node.getClass()\\\"\\n        [class.tree-node]=\\\"true\\\"\\n        [class.tree-node-expanded]=\\\"node.isExpanded && node.hasChildren\\\"\\n        [class.tree-node-collapsed]=\\\"node.isCollapsed && node.hasChildren\\\"\\n        [class.tree-node-leaf]=\\\"node.isLeaf\\\"\\n        [class.tree-node-active]=\\\"node.isActive\\\"\\n        [class.tree-node-focused]=\\\"node.isFocused\\\"\\n        >\\n\\n        <tree-node-drop-slot *ngIf=\\\"index === 0\\\" [dropIndex]=\\\"node.index\\\" [node]=\\\"node.parent\\\"></tree-node-drop-slot>\\n\\n        <tree-node-wrapper [node]=\\\"node\\\" [index]=\\\"index\\\" [templates]=\\\"templates\\\"></tree-node-wrapper>\\n\\n        <tree-node-children [node]=\\\"node\\\" [templates]=\\\"templates\\\"></tree-node-children>\\n        <tree-node-drop-slot [dropIndex]=\\\"node.index + 1\\\" [node]=\\\"node.parent\\\"></tree-node-drop-slot>\\n      </div>\\n      <ng-container\\n        [ngTemplateOutlet]=\\\"templates.treeNodeFullTemplate\\\"\\n        [ngTemplateOutletContext]=\\\"{ $implicit: node, node: node, index: index, templates: templates }\\\">\\n      </ng-container>\\n    </ng-container>\"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeComponent.ctorParameters = function () { return []; };\r\n    TreeNodeComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    return TreeNodeComponent;\r\n}());\r\nexport { TreeNodeComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8saUJBQUEsRUFBK0IsTUFBTyxlQUFBLENBQWdCO0FBS2pGO0lBQUE7SUE0Q0EsQ0FBQztJQXhDTSw0QkFBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO29CQUNyQyxNQUFNLEVBQUUsRUFBRTtvQkFDVixRQUFRLEVBQUUsNHBDQXdCUTtpQkFDbkIsRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLGdDQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0ssZ0NBQWMsR0FBMkM7UUFDaEUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDMUIsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDM0IsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7S0FDOUIsQ0FBQztJQUNGLHdCQUFDO0NBNUNELEFBNENDLElBQUE7U0E1Q1ksaUJBQWlCIiwiZmlsZSI6InRyZWUtbm9kZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24sIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtbm9kZS5tb2RlbCc7XHJcblxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTm9kZUNvbXBvbmVudCB7XHJcbiAgIG5vZGU6IFRyZWVOb2RlO1xyXG4gICBpbmRleDogbnVtYmVyO1xyXG4gICB0ZW1wbGF0ZXM6IGFueTtcclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogQ29tcG9uZW50LCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAnVHJlZU5vZGUsIHRyZWUtbm9kZScsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctY29udGFpbmVyICptb2J4QXV0b3J1bj5cclxuICAgICAgPGRpdlxyXG4gICAgICAgICpuZ0lmPVwiIXRlbXBsYXRlcy50cmVlTm9kZUZ1bGxUZW1wbGF0ZVwiXHJcbiAgICAgICAgW2NsYXNzXT1cIm5vZGUuZ2V0Q2xhc3MoKVwiXHJcbiAgICAgICAgW2NsYXNzLnRyZWUtbm9kZV09XCJ0cnVlXCJcclxuICAgICAgICBbY2xhc3MudHJlZS1ub2RlLWV4cGFuZGVkXT1cIm5vZGUuaXNFeHBhbmRlZCAmJiBub2RlLmhhc0NoaWxkcmVuXCJcclxuICAgICAgICBbY2xhc3MudHJlZS1ub2RlLWNvbGxhcHNlZF09XCJub2RlLmlzQ29sbGFwc2VkICYmIG5vZGUuaGFzQ2hpbGRyZW5cIlxyXG4gICAgICAgIFtjbGFzcy50cmVlLW5vZGUtbGVhZl09XCJub2RlLmlzTGVhZlwiXHJcbiAgICAgICAgW2NsYXNzLnRyZWUtbm9kZS1hY3RpdmVdPVwibm9kZS5pc0FjdGl2ZVwiXHJcbiAgICAgICAgW2NsYXNzLnRyZWUtbm9kZS1mb2N1c2VkXT1cIm5vZGUuaXNGb2N1c2VkXCJcclxuICAgICAgICA+XHJcblxyXG4gICAgICAgIDx0cmVlLW5vZGUtZHJvcC1zbG90ICpuZ0lmPVwiaW5kZXggPT09IDBcIiBbZHJvcEluZGV4XT1cIm5vZGUuaW5kZXhcIiBbbm9kZV09XCJub2RlLnBhcmVudFwiPjwvdHJlZS1ub2RlLWRyb3Atc2xvdD5cclxuXHJcbiAgICAgICAgPHRyZWUtbm9kZS13cmFwcGVyIFtub2RlXT1cIm5vZGVcIiBbaW5kZXhdPVwiaW5kZXhcIiBbdGVtcGxhdGVzXT1cInRlbXBsYXRlc1wiPjwvdHJlZS1ub2RlLXdyYXBwZXI+XHJcblxyXG4gICAgICAgIDx0cmVlLW5vZGUtY2hpbGRyZW4gW25vZGVdPVwibm9kZVwiIFt0ZW1wbGF0ZXNdPVwidGVtcGxhdGVzXCI+PC90cmVlLW5vZGUtY2hpbGRyZW4+XHJcbiAgICAgICAgPHRyZWUtbm9kZS1kcm9wLXNsb3QgW2Ryb3BJbmRleF09XCJub2RlLmluZGV4ICsgMVwiIFtub2RlXT1cIm5vZGUucGFyZW50XCI+PC90cmVlLW5vZGUtZHJvcC1zbG90PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPG5nLWNvbnRhaW5lclxyXG4gICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInRlbXBsYXRlcy50cmVlTm9kZUZ1bGxUZW1wbGF0ZVwiXHJcbiAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgJGltcGxpY2l0OiBub2RlLCBub2RlOiBub2RlLCBpbmRleDogaW5kZXgsIHRlbXBsYXRlczogdGVtcGxhdGVzIH1cIj5cclxuICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICA8L25nLWNvbnRhaW5lcj5gXHJcbn0sIF0gfSxcbl07XG4vKiogQG5vY29sbGFwc2UgKi9cbnN0YXRpYyBjdG9yUGFyYW1ldGVyczogKCkgPT4gKHt0eXBlOiBhbnksIGRlY29yYXRvcnM/OiBEZWNvcmF0b3JJbnZvY2F0aW9uW119fG51bGwpW10gPSAoKSA9PiBbXG5dO1xuc3RhdGljIHByb3BEZWNvcmF0b3JzOiB7W2tleTogc3RyaW5nXTogRGVjb3JhdG9ySW52b2NhdGlvbltdfSA9IHtcbidub2RlJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ2luZGV4JzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ3RlbXBsYXRlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeContent = /** @class */ (function () {\r\n    function TreeNodeContent() {\r\n    }\r\n    TreeNodeContent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-content',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    template: \"\\n  <span *ngIf=\\\"!template\\\">{{ node.displayField }}</span>\\n  <ng-container\\n    [ngTemplateOutlet]=\\\"template\\\"\\n    [ngTemplateOutletContext]=\\\"{ $implicit: node, node: node, index: index }\\\">\\n  </ng-container>\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeContent.ctorParameters = function () { return []; };\r\n    TreeNodeContent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'template': [{ type: Input },],\r\n    };\r\n    return TreeNodeContent;\r\n}());\r\nexport { TreeNodeContent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jb250ZW50LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBQSxFQUFXLEtBQUEsRUFBTyxpQkFBQSxFQUErQixNQUFPLGVBQUEsQ0FBZ0I7QUFJakY7SUFBQTtJQXdCQSxDQUFDO0lBcEJNLDBCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsUUFBUSxFQUFFLG1CQUFtQjtvQkFDN0IsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLFFBQVEsRUFBRSx5TkFLTTtpQkFDakIsRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLDhCQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0ssOEJBQWMsR0FBMkM7UUFDaEUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDMUIsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDM0IsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7S0FDN0IsQ0FBQztJQUNGLHNCQUFDO0NBeEJELEFBd0JDLElBQUE7U0F4QlksZUFBZSIsImZpbGUiOiJ0cmVlLW5vZGUtY29udGVudC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24sIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFRyZWVOb2RlIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtbm9kZS5tb2RlbCc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVOb2RlQ29udGVudCB7XHJcbiAgIG5vZGU6IFRyZWVOb2RlO1xyXG4gICBpbmRleDogbnVtYmVyO1xyXG4gICB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pjtcclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogQ29tcG9uZW50LCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAndHJlZS1ub2RlLWNvbnRlbnQnLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgdGVtcGxhdGU6IGBcclxuICA8c3BhbiAqbmdJZj1cIiF0ZW1wbGF0ZVwiPnt7IG5vZGUuZGlzcGxheUZpZWxkIH19PC9zcGFuPlxyXG4gIDxuZy1jb250YWluZXJcclxuICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInRlbXBsYXRlXCJcclxuICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogbm9kZSwgbm9kZTogbm9kZSwgaW5kZXg6IGluZGV4IH1cIj5cclxuICA8L25nLWNvbnRhaW5lcj5gLFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbm9kZSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbidpbmRleCc6IFt7IHR5cGU6IElucHV0IH0sXSxcbid0ZW1wbGF0ZSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeDropSlot = /** @class */ (function () {\r\n    function TreeNodeDropSlot() {\r\n    }\r\n    TreeNodeDropSlot.prototype.onDrop = function ($event) {\r\n        this.node.mouseAction('drop', $event.event, {\r\n            from: $event.element,\r\n            to: { parent: this.node, index: this.dropIndex }\r\n        });\r\n    };\r\n    TreeNodeDropSlot.prototype.allowDrop = function (element, $event) {\r\n        return this.node.options.allowDrop(element, { parent: this.node, index: this.dropIndex }, $event);\r\n    };\r\n    TreeNodeDropSlot.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'TreeNodeDropSlot, tree-node-drop-slot',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <div\\n      class=\\\"node-drop-slot\\\"\\n      (treeDrop)=\\\"onDrop($event)\\\"\\n      [treeAllowDrop]=\\\"allowDrop.bind(this)\\\">\\n    </div>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeDropSlot.ctorParameters = function () { return []; };\r\n    TreeNodeDropSlot.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'dropIndex': [{ type: Input },],\r\n    };\r\n    return TreeNodeDropSlot;\r\n}());\r\nexport { TreeNodeDropSlot };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1kcm9wLXNsb3QuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFBLEVBQVcsS0FBQSxFQUFPLGlCQUFBLEVBQWtCLE1BQU8sZUFBQSxDQUFnQjtBQUlwRTtJQUFBO0lBbUNBLENBQUM7SUEvQkMsaUNBQU0sR0FBTixVQUFPLE1BQU07UUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRTtZQUMxQyxJQUFJLEVBQUUsTUFBTSxDQUFDLE9BQU87WUFDcEIsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUU7U0FDakQsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELG9DQUFTLEdBQVQsVUFBVSxPQUFPLEVBQUUsTUFBTTtRQUN2QixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUNJLDJCQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsUUFBUSxFQUFFLHVDQUF1QztvQkFDakQsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLE1BQU0sRUFBRSxFQUFFO29CQUNWLFFBQVEsRUFBRSxrSkFNVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsK0JBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSywrQkFBYyxHQUEyQztRQUNoRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMxQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUM5QixDQUFDO0lBQ0YsdUJBQUM7Q0FuQ0QsQUFtQ0MsSUFBQTtTQW5DWSxnQkFBZ0IiLCJmaWxlIjoidHJlZS1ub2RlLWRyb3Atc2xvdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZU5vZGVEcm9wU2xvdCB7XHJcbiAgIG5vZGU6IFRyZWVOb2RlO1xyXG4gICBkcm9wSW5kZXg6IG51bWJlcjtcclxuXHJcbiAgb25Ecm9wKCRldmVudCkge1xyXG4gICAgdGhpcy5ub2RlLm1vdXNlQWN0aW9uKCdkcm9wJywgJGV2ZW50LmV2ZW50LCB7XHJcbiAgICAgIGZyb206ICRldmVudC5lbGVtZW50LFxyXG4gICAgICB0bzogeyBwYXJlbnQ6IHRoaXMubm9kZSwgaW5kZXg6IHRoaXMuZHJvcEluZGV4IH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWxsb3dEcm9wKGVsZW1lbnQsICRldmVudCkge1xyXG4gICAgcmV0dXJuIHRoaXMubm9kZS5vcHRpb25zLmFsbG93RHJvcChlbGVtZW50LCB7IHBhcmVudDogdGhpcy5ub2RlLCBpbmRleDogdGhpcy5kcm9wSW5kZXggfSwgJGV2ZW50KTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ1RyZWVOb2RlRHJvcFNsb3QsIHRyZWUtbm9kZS1kcm9wLXNsb3QnLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgc3R5bGVzOiBbXSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPGRpdlxyXG4gICAgICBjbGFzcz1cIm5vZGUtZHJvcC1zbG90XCJcclxuICAgICAgKHRyZWVEcm9wKT1cIm9uRHJvcCgkZXZlbnQpXCJcclxuICAgICAgW3RyZWVBbGxvd0Ryb3BdPVwiYWxsb3dEcm9wLmJpbmQodGhpcylcIj5cclxuICAgIDwvZGl2PlxyXG4gIGBcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nZHJvcEluZGV4JzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeExpanderComponent = /** @class */ (function () {\r\n    function TreeNodeExpanderComponent() {\r\n    }\r\n    TreeNodeExpanderComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'TreeNodeExpander, tree-node-expander',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <ng-container *mobxAutorun>\\n      <span\\n        *ngIf=\\\"node.hasChildren\\\"\\n        [class.toggle-children-wrapper-expanded]=\\\"node.isExpanded\\\"\\n        [class.toggle-children-wrapper-collapsed]=\\\"node.isCollapsed\\\"\\n        class=\\\"toggle-children-wrapper\\\"\\n        (click)=\\\"node.mouseAction('expanderClick', $event)\\\">\\n\\n        <span class=\\\"toggle-children\\\"></span>\\n      </span>\\n      <span\\n        *ngIf=\\\"!node.hasChildren\\\"\\n        class=\\\"toggle-children-placeholder\\\">\\n      </span>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeExpanderComponent.ctorParameters = function () { return []; };\r\n    TreeNodeExpanderComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n    };\r\n    return TreeNodeExpanderComponent;\r\n}());\r\nexport { TreeNodeExpanderComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1leHBhbmRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8saUJBQUEsRUFBa0IsTUFBTyxlQUFBLENBQWdCO0FBSXBFO0lBQUE7SUFnQ0EsQ0FBQztJQTlCTSxvQ0FBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxzQ0FBc0M7b0JBQ2hELGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO29CQUNyQyxNQUFNLEVBQUUsRUFBRTtvQkFDVixRQUFRLEVBQUUseWhCQWdCVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsd0NBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSyx3Q0FBYyxHQUEyQztRQUNoRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUN6QixDQUFDO0lBQ0YsZ0NBQUM7Q0FoQ0QsQUFnQ0MsSUFBQTtTQWhDWSx5QkFBeUIiLCJmaWxlIjoidHJlZS1ub2RlLWV4cGFuZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4uL21vZGVscy90cmVlLW5vZGUubW9kZWwnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTm9kZUV4cGFuZGVyQ29tcG9uZW50IHtcclxuICAgbm9kZTogVHJlZU5vZGU7XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ1RyZWVOb2RlRXhwYW5kZXIsIHRyZWUtbm9kZS1leHBhbmRlcicsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctY29udGFpbmVyICptb2J4QXV0b3J1bj5cclxuICAgICAgPHNwYW5cclxuICAgICAgICAqbmdJZj1cIm5vZGUuaGFzQ2hpbGRyZW5cIlxyXG4gICAgICAgIFtjbGFzcy50b2dnbGUtY2hpbGRyZW4td3JhcHBlci1leHBhbmRlZF09XCJub2RlLmlzRXhwYW5kZWRcIlxyXG4gICAgICAgIFtjbGFzcy50b2dnbGUtY2hpbGRyZW4td3JhcHBlci1jb2xsYXBzZWRdPVwibm9kZS5pc0NvbGxhcHNlZFwiXHJcbiAgICAgICAgY2xhc3M9XCJ0b2dnbGUtY2hpbGRyZW4td3JhcHBlclwiXHJcbiAgICAgICAgKGNsaWNrKT1cIm5vZGUubW91c2VBY3Rpb24oJ2V4cGFuZGVyQ2xpY2snLCAkZXZlbnQpXCI+XHJcblxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwidG9nZ2xlLWNoaWxkcmVuXCI+PC9zcGFuPlxyXG4gICAgICA8L3NwYW4+XHJcbiAgICAgIDxzcGFuXHJcbiAgICAgICAgKm5nSWY9XCIhbm9kZS5oYXNDaGlsZHJlblwiXHJcbiAgICAgICAgY2xhc3M9XCJ0b2dnbGUtY2hpbGRyZW4tcGxhY2Vob2xkZXJcIj5cclxuICAgICAgPC9zcGFuPlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgYFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbm9kZSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeChildrenComponent = /** @class */ (function () {\r\n    function TreeNodeChildrenComponent() {\r\n    }\r\n    TreeNodeChildrenComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-children',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n    <ng-container *mobxAutorun>\\n      <div [class.tree-children]=\\\"true\\\"\\n          [class.tree-children-no-padding]=\\\"node.options.levelPadding\\\"\\n          *treeAnimateOpen=\\\"\\n            node.isExpanded;\\n            speed:node.options.animateExpand;\\n            acceleration:node.options.animateAcceleration;\\n            enabled:node.options.animateExpand\\\">\\n        <tree-node-collection\\n          *ngIf=\\\"node.children\\\"\\n          [nodes]=\\\"node.children\\\"\\n          [templates]=\\\"templates\\\"\\n          [treeModel]=\\\"node.treeModel\\\">\\n        </tree-node-collection>\\n        <tree-loading-component\\n          [style.padding-left]=\\\"node.getNodePadding()\\\"\\n          class=\\\"tree-node-loading\\\"\\n          *ngIf=\\\"!node.children\\\"\\n          [template]=\\\"templates.loadingTemplate\\\"\\n          [node]=\\\"node\\\"\\n        ></tree-loading-component>\\n      </div>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeChildrenComponent.ctorParameters = function () { return []; };\r\n    TreeNodeChildrenComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    return TreeNodeChildrenComponent;\r\n}());\r\nexport { TreeNodeChildrenComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jaGlsZHJlbi5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8saUJBQUEsRUFBa0IsTUFBTyxlQUFBLENBQWdCO0FBSXBFO0lBQUE7SUEwQ0EsQ0FBQztJQXZDTSxvQ0FBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxvQkFBb0I7b0JBQzlCLGFBQWEsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO29CQUNyQyxNQUFNLEVBQUUsRUFBRTtvQkFDVixRQUFRLEVBQUUsMjRCQXdCVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsd0NBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSyx3Q0FBYyxHQUEyQztRQUNoRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMxQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUM5QixDQUFDO0lBQ0YsZ0NBQUM7Q0ExQ0QsQUEwQ0MsSUFBQTtTQTFDWSx5QkFBeUIiLCJmaWxlIjoidHJlZS1ub2RlLWNoaWxkcmVuLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4uL21vZGVscy90cmVlLW5vZGUubW9kZWwnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlTm9kZUNoaWxkcmVuQ29tcG9uZW50IHtcclxuICAgbm9kZTogVHJlZU5vZGU7XHJcbiAgIHRlbXBsYXRlczogYW55O1xyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgc2VsZWN0b3I6ICd0cmVlLW5vZGUtY2hpbGRyZW4nLFxyXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXHJcbiAgc3R5bGVzOiBbXSxcclxuICB0ZW1wbGF0ZTogYFxyXG4gICAgPG5nLWNvbnRhaW5lciAqbW9ieEF1dG9ydW4+XHJcbiAgICAgIDxkaXYgW2NsYXNzLnRyZWUtY2hpbGRyZW5dPVwidHJ1ZVwiXHJcbiAgICAgICAgICBbY2xhc3MudHJlZS1jaGlsZHJlbi1uby1wYWRkaW5nXT1cIm5vZGUub3B0aW9ucy5sZXZlbFBhZGRpbmdcIlxyXG4gICAgICAgICAgKnRyZWVBbmltYXRlT3Blbj1cIlxyXG4gICAgICAgICAgICBub2RlLmlzRXhwYW5kZWQ7XHJcbiAgICAgICAgICAgIHNwZWVkOm5vZGUub3B0aW9ucy5hbmltYXRlRXhwYW5kO1xyXG4gICAgICAgICAgICBhY2NlbGVyYXRpb246bm9kZS5vcHRpb25zLmFuaW1hdGVBY2NlbGVyYXRpb247XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6bm9kZS5vcHRpb25zLmFuaW1hdGVFeHBhbmRcIj5cclxuICAgICAgICA8dHJlZS1ub2RlLWNvbGxlY3Rpb25cclxuICAgICAgICAgICpuZ0lmPVwibm9kZS5jaGlsZHJlblwiXHJcbiAgICAgICAgICBbbm9kZXNdPVwibm9kZS5jaGlsZHJlblwiXHJcbiAgICAgICAgICBbdGVtcGxhdGVzXT1cInRlbXBsYXRlc1wiXHJcbiAgICAgICAgICBbdHJlZU1vZGVsXT1cIm5vZGUudHJlZU1vZGVsXCI+XHJcbiAgICAgICAgPC90cmVlLW5vZGUtY29sbGVjdGlvbj5cclxuICAgICAgICA8dHJlZS1sb2FkaW5nLWNvbXBvbmVudFxyXG4gICAgICAgICAgW3N0eWxlLnBhZGRpbmctbGVmdF09XCJub2RlLmdldE5vZGVQYWRkaW5nKClcIlxyXG4gICAgICAgICAgY2xhc3M9XCJ0cmVlLW5vZGUtbG9hZGluZ1wiXHJcbiAgICAgICAgICAqbmdJZj1cIiFub2RlLmNoaWxkcmVuXCJcclxuICAgICAgICAgIFt0ZW1wbGF0ZV09XCJ0ZW1wbGF0ZXMubG9hZGluZ1RlbXBsYXRlXCJcclxuICAgICAgICAgIFtub2RlXT1cIm5vZGVcIlxyXG4gICAgICAgID48L3RyZWUtbG9hZGluZy1jb21wb25lbnQ+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgYFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbm9kZSc6IFt7IHR5cGU6IElucHV0IH0sXSxcbid0ZW1wbGF0ZXMnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { reaction } from 'mobx';\r\nimport { observable, computed, action } from 'mobx-angular';\r\nvar TreeNodeCollectionComponent = /** @class */ (function () {\r\n    function TreeNodeCollectionComponent() {\r\n        this._dispose = [];\r\n    }\r\n    Object.defineProperty(TreeNodeCollectionComponent.prototype, \"nodes\", {\r\n        get: function () { return this._nodes; },\r\n        set: function (nodes) { this.setNodes(nodes); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeNodeCollectionComponent.prototype, \"marginTop\", {\r\n        get: function () {\r\n            var firstNode = this.viewportNodes && this.viewportNodes.length && this.viewportNodes[0];\r\n            var relativePosition = firstNode ? firstNode.position - firstNode.parent.position - firstNode.parent.getSelfHeight() : 0;\r\n            return relativePosition + \"px\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeNodeCollectionComponent.prototype.setNodes = function (nodes) {\r\n        this._nodes = nodes;\r\n    };\r\n    TreeNodeCollectionComponent.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.virtualScroll = this.treeModel.virtualScroll;\r\n        this._dispose = [\r\n            // return node indexes so we can compare structurally,\r\n            reaction(function () {\r\n                return _this.virtualScroll.getViewportNodes(_this.nodes).map(function (n) { return n.index; });\r\n            }, function (nodeIndexes) {\r\n                _this.viewportNodes = nodeIndexes.map(function (i) { return _this.nodes[i]; });\r\n            }, { compareStructural: true, fireImmediately: true }),\r\n            reaction(function () { return _this.nodes; }, function (nodes) {\r\n                _this.viewportNodes = _this.virtualScroll.getViewportNodes(nodes);\r\n            })\r\n        ];\r\n    };\r\n    TreeNodeCollectionComponent.prototype.ngOnDestroy = function () {\r\n        this._dispose.forEach(function (d) { return d(); });\r\n    };\r\n    TreeNodeCollectionComponent.prototype.trackNode = function (index, node) {\r\n        return node.id;\r\n    };\r\n    TreeNodeCollectionComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-collection',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    template: \"\\n    <ng-container *mobxAutorun>\\n      <div\\n        [style.margin-top]=\\\"marginTop\\\">\\n        <tree-node\\n          *ngFor=\\\"let node of viewportNodes; let i = index; trackBy: trackNode\\\"\\n          [node]=\\\"node\\\"\\n          [index]=\\\"i\\\"\\n          [templates]=\\\"templates\\\">\\n        </tree-node>\\n      </div>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeCollectionComponent.ctorParameters = function () { return []; };\r\n    TreeNodeCollectionComponent.propDecorators = {\r\n        'nodes': [{ type: Input },],\r\n        'treeModel': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Object)\r\n    ], TreeNodeCollectionComponent.prototype, \"_nodes\", void 0);\r\n    __decorate([\r\n        observable,\r\n        __metadata(\"design:type\", Array)\r\n    ], TreeNodeCollectionComponent.prototype, \"viewportNodes\", void 0);\r\n    __decorate([\r\n        computed,\r\n        __metadata(\"design:type\", String),\r\n        __metadata(\"design:paramtypes\", [])\r\n    ], TreeNodeCollectionComponent.prototype, \"marginTop\", null);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], TreeNodeCollectionComponent.prototype, \"setNodes\", null);\r\n    return TreeNodeCollectionComponent;\r\n}());\r\nexport { TreeNodeCollectionComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS1jb2xsZWN0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUFFLEtBQUEsRUFBTyxpQkFBQSxFQUNuQixNQUFNLGVBQUEsQ0FBZ0I7QUFDdkIsT0FBTyxFQUFFLFFBQUEsRUFBUyxNQUFPLE1BQUEsQ0FBTztBQUNoQyxPQUFPLEVBQUUsVUFBQSxFQUFZLFFBQUEsRUFBVSxNQUFBLEVBQU8sTUFBTyxjQUFBLENBQWU7QUFNNUQ7SUFBQTtRQW9CRSxhQUFRLEdBQUcsRUFBRSxDQUFDO0lBeURoQixDQUFDO0lBM0VDLHNCQUFJLDhDQUFLO2FBQVQsY0FBYyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7YUFDbkMsVUFBVSxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7OztPQURQO0lBV3pCLHNCQUFJLGtEQUFTO2FBQWI7WUFDUixJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0YsSUFBTSxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRTNILE1BQU0sQ0FBSSxnQkFBZ0IsT0FBSSxDQUFDO1FBQ2pDLENBQUM7OztPQUFBO0lBSU8sOENBQVEsR0FBUixVQUFTLEtBQUs7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVELDhDQUFRLEdBQVI7UUFBQSxpQkFjQztRQWJDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUM7UUFDbEQsSUFBSSxDQUFDLFFBQVEsR0FBRztZQUNkLHNEQUFzRDtZQUN0RCxRQUFRLENBQUM7Z0JBQ1AsTUFBTSxDQUFDLEtBQUksQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsS0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxLQUFLLEVBQVAsQ0FBTyxDQUFDLENBQUM7WUFDM0UsQ0FBQyxFQUFFLFVBQUMsV0FBVztnQkFDWCxLQUFJLENBQUMsYUFBYSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBQyxDQUFDLElBQUssT0FBQSxLQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFiLENBQWEsQ0FBQyxDQUFDO1lBQzdELENBQUMsRUFBRSxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFFLENBQ3REO1lBQ0QsUUFBUSxDQUFDLGNBQU0sT0FBQSxLQUFJLENBQUMsS0FBSyxFQUFWLENBQVUsRUFBRSxVQUFDLEtBQUs7Z0JBQy9CLEtBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsRSxDQUFDLENBQUM7U0FDSCxDQUFDO0lBQ0osQ0FBQztJQUVELGlEQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsRUFBRSxFQUFILENBQUcsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCwrQ0FBUyxHQUFULFVBQVUsS0FBSyxFQUFFLElBQUk7UUFDbkIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVJLHNDQUFVLEdBQTBCO1FBQzNDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDeEIsUUFBUSxFQUFFLHNCQUFzQjtvQkFDaEMsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7b0JBQ3JDLFFBQVEsRUFBRSx3VkFZVDtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsMENBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDSywwQ0FBYyxHQUEyQztRQUNoRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMzQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUMvQixXQUFXLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtLQUM5QixDQUFDO0lBckVZO1FBQVgsVUFBVTs7K0RBQVE7SUFJUDtRQUFYLFVBQVU7O3NFQUEyQjtJQUU1QjtRQUFULFFBQVE7OztnRUFLUjtJQUlPO1FBQVAsTUFBTTs7OzsrREFFTjtJQXFESCxrQ0FBQztDQTdFRCxBQTZFQyxJQUFBO1NBN0VZLDJCQUEyQiIsImZpbGUiOiJ0cmVlLW5vZGUtY29sbGVjdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiwgT25Jbml0LCBPbkRlc3Ryb3lcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgcmVhY3Rpb24gfSBmcm9tICdtb2J4JztcclxuaW1wb3J0IHsgb2JzZXJ2YWJsZSwgY29tcHV0ZWQsIGFjdGlvbiB9IGZyb20gJ21vYngtYW5ndWxhcic7XHJcbmltcG9ydCB7IFRyZWVWaXJ0dWFsU2Nyb2xsIH0gZnJvbSAnLi4vbW9kZWxzL3RyZWUtdmlydHVhbC1zY3JvbGwubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4uL21vZGVscy90cmVlLW5vZGUubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS5tb2RlbCc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVOb2RlQ29sbGVjdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcclxuICBcclxuICBnZXQgbm9kZXMoKSB7IHJldHVybiB0aGlzLl9ub2RlczsgfVxyXG4gIHNldCBub2Rlcyhub2RlcykgeyB0aGlzLnNldE5vZGVzKG5vZGVzKTsgfVxyXG5cclxuICAgdHJlZU1vZGVsOiBUcmVlTW9kZWw7XHJcblxyXG4gIEBvYnNlcnZhYmxlIF9ub2RlcztcclxuICBwcml2YXRlIHZpcnR1YWxTY3JvbGw6IFRyZWVWaXJ0dWFsU2Nyb2xsOyAvLyBDYW5ub3QgaW5qZWN0IHRoaXMsIGJlY2F1c2Ugd2UgbWlnaHQgYmUgaW5zaWRlIHRyZWVOb2RlVGVtcGxhdGVGdWxsXHJcbiAgIHRlbXBsYXRlcztcclxuXHJcbiAgQG9ic2VydmFibGUgdmlld3BvcnROb2RlczogVHJlZU5vZGVbXTtcclxuXHJcbiAgQGNvbXB1dGVkIGdldCBtYXJnaW5Ub3AoKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGZpcnN0Tm9kZSA9IHRoaXMudmlld3BvcnROb2RlcyAmJiB0aGlzLnZpZXdwb3J0Tm9kZXMubGVuZ3RoICYmIHRoaXMudmlld3BvcnROb2Rlc1swXTtcclxuICAgIGNvbnN0IHJlbGF0aXZlUG9zaXRpb24gPSBmaXJzdE5vZGUgPyBmaXJzdE5vZGUucG9zaXRpb24gLSBmaXJzdE5vZGUucGFyZW50LnBvc2l0aW9uIC0gZmlyc3ROb2RlLnBhcmVudC5nZXRTZWxmSGVpZ2h0KCkgOiAwO1xyXG5cclxuICAgIHJldHVybiBgJHtyZWxhdGl2ZVBvc2l0aW9ufXB4YDtcclxuICB9XHJcblxyXG4gIF9kaXNwb3NlID0gW107XHJcblxyXG4gIEBhY3Rpb24gc2V0Tm9kZXMobm9kZXMpIHtcclxuICAgIHRoaXMuX25vZGVzID0gbm9kZXM7XHJcbiAgfVxyXG5cclxuICBuZ09uSW5pdCgpIHtcclxuICAgIHRoaXMudmlydHVhbFNjcm9sbCA9IHRoaXMudHJlZU1vZGVsLnZpcnR1YWxTY3JvbGw7XHJcbiAgICB0aGlzLl9kaXNwb3NlID0gW1xyXG4gICAgICAvLyByZXR1cm4gbm9kZSBpbmRleGVzIHNvIHdlIGNhbiBjb21wYXJlIHN0cnVjdHVyYWxseSxcclxuICAgICAgcmVhY3Rpb24oKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWxTY3JvbGwuZ2V0Vmlld3BvcnROb2Rlcyh0aGlzLm5vZGVzKS5tYXAobiA9PiBuLmluZGV4KTtcclxuICAgICAgfSwgKG5vZGVJbmRleGVzKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnZpZXdwb3J0Tm9kZXMgPSBub2RlSW5kZXhlcy5tYXAoKGkpID0+IHRoaXMubm9kZXNbaV0pO1xyXG4gICAgICAgIH0sIHsgY29tcGFyZVN0cnVjdHVyYWw6IHRydWUsIGZpcmVJbW1lZGlhdGVseTogdHJ1ZSB9XHJcbiAgICAgICksXHJcbiAgICAgIHJlYWN0aW9uKCgpID0+IHRoaXMubm9kZXMsIChub2RlcykgPT4ge1xyXG4gICAgICAgIHRoaXMudmlld3BvcnROb2RlcyA9IHRoaXMudmlydHVhbFNjcm9sbC5nZXRWaWV3cG9ydE5vZGVzKG5vZGVzKTtcclxuICAgICAgfSlcclxuICAgIF07XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpIHtcclxuICAgIHRoaXMuX2Rpc3Bvc2UuZm9yRWFjaChkID0+IGQoKSk7XHJcbiAgfVxyXG5cclxuICB0cmFja05vZGUoaW5kZXgsIG5vZGUpIHtcclxuICAgIHJldHVybiBub2RlLmlkO1xyXG4gIH1cclxuXHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ3RyZWUtbm9kZS1jb2xsZWN0aW9uJyxcclxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctY29udGFpbmVyICptb2J4QXV0b3J1bj5cclxuICAgICAgPGRpdlxyXG4gICAgICAgIFtzdHlsZS5tYXJnaW4tdG9wXT1cIm1hcmdpblRvcFwiPlxyXG4gICAgICAgIDx0cmVlLW5vZGVcclxuICAgICAgICAgICpuZ0Zvcj1cImxldCBub2RlIG9mIHZpZXdwb3J0Tm9kZXM7IGxldCBpID0gaW5kZXg7IHRyYWNrQnk6IHRyYWNrTm9kZVwiXHJcbiAgICAgICAgICBbbm9kZV09XCJub2RlXCJcclxuICAgICAgICAgIFtpbmRleF09XCJpXCJcclxuICAgICAgICAgIFt0ZW1wbGF0ZXNdPVwidGVtcGxhdGVzXCI+XHJcbiAgICAgICAgPC90cmVlLW5vZGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgYFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xuXTtcbnN0YXRpYyBwcm9wRGVjb3JhdG9yczoge1trZXk6IHN0cmluZ106IERlY29yYXRvckludm9jYXRpb25bXX0gPSB7XG4nbm9kZXMnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4ndHJlZU1vZGVsJzogW3sgdHlwZTogSW5wdXQgfSxdLFxuJ3RlbXBsYXRlcyc6IFt7IHR5cGU6IElucHV0IH0sXSxcbn07XG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nvar TreeNodeWrapperComponent = /** @class */ (function () {\r\n    function TreeNodeWrapperComponent() {\r\n    }\r\n    TreeNodeWrapperComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-node-wrapper',\r\n                    encapsulation: ViewEncapsulation.None,\r\n                    styles: [],\r\n                    template: \"\\n      <div *ngIf=\\\"!templates.treeNodeWrapperTemplate\\\" class=\\\"node-wrapper\\\" [style.padding-left]=\\\"node.getNodePadding()\\\">\\n        <tree-node-expander [node]=\\\"node\\\"></tree-node-expander>\\n        <div class=\\\"node-content-wrapper\\\"\\n          [class.node-content-wrapper-active]=\\\"node.isActive\\\"\\n          [class.node-content-wrapper-focused]=\\\"node.isFocused\\\"\\n          (click)=\\\"node.mouseAction('click', $event)\\\"\\n          (dblclick)=\\\"node.mouseAction('dblClick', $event)\\\"\\n          (contextmenu)=\\\"node.mouseAction('contextMenu', $event)\\\"\\n          (treeDrop)=\\\"node.onDrop($event)\\\"\\n          (treeDropDragOver)=\\\"node.mouseAction('dragOver', $event)\\\"\\n          (treeDropDragLeave)=\\\"node.mouseAction('dragLeave', $event)\\\"\\n          (treeDropDragEnter)=\\\"node.mouseAction('dragEnter', $event)\\\"\\n          [treeAllowDrop]=\\\"node.allowDrop\\\"\\n          [treeDrag]=\\\"node\\\"\\n          [treeDragEnabled]=\\\"node.allowDrag()\\\">\\n\\n          <tree-node-content [node]=\\\"node\\\" [index]=\\\"index\\\" [template]=\\\"templates.treeNodeTemplate\\\">\\n          </tree-node-content>\\n        </div>\\n      </div>\\n      <ng-container \\n        [ngTemplateOutlet]=\\\"templates.treeNodeWrapperTemplate\\\" \\n        [ngTemplateOutletContext]=\\\"{ $implicit: node, node: node, index: index, templates: templates }\\\">\\n      </ng-container>\\n    \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeNodeWrapperComponent.ctorParameters = function () { return []; };\r\n    TreeNodeWrapperComponent.propDecorators = {\r\n        'node': [{ type: Input },],\r\n        'index': [{ type: Input },],\r\n        'templates': [{ type: Input },],\r\n    };\r\n    return TreeNodeWrapperComponent;\r\n}());\r\nexport { TreeNodeWrapperComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtbm9kZS13cmFwcGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBQSxFQUFXLEtBQUEsRUFBTyxpQkFBQSxFQUErQixNQUFPLGVBQUEsQ0FBZ0I7QUFLakY7SUFNRTtJQUFnQixDQUFDO0lBRVosbUNBQVUsR0FBMEI7UUFDM0MsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDO29CQUN4QixRQUFRLEVBQUUsbUJBQW1CO29CQUM3QixhQUFhLEVBQUUsaUJBQWlCLENBQUMsSUFBSTtvQkFDckMsTUFBTSxFQUFFLEVBQUU7b0JBQ1YsUUFBUSxFQUFFLHUwQ0F5QlA7aUJBQ0osRUFBRyxFQUFFO0tBQ0wsQ0FBQztJQUNGLGtCQUFrQjtJQUNYLHVDQUFjLEdBQW1FLGNBQU0sT0FBQSxFQUM3RixFQUQ2RixDQUM3RixDQUFDO0lBQ0ssdUNBQWMsR0FBMkM7UUFDaEUsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDMUIsT0FBTyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDM0IsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7S0FDOUIsQ0FBQztJQUNGLCtCQUFDO0NBakRELEFBaURDLElBQUE7U0FqRFksd0JBQXdCIiwiZmlsZSI6InRyZWUtbm9kZS13cmFwcGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1ub2RlLm1vZGVsJztcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVOb2RlV3JhcHBlckNvbXBvbmVudCB7XHJcblxyXG4gICBub2RlOiBUcmVlTm9kZTtcclxuICAgaW5kZXg6IG51bWJlcjtcclxuICAgdGVtcGxhdGVzOiBhbnk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5zdGF0aWMgZGVjb3JhdG9yczogRGVjb3JhdG9ySW52b2NhdGlvbltdID0gW1xueyB0eXBlOiBDb21wb25lbnQsIGFyZ3M6IFt7XHJcbiAgc2VsZWN0b3I6ICd0cmVlLW5vZGUtd3JhcHBlcicsXHJcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcclxuICBzdHlsZXM6IFtdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICAgIDxkaXYgKm5nSWY9XCIhdGVtcGxhdGVzLnRyZWVOb2RlV3JhcHBlclRlbXBsYXRlXCIgY2xhc3M9XCJub2RlLXdyYXBwZXJcIiBbc3R5bGUucGFkZGluZy1sZWZ0XT1cIm5vZGUuZ2V0Tm9kZVBhZGRpbmcoKVwiPlxyXG4gICAgICAgIDx0cmVlLW5vZGUtZXhwYW5kZXIgW25vZGVdPVwibm9kZVwiPjwvdHJlZS1ub2RlLWV4cGFuZGVyPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtd3JhcHBlclwiXHJcbiAgICAgICAgICBbY2xhc3Mubm9kZS1jb250ZW50LXdyYXBwZXItYWN0aXZlXT1cIm5vZGUuaXNBY3RpdmVcIlxyXG4gICAgICAgICAgW2NsYXNzLm5vZGUtY29udGVudC13cmFwcGVyLWZvY3VzZWRdPVwibm9kZS5pc0ZvY3VzZWRcIlxyXG4gICAgICAgICAgKGNsaWNrKT1cIm5vZGUubW91c2VBY3Rpb24oJ2NsaWNrJywgJGV2ZW50KVwiXHJcbiAgICAgICAgICAoZGJsY2xpY2spPVwibm9kZS5tb3VzZUFjdGlvbignZGJsQ2xpY2snLCAkZXZlbnQpXCJcclxuICAgICAgICAgIChjb250ZXh0bWVudSk9XCJub2RlLm1vdXNlQWN0aW9uKCdjb250ZXh0TWVudScsICRldmVudClcIlxyXG4gICAgICAgICAgKHRyZWVEcm9wKT1cIm5vZGUub25Ecm9wKCRldmVudClcIlxyXG4gICAgICAgICAgKHRyZWVEcm9wRHJhZ092ZXIpPVwibm9kZS5tb3VzZUFjdGlvbignZHJhZ092ZXInLCAkZXZlbnQpXCJcclxuICAgICAgICAgICh0cmVlRHJvcERyYWdMZWF2ZSk9XCJub2RlLm1vdXNlQWN0aW9uKCdkcmFnTGVhdmUnLCAkZXZlbnQpXCJcclxuICAgICAgICAgICh0cmVlRHJvcERyYWdFbnRlcik9XCJub2RlLm1vdXNlQWN0aW9uKCdkcmFnRW50ZXInLCAkZXZlbnQpXCJcclxuICAgICAgICAgIFt0cmVlQWxsb3dEcm9wXT1cIm5vZGUuYWxsb3dEcm9wXCJcclxuICAgICAgICAgIFt0cmVlRHJhZ109XCJub2RlXCJcclxuICAgICAgICAgIFt0cmVlRHJhZ0VuYWJsZWRdPVwibm9kZS5hbGxvd0RyYWcoKVwiPlxyXG5cclxuICAgICAgICAgIDx0cmVlLW5vZGUtY29udGVudCBbbm9kZV09XCJub2RlXCIgW2luZGV4XT1cImluZGV4XCIgW3RlbXBsYXRlXT1cInRlbXBsYXRlcy50cmVlTm9kZVRlbXBsYXRlXCI+XHJcbiAgICAgICAgICA8L3RyZWUtbm9kZS1jb250ZW50PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPG5nLWNvbnRhaW5lciBcclxuICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJ0ZW1wbGF0ZXMudHJlZU5vZGVXcmFwcGVyVGVtcGxhdGVcIiBcclxuICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwieyAkaW1wbGljaXQ6IG5vZGUsIG5vZGU6IG5vZGUsIGluZGV4OiBpbmRleCwgdGVtcGxhdGVzOiB0ZW1wbGF0ZXMgfVwiPlxyXG4gICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgIGBcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ25vZGUnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4naW5kZXgnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4ndGVtcGxhdGVzJzogW3sgdHlwZTogSW5wdXQgfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Component, ElementRef, HostListener } from '@angular/core';\r\nimport { TreeVirtualScroll } from '../models/tree-virtual-scroll.model';\r\nimport { TREE_EVENTS } from '../constants/events';\r\nvar TreeViewportComponent = /** @class */ (function () {\r\n    function TreeViewportComponent(elementRef, virtualScroll) {\r\n        this.elementRef = elementRef;\r\n        this.virtualScroll = virtualScroll;\r\n    }\r\n    TreeViewportComponent.prototype.ngOnInit = function () {\r\n        this.virtualScroll.init();\r\n    };\r\n    TreeViewportComponent.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.setViewport();\r\n            _this.virtualScroll.fireEvent({ eventName: TREE_EVENTS.initialized });\r\n        });\r\n    };\r\n    TreeViewportComponent.prototype.ngOnDestroy = function () {\r\n        this.virtualScroll.clear();\r\n    };\r\n    TreeViewportComponent.prototype.getTotalHeight = function () {\r\n        return this.virtualScroll.isEnabled() && this.virtualScroll.totalHeight + 'px' || 'auto';\r\n    };\r\n    TreeViewportComponent.prototype.onScroll = function () {\r\n        this.setViewport();\r\n    };\r\n    TreeViewportComponent.prototype.setViewport = function () {\r\n        this.virtualScroll.setViewport(this.elementRef.nativeElement);\r\n    };\r\n    TreeViewportComponent.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'tree-viewport',\r\n                    styles: [],\r\n                    providers: [TreeVirtualScroll],\r\n                    template: \"\\n    <ng-container *mobxAutorun>\\n      <div [style.height]=\\\"getTotalHeight()\\\">\\n        <ng-content></ng-content>\\n      </div>\\n    </ng-container>\\n  \"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeViewportComponent.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: TreeVirtualScroll, },\r\n    ]; };\r\n    TreeViewportComponent.propDecorators = {\r\n        'onScroll': [{ type: HostListener, args: ['scroll', ['$event'],] },],\r\n    };\r\n    return TreeViewportComponent;\r\n}());\r\nexport { TreeViewportComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9jb21wb25lbnRzL3RyZWUtdmlld3BvcnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxTQUFTLEVBQUUsVUFBQSxFQUErQixZQUFBLEVBQzNDLE1BQU0sZUFBQSxDQUFnQjtBQUN2QixPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxxQ0FBQSxDQUFzQztBQUN4RSxPQUFPLEVBQUUsV0FBQSxFQUFZLE1BQU8scUJBQUEsQ0FBc0I7QUFHbEQ7SUFDRSwrQkFDVSxVQUFzQixFQUN2QixhQUFnQztRQUQvQixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBQ3ZCLGtCQUFhLEdBQWIsYUFBYSxDQUFtQjtJQUN6QyxDQUFDO0lBRUQsd0NBQVEsR0FBUjtRQUNFLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVELCtDQUFlLEdBQWY7UUFBQSxpQkFLQztRQUpDLFVBQVUsQ0FBQztZQUNULEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNuQixLQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUN2RSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCwyQ0FBVyxHQUFYO1FBQ0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsOENBQWMsR0FBZDtRQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsRUFBRSxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxHQUFHLElBQUksSUFBSSxNQUFNLENBQUM7SUFDM0YsQ0FBQztJQUdELHdDQUFRLEdBQVI7UUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQUVELDJDQUFXLEdBQVg7UUFDRSxJQUFJLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFDSSxnQ0FBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxlQUFlO29CQUN6QixNQUFNLEVBQUUsRUFBRTtvQkFDVixTQUFTLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQztvQkFDOUIsUUFBUSxFQUFFLDhKQU1UO2lCQUNGLEVBQUcsRUFBRTtLQUNMLENBQUM7SUFDRixrQkFBa0I7SUFDWCxvQ0FBYyxHQUFtRSxjQUFNLE9BQUE7UUFDOUYsRUFBQyxJQUFJLEVBQUUsVUFBVSxHQUFHO1FBQ3BCLEVBQUMsSUFBSSxFQUFFLGlCQUFpQixHQUFHO0tBQzFCLEVBSDZGLENBRzdGLENBQUM7SUFDSyxvQ0FBYyxHQUEyQztRQUNoRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUcsRUFBRSxFQUFFO0tBQ3BFLENBQUM7SUFDRiw0QkFBQztDQXZERCxBQXVEQyxJQUFBO1NBdkRZLHFCQUFxQiIsImZpbGUiOiJ0cmVlLXZpZXdwb3J0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIENvbXBvbmVudCwgRWxlbWVudFJlZiwgVmlld0VuY2Fwc3VsYXRpb24sIEhvc3RMaXN0ZW5lciwgQWZ0ZXJWaWV3SW5pdCwgT25Jbml0LCBPbkRlc3Ryb3lcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgVHJlZVZpcnR1YWxTY3JvbGwgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS12aXJ0dWFsLXNjcm9sbC5tb2RlbCc7XHJcbmltcG9ydCB7IFRSRUVfRVZFTlRTIH0gZnJvbSAnLi4vY29uc3RhbnRzL2V2ZW50cyc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFRyZWVWaWV3cG9ydENvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQsIE9uSW5pdCwgT25EZXN0cm95IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZixcclxuICAgIHB1YmxpYyB2aXJ0dWFsU2Nyb2xsOiBUcmVlVmlydHVhbFNjcm9sbCkge1xyXG4gIH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLnZpcnR1YWxTY3JvbGwuaW5pdCgpO1xyXG4gIH1cclxuXHJcbiAgbmdBZnRlclZpZXdJbml0KCkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0Vmlld3BvcnQoKTtcclxuICAgICAgdGhpcy52aXJ0dWFsU2Nyb2xsLmZpcmVFdmVudCh7IGV2ZW50TmFtZTogVFJFRV9FVkVOVFMuaW5pdGlhbGl6ZWQgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nT25EZXN0cm95KCkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2Nyb2xsLmNsZWFyKCk7XHJcbiAgfVxyXG5cclxuICBnZXRUb3RhbEhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLnZpcnR1YWxTY3JvbGwuaXNFbmFibGVkKCkgJiYgdGhpcy52aXJ0dWFsU2Nyb2xsLnRvdGFsSGVpZ2h0ICsgJ3B4JyB8fCAnYXV0byc7XHJcbiAgfVxyXG5cclxuICBcclxuICBvblNjcm9sbCgpIHtcclxuICAgIHRoaXMuc2V0Vmlld3BvcnQoKTtcclxuICB9XHJcblxyXG4gIHNldFZpZXdwb3J0KCkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2Nyb2xsLnNldFZpZXdwb3J0KHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IENvbXBvbmVudCwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ3RyZWUtdmlld3BvcnQnLFxyXG4gIHN0eWxlczogW10sXHJcbiAgcHJvdmlkZXJzOiBbVHJlZVZpcnR1YWxTY3JvbGxdLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8bmctY29udGFpbmVyICptb2J4QXV0b3J1bj5cclxuICAgICAgPGRpdiBbc3R5bGUuaGVpZ2h0XT1cImdldFRvdGFsSGVpZ2h0KClcIj5cclxuICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9uZy1jb250YWluZXI+XHJcbiAgYFxyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xue3R5cGU6IEVsZW1lbnRSZWYsIH0sXG57dHlwZTogVHJlZVZpcnR1YWxTY3JvbGwsIH0sXG5dO1xuc3RhdGljIHByb3BEZWNvcmF0b3JzOiB7W2tleTogc3RyaW5nXTogRGVjb3JhdG9ySW52b2NhdGlvbltdfSA9IHtcbidvblNjcm9sbCc6IFt7IHR5cGU6IEhvc3RMaXN0ZW5lciwgYXJnczogWydzY3JvbGwnLCBbJyRldmVudCddLCBdIH0sXSxcbn07XG59XHJcblxuaW50ZXJmYWNlIERlY29yYXRvckludm9jYXRpb24ge1xuICB0eXBlOiBGdW5jdGlvbjtcbiAgYXJncz86IGFueVtdO1xufVxuIl19","import { Directive, Output, Input, EventEmitter, HostListener, Renderer, ElementRef } from '@angular/core';\r\nimport { TreeDraggedElement } from '../models/tree-dragged-element.model';\r\nvar DRAG_OVER_CLASS = 'is-dragging-over';\r\nvar DRAG_DISABLED_CLASS = 'is-dragging-over-disabled';\r\nvar TreeDropDirective = /** @class */ (function () {\r\n    function TreeDropDirective(el, renderer, treeDraggedElement) {\r\n        this.el = el;\r\n        this.renderer = renderer;\r\n        this.treeDraggedElement = treeDraggedElement;\r\n        this.onDropCallback = new EventEmitter();\r\n        this.onDragOverCallback = new EventEmitter();\r\n        this.onDragLeaveCallback = new EventEmitter();\r\n        this.onDragEnterCallback = new EventEmitter();\r\n        this._allowDrop = function (element, $event) { return true; };\r\n    }\r\n    Object.defineProperty(TreeDropDirective.prototype, \"treeAllowDrop\", {\r\n        set: function (allowDrop) {\r\n            if (allowDrop instanceof Function) {\r\n                this._allowDrop = allowDrop;\r\n            }\r\n            else\r\n                this._allowDrop = function (element, $event) { return allowDrop; };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TreeDropDirective.prototype.allowDrop = function ($event) {\r\n        return this._allowDrop(this.treeDraggedElement.get(), $event);\r\n    };\r\n    TreeDropDirective.prototype.onDragOver = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return this.addDisabledClass();\r\n        this.onDragOverCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n        $event.preventDefault();\r\n        this.addClass();\r\n    };\r\n    TreeDropDirective.prototype.onDragEnter = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return;\r\n        this.onDragEnterCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n    };\r\n    TreeDropDirective.prototype.onDragLeave = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return this.removeDisabledClass();\r\n        this.onDragLeaveCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n        this.removeClass();\r\n    };\r\n    TreeDropDirective.prototype.onDrop = function ($event) {\r\n        if (!this.allowDrop($event))\r\n            return;\r\n        $event.preventDefault();\r\n        this.onDropCallback.emit({ event: $event, element: this.treeDraggedElement.get() });\r\n        this.removeClass();\r\n        this.treeDraggedElement.set(null);\r\n    };\r\n    TreeDropDirective.prototype.addClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_OVER_CLASS, true);\r\n    };\r\n    TreeDropDirective.prototype.removeClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_OVER_CLASS, false);\r\n    };\r\n    TreeDropDirective.prototype.addDisabledClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_DISABLED_CLASS, true);\r\n    };\r\n    TreeDropDirective.prototype.removeDisabledClass = function () {\r\n        this.renderer.setElementClass(this.el.nativeElement, DRAG_DISABLED_CLASS, false);\r\n    };\r\n    TreeDropDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[treeDrop]'\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeDropDirective.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: Renderer, },\r\n        { type: TreeDraggedElement, },\r\n    ]; };\r\n    TreeDropDirective.propDecorators = {\r\n        'onDropCallback': [{ type: Output, args: ['treeDrop',] },],\r\n        'onDragOverCallback': [{ type: Output, args: ['treeDropDragOver',] },],\r\n        'onDragLeaveCallback': [{ type: Output, args: ['treeDropDragLeave',] },],\r\n        'onDragEnterCallback': [{ type: Output, args: ['treeDropDragEnter',] },],\r\n        'treeAllowDrop': [{ type: Input },],\r\n        'onDragOver': [{ type: HostListener, args: ['dragover', ['$event'],] },],\r\n        'onDragEnter': [{ type: HostListener, args: ['dragenter', ['$event'],] },],\r\n        'onDragLeave': [{ type: HostListener, args: ['dragleave', ['$event'],] },],\r\n        'onDrop': [{ type: HostListener, args: ['drop', ['$event'],] },],\r\n    };\r\n    return TreeDropDirective;\r\n}());\r\nexport { TreeDropDirective };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9kaXJlY3RpdmVzL3RyZWUtZHJvcC5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxNQUFBLEVBQVEsS0FBQSxFQUFPLFlBQUEsRUFBYyxZQUFBLEVBQWMsUUFBQSxFQUFVLFVBQUEsRUFBVyxNQUFPLGVBQUEsQ0FBZ0I7QUFDM0csT0FBTyxFQUFFLGtCQUFBLEVBQW1CLE1BQU8sc0NBQUEsQ0FBdUM7QUFFMUUsSUFBTSxlQUFBLEdBQWtCLGtCQUFBLENBQW1CO0FBQzNDLElBQU0sbUJBQUEsR0FBc0IsMkJBQUEsQ0FBNEI7QUFHeEQ7SUFpQkUsMkJBQW9CLEVBQWMsRUFBVSxRQUFrQixFQUFVLGtCQUFzQztRQUExRixPQUFFLEdBQUYsRUFBRSxDQUFZO1FBQVUsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUFVLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFoQjdHLG1CQUFjLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUNwQyx1QkFBa0IsR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ3hDLHdCQUFtQixHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFDekMsd0JBQW1CLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUVsQyxlQUFVLEdBQUcsVUFBQyxPQUFPLEVBQUUsTUFBTSxJQUFLLE9BQUEsSUFBSSxFQUFKLENBQUksQ0FBQztJQVkvQyxDQUFDO0lBWEEsc0JBQUksNENBQWE7YUFBakIsVUFBa0IsU0FBUztZQUMxQixFQUFFLENBQUMsQ0FBQyxTQUFTLFlBQVksUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDbEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7WUFDOUIsQ0FBQztZQUNELElBQUk7Z0JBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFDLE9BQU8sRUFBRSxNQUFNLElBQUssT0FBQSxTQUFTLEVBQVQsQ0FBUyxDQUFDO1FBQ3hELENBQUM7OztP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SUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRyxFQUFFLEVBQUU7UUFDM0UsUUFBUSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFHLEVBQUUsRUFBRTtLQUNoRSxDQUFDO0lBQ0Ysd0JBQUM7Q0F6RkQsQUF5RkMsSUFBQTtTQXpGWSxpQkFBaUIiLCJmaWxlIjoidHJlZS1kcm9wLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIE91dHB1dCwgSW5wdXQsIEV2ZW50RW1pdHRlciwgSG9zdExpc3RlbmVyLCBSZW5kZXJlciwgRWxlbWVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlRHJhZ2dlZEVsZW1lbnQgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwnO1xyXG5cclxuY29uc3QgRFJBR19PVkVSX0NMQVNTID0gJ2lzLWRyYWdnaW5nLW92ZXInO1xyXG5jb25zdCBEUkFHX0RJU0FCTEVEX0NMQVNTID0gJ2lzLWRyYWdnaW5nLW92ZXItZGlzYWJsZWQnO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlRHJvcERpcmVjdGl2ZSB7XHJcbiAgIG9uRHJvcENhbGxiYWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG4gICBvbkRyYWdPdmVyQ2FsbGJhY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgIG9uRHJhZ0xlYXZlQ2FsbGJhY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcbiAgIG9uRHJhZ0VudGVyQ2FsbGJhY2sgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIHByaXZhdGUgX2FsbG93RHJvcCA9IChlbGVtZW50LCAkZXZlbnQpID0+IHRydWU7XHJcbiAgIHNldCB0cmVlQWxsb3dEcm9wKGFsbG93RHJvcCkge1xyXG4gICAgaWYgKGFsbG93RHJvcCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XHJcbiAgICAgIHRoaXMuX2FsbG93RHJvcCA9IGFsbG93RHJvcDtcclxuICAgIH1cclxuICAgIGVsc2UgdGhpcy5fYWxsb3dEcm9wID0gKGVsZW1lbnQsICRldmVudCkgPT4gYWxsb3dEcm9wO1xyXG4gIH1cclxuICBhbGxvd0Ryb3AoJGV2ZW50KSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYWxsb3dEcm9wKHRoaXMudHJlZURyYWdnZWRFbGVtZW50LmdldCgpLCAkZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIsIHByaXZhdGUgdHJlZURyYWdnZWRFbGVtZW50OiBUcmVlRHJhZ2dlZEVsZW1lbnQpIHtcclxuICB9XHJcblxyXG4gICBvbkRyYWdPdmVyKCRldmVudCkge1xyXG4gICAgaWYgKCF0aGlzLmFsbG93RHJvcCgkZXZlbnQpKSByZXR1cm4gdGhpcy5hZGREaXNhYmxlZENsYXNzKCk7XHJcblxyXG4gICAgdGhpcy5vbkRyYWdPdmVyQ2FsbGJhY2suZW1pdCh7ZXZlbnQ6ICRldmVudCwgZWxlbWVudDogdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuZ2V0KCl9KTtcclxuXHJcbiAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuYWRkQ2xhc3MoKTtcclxuICB9XHJcblxyXG4gICBvbkRyYWdFbnRlcigkZXZlbnQpIHtcclxuICAgIGlmICghdGhpcy5hbGxvd0Ryb3AoJGV2ZW50KSkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMub25EcmFnRW50ZXJDYWxsYmFjay5lbWl0KHtldmVudDogJGV2ZW50LCBlbGVtZW50OiB0aGlzLnRyZWVEcmFnZ2VkRWxlbWVudC5nZXQoKX0pO1xyXG4gIH1cclxuXHJcbiAgIG9uRHJhZ0xlYXZlKCRldmVudCkge1xyXG4gICAgaWYgKCF0aGlzLmFsbG93RHJvcCgkZXZlbnQpKSByZXR1cm4gdGhpcy5yZW1vdmVEaXNhYmxlZENsYXNzKCk7XHJcblxyXG4gICAgdGhpcy5vbkRyYWdMZWF2ZUNhbGxiYWNrLmVtaXQoe2V2ZW50OiAkZXZlbnQsIGVsZW1lbnQ6IHRoaXMudHJlZURyYWdnZWRFbGVtZW50LmdldCgpfSk7XHJcblxyXG4gICAgdGhpcy5yZW1vdmVDbGFzcygpO1xyXG4gIH1cclxuXHJcbiAgIG9uRHJvcCgkZXZlbnQpIHtcclxuICAgIGlmICghdGhpcy5hbGxvd0Ryb3AoJGV2ZW50KSkgcmV0dXJuO1xyXG5cclxuICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5vbkRyb3BDYWxsYmFjay5lbWl0KHtldmVudDogJGV2ZW50LCBlbGVtZW50OiB0aGlzLnRyZWVEcmFnZ2VkRWxlbWVudC5nZXQoKX0pO1xyXG4gICAgdGhpcy5yZW1vdmVDbGFzcygpO1xyXG4gICAgdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuc2V0KG51bGwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRDbGFzcygpIHtcclxuICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgRFJBR19PVkVSX0NMQVNTLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlQ2xhc3MoKSB7XHJcbiAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRDbGFzcyh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQsIERSQUdfT1ZFUl9DTEFTUywgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGREaXNhYmxlZENsYXNzKCkge1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50Q2xhc3ModGhpcy5lbC5uYXRpdmVFbGVtZW50LCBEUkFHX0RJU0FCTEVEX0NMQVNTLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVtb3ZlRGlzYWJsZWRDbGFzcygpIHtcclxuICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudENsYXNzKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgRFJBR19ESVNBQkxFRF9DTEFTUywgZmFsc2UpO1xyXG4gIH1cclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogRGlyZWN0aXZlLCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAnW3RyZWVEcm9wXSdcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbnt0eXBlOiBFbGVtZW50UmVmLCB9LFxue3R5cGU6IFJlbmRlcmVyLCB9LFxue3R5cGU6IFRyZWVEcmFnZ2VkRWxlbWVudCwgfSxcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ29uRHJvcENhbGxiYWNrJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ3RyZWVEcm9wJywgXSB9LF0sXG4nb25EcmFnT3ZlckNhbGxiYWNrJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ3RyZWVEcm9wRHJhZ092ZXInLCBdIH0sXSxcbidvbkRyYWdMZWF2ZUNhbGxiYWNrJzogW3sgdHlwZTogT3V0cHV0LCBhcmdzOiBbJ3RyZWVEcm9wRHJhZ0xlYXZlJywgXSB9LF0sXG4nb25EcmFnRW50ZXJDYWxsYmFjayc6IFt7IHR5cGU6IE91dHB1dCwgYXJnczogWyd0cmVlRHJvcERyYWdFbnRlcicsIF0gfSxdLFxuJ3RyZWVBbGxvd0Ryb3AnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nb25EcmFnT3Zlcic6IFt7IHR5cGU6IEhvc3RMaXN0ZW5lciwgYXJnczogWydkcmFnb3ZlcicsIFsnJGV2ZW50J10sIF0gfSxdLFxuJ29uRHJhZ0VudGVyJzogW3sgdHlwZTogSG9zdExpc3RlbmVyLCBhcmdzOiBbJ2RyYWdlbnRlcicsIFsnJGV2ZW50J10sIF0gfSxdLFxuJ29uRHJhZ0xlYXZlJzogW3sgdHlwZTogSG9zdExpc3RlbmVyLCBhcmdzOiBbJ2RyYWdsZWF2ZScsIFsnJGV2ZW50J10sIF0gfSxdLFxuJ29uRHJvcCc6IFt7IHR5cGU6IEhvc3RMaXN0ZW5lciwgYXJnczogWydkcm9wJywgWyckZXZlbnQnXSwgXSB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","import { Directive, Input, HostListener, Renderer, ElementRef } from '@angular/core';\r\nimport { TreeDraggedElement } from '../models/tree-dragged-element.model';\r\nvar DRAG_OVER_CLASS = 'is-dragging-over';\r\nvar TreeDragDirective = /** @class */ (function () {\r\n    function TreeDragDirective(el, renderer, treeDraggedElement) {\r\n        this.el = el;\r\n        this.renderer = renderer;\r\n        this.treeDraggedElement = treeDraggedElement;\r\n    }\r\n    TreeDragDirective.prototype.ngDoCheck = function () {\r\n        this.renderer.setElementAttribute(this.el.nativeElement, 'draggable', this.treeDragEnabled ? 'true' : 'false');\r\n    };\r\n    TreeDragDirective.prototype.onDragStart = function (ev) {\r\n        // setting the data is required by firefox\r\n        ev.dataTransfer.setData('text', ev.target.id);\r\n        this.treeDraggedElement.set(this.draggedElement);\r\n        if (this.draggedElement.mouseAction) {\r\n            this.draggedElement.mouseAction('dragStart', ev);\r\n        }\r\n    };\r\n    TreeDragDirective.prototype.onDrag = function (ev) {\r\n        if (this.draggedElement.mouseAction) {\r\n            this.draggedElement.mouseAction('drag', ev);\r\n        }\r\n    };\r\n    TreeDragDirective.prototype.onDragEnd = function () {\r\n        if (this.draggedElement.mouseAction) {\r\n            this.draggedElement.mouseAction('dragEnd');\r\n        }\r\n        this.treeDraggedElement.set(null);\r\n    };\r\n    TreeDragDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[treeDrag]'\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeDragDirective.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: Renderer, },\r\n        { type: TreeDraggedElement, },\r\n    ]; };\r\n    TreeDragDirective.propDecorators = {\r\n        'draggedElement': [{ type: Input, args: ['treeDrag',] },],\r\n        'treeDragEnabled': [{ type: Input },],\r\n        'onDragStart': [{ type: HostListener, args: ['dragstart', ['$event'],] },],\r\n        'onDrag': [{ type: HostListener, args: ['drag', ['$event'],] },],\r\n        'onDragEnd': [{ type: HostListener, args: ['dragend',] },],\r\n    };\r\n    return TreeDragDirective;\r\n}());\r\nexport { TreeDragDirective };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9kaXJlY3RpdmVzL3RyZWUtZHJhZy5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQUEsRUFBVyxLQUFBLEVBQU8sWUFBQSxFQUFjLFFBQUEsRUFBVSxVQUFBLEVBQW9CLE1BQU8sZUFBQSxDQUFnQjtBQUM5RixPQUFPLEVBQUUsa0JBQUEsRUFBbUIsTUFBTyxzQ0FBQSxDQUF1QztBQUUxRSxJQUFNLGVBQUEsR0FBa0Isa0JBQUEsQ0FBbUI7QUFHM0M7SUFJRSwyQkFBb0IsRUFBYyxFQUFVLFFBQWtCLEVBQVUsa0JBQXNDO1FBQTFGLE9BQUUsR0FBRixFQUFFLENBQVk7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQVUsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtJQUM5RyxDQUFDO0lBRUQscUNBQVMsR0FBVDtRQUNFLElBQUksQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakgsQ0FBQztJQUVBLHVDQUFXLEdBQVgsVUFBWSxFQUFFO1FBQ2IsMENBQTBDO1FBQzFDLEVBQUUsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ2pELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckQsQ0FBQztJQUNILENBQUM7SUFFQSxrQ0FBTSxHQUFOLFVBQU8sRUFBRTtRQUNSLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEQsQ0FBQztJQUNILENBQUM7SUFFQSxxQ0FBUyxHQUFUO1FBQ0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFDRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFDSSw0QkFBVSxHQUEwQjtRQUMzQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUM7b0JBQ3hCLFFBQVEsRUFBRSxZQUFZO2lCQUN2QixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gsZ0NBQWMsR0FBbUUsY0FBTSxPQUFBO1FBQzlGLEVBQUMsSUFBSSxFQUFFLFVBQVUsR0FBRztRQUNwQixFQUFDLElBQUksRUFBRSxRQUFRLEdBQUc7UUFDbEIsRUFBQyxJQUFJLEVBQUUsa0JBQWtCLEdBQUc7S0FDM0IsRUFKNkYsQ0FJN0YsQ0FBQztJQUNLLGdDQUFjLEdBQTJDO1FBQ2hFLGdCQUFnQixFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLFVBQVUsRUFBRyxFQUFFLEVBQUU7UUFDMUQsaUJBQWlCLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtRQUNyQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUcsRUFBRSxFQUFFO1FBQzNFLFFBQVEsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRyxFQUFFLEVBQUU7UUFDakUsV0FBVyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxDQUFDLFNBQVMsRUFBRyxFQUFFLEVBQUU7S0FDMUQsQ0FBQztJQUNGLHdCQUFDO0NBbERELEFBa0RDLElBQUE7U0FsRFksaUJBQWlCIiwiZmlsZSI6InRyZWUtZHJhZy5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGlyZWN0aXZlLCBJbnB1dCwgSG9zdExpc3RlbmVyLCBSZW5kZXJlciwgRWxlbWVudFJlZiwgRG9DaGVjayB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBUcmVlRHJhZ2dlZEVsZW1lbnQgfSBmcm9tICcuLi9tb2RlbHMvdHJlZS1kcmFnZ2VkLWVsZW1lbnQubW9kZWwnO1xyXG5cclxuY29uc3QgRFJBR19PVkVSX0NMQVNTID0gJ2lzLWRyYWdnaW5nLW92ZXInO1xyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlRHJhZ0RpcmVjdGl2ZSBpbXBsZW1lbnRzIERvQ2hlY2sge1xyXG4gICBkcmFnZ2VkRWxlbWVudDtcclxuICAgdHJlZURyYWdFbmFibGVkO1xyXG5cclxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlciwgcHJpdmF0ZSB0cmVlRHJhZ2dlZEVsZW1lbnQ6IFRyZWVEcmFnZ2VkRWxlbWVudCkge1xyXG4gIH1cclxuXHJcbiAgbmdEb0NoZWNrKCkge1xyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgJ2RyYWdnYWJsZScsIHRoaXMudHJlZURyYWdFbmFibGVkID8gJ3RydWUnIDogJ2ZhbHNlJyk7XHJcbiAgfVxyXG5cclxuICAgb25EcmFnU3RhcnQoZXYpIHtcclxuICAgIC8vIHNldHRpbmcgdGhlIGRhdGEgaXMgcmVxdWlyZWQgYnkgZmlyZWZveFxyXG4gICAgZXYuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQnLCBldi50YXJnZXQuaWQpO1xyXG4gICAgdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuc2V0KHRoaXMuZHJhZ2dlZEVsZW1lbnQpO1xyXG4gICAgaWYgKHRoaXMuZHJhZ2dlZEVsZW1lbnQubW91c2VBY3Rpb24pIHtcclxuICAgICAgICB0aGlzLmRyYWdnZWRFbGVtZW50Lm1vdXNlQWN0aW9uKCdkcmFnU3RhcnQnLCBldik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAgb25EcmFnKGV2KSB7XHJcbiAgICBpZiAodGhpcy5kcmFnZ2VkRWxlbWVudC5tb3VzZUFjdGlvbikge1xyXG4gICAgICAgIHRoaXMuZHJhZ2dlZEVsZW1lbnQubW91c2VBY3Rpb24oJ2RyYWcnLCBldik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAgb25EcmFnRW5kKCkge1xyXG4gICAgaWYgKHRoaXMuZHJhZ2dlZEVsZW1lbnQubW91c2VBY3Rpb24pIHtcclxuICAgICAgdGhpcy5kcmFnZ2VkRWxlbWVudC5tb3VzZUFjdGlvbignZHJhZ0VuZCcpO1xyXG4gICAgfVxyXG4gICAgdGhpcy50cmVlRHJhZ2dlZEVsZW1lbnQuc2V0KG51bGwpO1xyXG4gIH1cclxuc3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogRGlyZWN0aXZlLCBhcmdzOiBbe1xyXG4gIHNlbGVjdG9yOiAnW3RyZWVEcmFnXSdcclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbnt0eXBlOiBFbGVtZW50UmVmLCB9LFxue3R5cGU6IFJlbmRlcmVyLCB9LFxue3R5cGU6IFRyZWVEcmFnZ2VkRWxlbWVudCwgfSxcbl07XG5zdGF0aWMgcHJvcERlY29yYXRvcnM6IHtba2V5OiBzdHJpbmddOiBEZWNvcmF0b3JJbnZvY2F0aW9uW119ID0ge1xuJ2RyYWdnZWRFbGVtZW50JzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsndHJlZURyYWcnLCBdIH0sXSxcbid0cmVlRHJhZ0VuYWJsZWQnOiBbeyB0eXBlOiBJbnB1dCB9LF0sXG4nb25EcmFnU3RhcnQnOiBbeyB0eXBlOiBIb3N0TGlzdGVuZXIsIGFyZ3M6IFsnZHJhZ3N0YXJ0JywgWyckZXZlbnQnXSwgXSB9LF0sXG4nb25EcmFnJzogW3sgdHlwZTogSG9zdExpc3RlbmVyLCBhcmdzOiBbJ2RyYWcnLCBbJyRldmVudCddLCBdIH0sXSxcbidvbkRyYWdFbmQnOiBbeyB0eXBlOiBIb3N0TGlzdGVuZXIsIGFyZ3M6IFsnZHJhZ2VuZCcsIF0gfSxdLFxufTtcbn1cclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0=","import { Directive, Input, Renderer, TemplateRef, ViewContainerRef } from '@angular/core';\r\nvar EASE_ACCELERATION = 1.005;\r\nvar TreeAnimateOpenDirective = /** @class */ (function () {\r\n    function TreeAnimateOpenDirective(renderer, templateRef, viewContainerRef) {\r\n        this.renderer = renderer;\r\n        this.templateRef = templateRef;\r\n        this.viewContainerRef = viewContainerRef;\r\n    }\r\n    Object.defineProperty(TreeAnimateOpenDirective.prototype, \"isOpen\", {\r\n        set: function (value) {\r\n            if (value) {\r\n                this._show();\r\n                if (this.isEnabled && this._isOpen === false) {\r\n                    this._animateOpen();\r\n                }\r\n            }\r\n            else {\r\n                this.isEnabled ? this._animateClose() : this._hide();\r\n            }\r\n            this._isOpen = !!value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    TreeAnimateOpenDirective.prototype._show = function () {\r\n        if (this.innerElement)\r\n            return;\r\n        // create child view\r\n        this.innerElement = this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0];\r\n    };\r\n    TreeAnimateOpenDirective.prototype._hide = function () {\r\n        this.viewContainerRef.clear();\r\n        this.innerElement = null;\r\n    };\r\n    TreeAnimateOpenDirective.prototype._animateOpen = function () {\r\n        var _this = this;\r\n        var delta = this.animateSpeed;\r\n        var ease = this.animateAcceleration;\r\n        var maxHeight = 0;\r\n        // set height to 0\r\n        this.renderer.setElementStyle(this.innerElement, 'max-height', \"0\");\r\n        // increase maxHeight until height doesn't change\r\n        setTimeout(function () {\r\n            var i = setInterval(function () {\r\n                if (!_this._isOpen || !_this.innerElement)\r\n                    return clearInterval(i);\r\n                maxHeight += delta;\r\n                var roundedMaxHeight = Math.round(maxHeight);\r\n                _this.renderer.setElementStyle(_this.innerElement, 'max-height', roundedMaxHeight + \"px\");\r\n                var height = _this.innerElement.getBoundingClientRect().height; // TBD use renderer\r\n                delta *= ease;\r\n                ease *= EASE_ACCELERATION;\r\n                if (height < roundedMaxHeight) {\r\n                    // Make maxHeight auto because animation finished and container might change height later on\r\n                    _this.renderer.setElementStyle(_this.innerElement, 'max-height', null);\r\n                    clearInterval(i);\r\n                }\r\n            }, 17);\r\n        });\r\n    };\r\n    TreeAnimateOpenDirective.prototype._animateClose = function () {\r\n        var _this = this;\r\n        if (!this.innerElement)\r\n            return;\r\n        var delta = this.animateSpeed;\r\n        var ease = this.animateAcceleration;\r\n        var height = this.innerElement.getBoundingClientRect().height; // TBD use renderer\r\n        // slowly decrease maxHeight to 0, starting from current height\r\n        var i = setInterval(function () {\r\n            if (_this._isOpen || !_this.innerElement)\r\n                return clearInterval(i);\r\n            height -= delta;\r\n            _this.renderer.setElementStyle(_this.innerElement, 'max-height', height + \"px\");\r\n            delta *= ease;\r\n            ease *= EASE_ACCELERATION;\r\n            if (height <= 0) {\r\n                // after animation complete - remove child element\r\n                _this.viewContainerRef.clear();\r\n                _this.innerElement = null;\r\n                clearInterval(i);\r\n            }\r\n        }, 17);\r\n    };\r\n    TreeAnimateOpenDirective.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: '[treeAnimateOpen]'\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeAnimateOpenDirective.ctorParameters = function () { return [\r\n        { type: Renderer, },\r\n        { type: TemplateRef, },\r\n        { type: ViewContainerRef, },\r\n    ]; };\r\n    TreeAnimateOpenDirective.propDecorators = {\r\n        'animateSpeed': [{ type: Input, args: ['treeAnimateOpenSpeed',] },],\r\n        'animateAcceleration': [{ type: Input, args: ['treeAnimateOpenAcceleration',] },],\r\n        'isEnabled': [{ type: Input, args: ['treeAnimateOpenEnabled',] },],\r\n        'isOpen': [{ type: Input, args: ['treeAnimateOpen',] },],\r\n    };\r\n    return TreeAnimateOpenDirective;\r\n}());\r\nexport { TreeAnimateOpenDirective };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9kaXJlY3RpdmVzL3RyZWUtYW5pbWF0ZS1vcGVuLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUFFLEtBQUEsRUFBcUIsUUFBQSxFQUN2QixXQUFBLEVBQWEsZ0JBQUEsRUFDdkIsTUFBTSxlQUFBLENBQWdCO0FBRXZCLElBQU0saUJBQUEsR0FBb0IsS0FBQSxDQUFNO0FBR2hDO0lBc0JFLGtDQUNVLFFBQWtCLEVBQ2xCLFdBQTZCLEVBQzdCLGdCQUFrQztRQUZsQyxhQUFRLEdBQVIsUUFBUSxDQUFVO1FBQ2xCLGdCQUFXLEdBQVgsV0FBVyxDQUFrQjtRQUM3QixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQWtCO0lBQUcsQ0FBQztJQWpCaEQsc0JBQUksNENBQU07YUFBVixVQUFXLEtBQWM7WUFDdkIsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDVixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQzdDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDdEIsQ0FBQztZQUNILENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDTixJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN2RCxDQUFDO1lBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3pCLENBQUM7OztPQUFBO0lBQUEsQ0FBQztJQVNNLHdDQUFLLEdBQWI7UUFDRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQUMsTUFBTSxDQUFDO1FBRTlCLG9CQUFvQjtRQUNwQixJQUFJ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LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgRGlyZWN0aXZlLCBJbnB1dCwgSG9zdExpc3RlbmVyLCBSZW5kZXJlciwgRWxlbWVudFJlZixcclxuICBEb0NoZWNrLCBUZW1wbGF0ZVJlZiwgVmlld0NvbnRhaW5lclJlZlxyXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5cclxuY29uc3QgRUFTRV9BQ0NFTEVSQVRJT04gPSAxLjAwNTtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZUFuaW1hdGVPcGVuRGlyZWN0aXZlIHtcclxuICBwcml2YXRlIF9pc09wZW46IGJvb2xlYW47XHJcblxyXG4gICBhbmltYXRlU3BlZWQ6IG51bWJlcjtcclxuICAgYW5pbWF0ZUFjY2VsZXJhdGlvbjogbnVtYmVyO1xyXG4gICBpc0VuYWJsZWQ6IGJvb2xlYW47XHJcblxyXG4gIFxyXG4gIHNldCBpc09wZW4odmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICB0aGlzLl9zaG93KCk7XHJcbiAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCAmJiB0aGlzLl9pc09wZW4gPT09IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5fYW5pbWF0ZU9wZW4oKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5pc0VuYWJsZWQgPyB0aGlzLl9hbmltYXRlQ2xvc2UoKSA6IHRoaXMuX2hpZGUoKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2lzT3BlbiA9ICEhdmFsdWU7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBpbm5lckVsZW1lbnQ6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcixcclxuICAgIHByaXZhdGUgdGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPGFueT4sXHJcbiAgICBwcml2YXRlIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYpIHt9XHJcblxyXG4gIHByaXZhdGUgX3Nob3coKSB7XHJcbiAgICBpZiAodGhpcy5pbm5lckVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyBjcmVhdGUgY2hpbGQgdmlld1xyXG4gICAgdGhpcy5pbm5lckVsZW1lbnQgPSB0aGlzLnZpZXdDb250YWluZXJSZWYuY3JlYXRlRW1iZWRkZWRWaWV3KHRoaXMudGVtcGxhdGVSZWYpLnJvb3ROb2Rlc1swXTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2hpZGUoKSB7XHJcbiAgICB0aGlzLnZpZXdDb250YWluZXJSZWYuY2xlYXIoKTtcclxuICAgIHRoaXMuaW5uZXJFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2FuaW1hdGVPcGVuKCkge1xyXG4gICAgbGV0IGRlbHRhID0gdGhpcy5hbmltYXRlU3BlZWQ7XHJcbiAgICBsZXQgZWFzZSA9IHRoaXMuYW5pbWF0ZUFjY2VsZXJhdGlvbjtcclxuICAgIGxldCBtYXhIZWlnaHQgPSAwO1xyXG5cclxuICAgIC8vIHNldCBoZWlnaHQgdG8gMFxyXG4gICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50U3R5bGUodGhpcy5pbm5lckVsZW1lbnQsICdtYXgtaGVpZ2h0JywgYDBgKTtcclxuXHJcbiAgICAvLyBpbmNyZWFzZSBtYXhIZWlnaHQgdW50aWwgaGVpZ2h0IGRvZXNuJ3QgY2hhbmdlXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHsgLy8gQWxsb3cgaW5uZXIgZWxlbWVudCB0byBjcmVhdGUgaXRzIGNvbnRlbnRcclxuICAgICAgY29uc3QgaSA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuX2lzT3BlbiB8fCAhdGhpcy5pbm5lckVsZW1lbnQpIHJldHVybiBjbGVhckludGVydmFsKGkpO1xyXG5cclxuICAgICAgICBtYXhIZWlnaHQgKz0gZGVsdGE7XHJcbiAgICAgICAgY29uc3Qgcm91bmRlZE1heEhlaWdodCA9IE1hdGgucm91bmQobWF4SGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50U3R5bGUodGhpcy5pbm5lckVsZW1lbnQsICdtYXgtaGVpZ2h0JywgYCR7cm91bmRlZE1heEhlaWdodH1weGApO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaW5uZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDsgLy8gVEJEIHVzZSByZW5kZXJlclxyXG5cclxuICAgICAgICBkZWx0YSAqPSBlYXNlO1xyXG4gICAgICAgIGVhc2UgKj0gRUFTRV9BQ0NFTEVSQVRJT047XHJcbiAgICAgICAgaWYgKGhlaWdodCA8IHJvdW5kZWRNYXhIZWlnaHQpIHtcclxuICAgICAgICAgIC8vIE1ha2UgbWF4SGVpZ2h0IGF1dG8gYmVjYXVzZSBhbmltYXRpb24gZmluaXNoZWQgYW5kIGNvbnRhaW5lciBtaWdodCBjaGFuZ2UgaGVpZ2h0IGxhdGVyIG9uXHJcbiAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRTdHlsZSh0aGlzLmlubmVyRWxlbWVudCwgJ21heC1oZWlnaHQnLCBudWxsKTtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAxNyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgX2FuaW1hdGVDbG9zZSgpIHtcclxuICAgIGlmICghdGhpcy5pbm5lckVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICBsZXQgZGVsdGEgPSB0aGlzLmFuaW1hdGVTcGVlZDtcclxuICAgIGxldCBlYXNlID0gdGhpcy5hbmltYXRlQWNjZWxlcmF0aW9uO1xyXG4gICAgbGV0IGhlaWdodCA9IHRoaXMuaW5uZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDsgLy8gVEJEIHVzZSByZW5kZXJlclxyXG5cclxuICAgIC8vIHNsb3dseSBkZWNyZWFzZSBtYXhIZWlnaHQgdG8gMCwgc3RhcnRpbmcgZnJvbSBjdXJyZW50IGhlaWdodFxyXG4gICAgY29uc3QgaSA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgaWYgKHRoaXMuX2lzT3BlbiB8fCAhdGhpcy5pbm5lckVsZW1lbnQpIHJldHVybiBjbGVhckludGVydmFsKGkpO1xyXG5cclxuICAgICAgaGVpZ2h0IC09IGRlbHRhO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRTdHlsZSh0aGlzLmlubmVyRWxlbWVudCwgJ21heC1oZWlnaHQnLCBgJHtoZWlnaHR9cHhgKTtcclxuICAgICAgZGVsdGEgKj0gZWFzZTtcclxuICAgICAgZWFzZSAqPSBFQVNFX0FDQ0VMRVJBVElPTjtcclxuXHJcbiAgICAgIGlmIChoZWlnaHQgPD0gMCkge1xyXG4gICAgICAgIC8vIGFmdGVyIGFuaW1hdGlvbiBjb21wbGV0ZSAtIHJlbW92ZSBjaGlsZCBlbGVtZW50XHJcbiAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyUmVmLmNsZWFyKCk7XHJcbiAgICAgICAgdGhpcy5pbm5lckVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaSk7XHJcbiAgICAgIH1cclxuICAgIH0sIDE3KTtcclxuICB9XHJcbnN0YXRpYyBkZWNvcmF0b3JzOiBEZWNvcmF0b3JJbnZvY2F0aW9uW10gPSBbXG57IHR5cGU6IERpcmVjdGl2ZSwgYXJnczogW3tcclxuICBzZWxlY3RvcjogJ1t0cmVlQW5pbWF0ZU9wZW5dJ1xyXG59LCBdIH0sXG5dO1xuLyoqIEBub2NvbGxhcHNlICovXG5zdGF0aWMgY3RvclBhcmFtZXRlcnM6ICgpID0+ICh7dHlwZTogYW55LCBkZWNvcmF0b3JzPzogRGVjb3JhdG9ySW52b2NhdGlvbltdfXxudWxsKVtdID0gKCkgPT4gW1xue3R5cGU6IFJlbmRlcmVyLCB9LFxue3R5cGU6IFRlbXBsYXRlUmVmLCB9LFxue3R5cGU6IFZpZXdDb250YWluZXJSZWYsIH0sXG5dO1xuc3RhdGljIHByb3BEZWNvcmF0b3JzOiB7W2tleTogc3RyaW5nXTogRGVjb3JhdG9ySW52b2NhdGlvbltdfSA9IHtcbidhbmltYXRlU3BlZWQnOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd0cmVlQW5pbWF0ZU9wZW5TcGVlZCcsIF0gfSxdLFxuJ2FuaW1hdGVBY2NlbGVyYXRpb24nOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd0cmVlQW5pbWF0ZU9wZW5BY2NlbGVyYXRpb24nLCBdIH0sXSxcbidpc0VuYWJsZWQnOiBbeyB0eXBlOiBJbnB1dCwgYXJnczogWyd0cmVlQW5pbWF0ZU9wZW5FbmFibGVkJywgXSB9LF0sXG4naXNPcGVuJzogW3sgdHlwZTogSW5wdXQsIGFyZ3M6IFsndHJlZUFuaW1hdGVPcGVuJywgXSB9LF0sXG59O1xufVxyXG5cbmludGVyZmFjZSBEZWNvcmF0b3JJbnZvY2F0aW9uIHtcbiAgdHlwZTogRnVuY3Rpb247XG4gIGFyZ3M/OiBhbnlbXTtcbn1cbiJdfQ==","// element-closest | CC0-1.0 | github.com/jonathantneal/closest\r\nif (typeof Element !== 'undefined') {\r\n    if (typeof Element.prototype.matches !== 'function') {\r\n        Element.prototype.matches = Element.prototype.msMatchesSelector ||\r\n            Element.prototype['mozMatchesSelector'] ||\r\n            Element.prototype.webkitMatchesSelector ||\r\n            function matches(selector) {\r\n                var element = this;\r\n                var elements = (element.document || element.ownerDocument).querySelectorAll(selector);\r\n                var index = 0;\r\n                while (elements[index] && elements[index] !== element) {\r\n                    ++index;\r\n                }\r\n                return Boolean(elements[index]);\r\n            };\r\n    }\r\n    if (typeof Element.prototype['closest'] !== 'function') {\r\n        Element.prototype['closest'] = function closest(selector) {\r\n            var element = this;\r\n            while (element && element.nodeType === 1) {\r\n                if (element.matches(selector)) {\r\n                    return element;\r\n                }\r\n                element = element.parentNode;\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi92ZW5kb3IvY2xvc2VzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrREFBK0Q7QUFDL0QsRUFBRSxDQUFDLENBQUMsT0FBTyxPQUFPLEtBQUssV0FBVyxDQUFDLENBQUMsQ0FBQztJQUNuQyxFQUFFLENBQUMsQ0FBQyxPQUFPLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDcEQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUI7WUFDM0QsT0FBTyxDQUFDLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQztZQUN2QyxPQUFPLENBQUMsU0FBUyxDQUFDLHFCQUFxQjtZQUN2QyxpQkFBaUIsUUFBUTtnQkFDdkIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO2dCQUNuQixJQUFJLFFBQVEsR0FBRyxDQUFDLE9BQU8sQ0FBQyxRQUFRLElBQUksT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN0RixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7Z0JBRWQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLE9BQU8sRUFBRSxDQUFDO29CQUN0RCxFQUFFLEtBQUssQ0FBQztnQkFDVixDQUFDO2dCQUVELE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDbEMsQ0FBQyxDQUFDO0lBQ1IsQ0FBQztJQUVELEVBQUUsQ0FBQyxDQUFDLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3ZELE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsaUJBQWlCLFFBQVE7WUFDdEQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBRW5CLE9BQU8sT0FBTyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFLENBQUM7Z0JBQ3pDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUM5QixNQUFNLENBQUMsT0FBTyxDQUFDO2dCQUNqQixDQUFDO2dCQUVELE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1lBQy9CLENBQUM7WUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2QsQ0FBQyxDQUFDO0lBQ0osQ0FBQztBQUNILENBQUMiLCJmaWxlIjoiY2xvc2VzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlbGVtZW50LWNsb3Nlc3QgfCBDQzAtMS4wIHwgZ2l0aHViLmNvbS9qb25hdGhhbnRuZWFsL2Nsb3Nlc3RcclxuaWYgKHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xyXG4gIGlmICh0eXBlb2YgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGVbJ21vek1hdGNoZXNTZWxlY3RvciddIHx8XHJcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gbWF0Y2hlcyhzZWxlY3Rvcikge1xyXG4gICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzO1xyXG4gICAgICAgICAgbGV0IGVsZW1lbnRzID0gKGVsZW1lbnQuZG9jdW1lbnQgfHwgZWxlbWVudC5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgICAgIGxldCBpbmRleCA9IDA7XHJcblxyXG4gICAgICAgICAgd2hpbGUgKGVsZW1lbnRzW2luZGV4XSAmJiBlbGVtZW50c1tpbmRleF0gIT09IGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgKytpbmRleDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gQm9vbGVhbihlbGVtZW50c1tpbmRleF0pO1xyXG4gICAgICAgIH07XHJcbiAgfVxyXG5cclxuICBpZiAodHlwZW9mIEVsZW1lbnQucHJvdG90eXBlWydjbG9zZXN0J10gIT09ICdmdW5jdGlvbicpIHtcclxuICAgIEVsZW1lbnQucHJvdG90eXBlWydjbG9zZXN0J10gPSBmdW5jdGlvbiBjbG9zZXN0KHNlbGVjdG9yKSB7XHJcbiAgICAgIGxldCBlbGVtZW50ID0gdGhpcztcclxuXHJcbiAgICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICBpZiAoZWxlbWVudC5tYXRjaGVzKHNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiJdfQ==","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MobxAngularModule } from 'mobx-angular';\r\nimport { TREE_ACTIONS } from './models/tree-options.model';\r\nimport { KEYS } from './constants/keys';\r\nimport { TreeModel } from './models/tree.model';\r\nimport { TreeNode } from './models/tree-node.model';\r\nimport { TreeDraggedElement } from './models/tree-dragged-element.model';\r\nimport { TreeVirtualScroll } from './models/tree-virtual-scroll.model';\r\nimport { LoadingComponent } from './components/loading.component';\r\nimport { TreeComponent } from './components/tree.component';\r\nimport { TreeNodeComponent } from './components/tree-node.component';\r\nimport { TreeNodeContent } from './components/tree-node-content.component';\r\nimport { TreeNodeDropSlot } from './components/tree-node-drop-slot.component';\r\nimport { TreeNodeExpanderComponent } from './components/tree-node-expander.component';\r\nimport { TreeNodeChildrenComponent } from './components/tree-node-children.component';\r\nimport { TreeNodeCollectionComponent } from './components/tree-node-collection.component';\r\nimport { TreeNodeWrapperComponent } from './components/tree-node-wrapper.component';\r\nimport { TreeViewportComponent } from './components/tree-viewport.component';\r\nimport { TreeDropDirective } from './directives/tree-drop.directive';\r\nimport { TreeDragDirective } from './directives/tree-drag.directive';\r\nimport { TreeAnimateOpenDirective } from './directives/tree-animate-open.directive';\r\nimport './polyfills';\r\nvar TreeModule = /** @class */ (function () {\r\n    function TreeModule() {\r\n    }\r\n    TreeModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    declarations: [\r\n                        TreeComponent,\r\n                        TreeNodeComponent,\r\n                        TreeNodeContent,\r\n                        LoadingComponent,\r\n                        TreeDropDirective,\r\n                        TreeDragDirective,\r\n                        TreeNodeExpanderComponent,\r\n                        TreeNodeChildrenComponent,\r\n                        TreeNodeDropSlot,\r\n                        TreeNodeCollectionComponent,\r\n                        TreeViewportComponent,\r\n                        TreeNodeWrapperComponent,\r\n                        TreeAnimateOpenDirective\r\n                    ],\r\n                    exports: [\r\n                        TreeComponent,\r\n                        TreeNodeComponent,\r\n                        TreeNodeContent,\r\n                        LoadingComponent,\r\n                        TreeDropDirective,\r\n                        TreeDragDirective,\r\n                        TreeNodeExpanderComponent,\r\n                        TreeNodeChildrenComponent,\r\n                        TreeNodeDropSlot,\r\n                        TreeNodeCollectionComponent,\r\n                        TreeViewportComponent,\r\n                        TreeNodeWrapperComponent,\r\n                        TreeAnimateOpenDirective\r\n                    ],\r\n                    imports: [\r\n                        CommonModule,\r\n                        MobxAngularModule\r\n                    ],\r\n                    providers: [\r\n                        TreeDraggedElement\r\n                    ]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    TreeModule.ctorParameters = function () { return []; };\r\n    return TreeModule;\r\n}());\r\nexport { TreeModule };\r\nexport { TreeModel, TreeNode, TreeDraggedElement, TreeVirtualScroll, TREE_ACTIONS, KEYS, LoadingComponent, TreeComponent, TreeNodeComponent, TreeNodeContent, TreeDropDirective, TreeDragDirective, TreeNodeExpanderComponent, TreeNodeChildrenComponent, TreeNodeDropSlot, TreeNodeCollectionComponent, TreeViewportComponent };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9hbmd1bGFyLXRyZWUtY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFBLEVBQVMsTUFBWSxlQUFBLENBQWdCO0FBQzlDLE9BQU8sRUFBRSxZQUFBLEVBQWEsTUFBTyxpQkFBQSxDQUFrQjtBQUMvQyxPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxjQUFBLENBQWU7QUFFakQsT0FBTyxFQUFFLFlBQUEsRUFBNkMsTUFBTyw2QkFBQSxDQUE4QjtBQUUzRixPQUFPLEVBQUUsSUFBQSxFQUFLLE1BQU8sa0JBQUEsQ0FBbUI7QUFDeEMsT0FBTyxFQUFFLFNBQUEsRUFBVSxNQUFPLHFCQUFBLENBQXNCO0FBQ2hELE9BQU8sRUFBRSxRQUFBLEVBQVMsTUFBTywwQkFBQSxDQUEyQjtBQUNwRCxPQUFPLEVBQUUsa0JBQUEsRUFBbUIsTUFBTyxxQ0FBQSxDQUFzQztBQUN6RSxPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxvQ0FBQSxDQUFxQztBQUN2RSxPQUFPLEVBQUUsZ0JBQUEsRUFBaUIsTUFBTyxnQ0FBQSxDQUFpQztBQUNsRSxPQUFPLEVBQUUsYUFBQSxFQUFjLE1BQU8sNkJBQUEsQ0FBOEI7QUFDNUQsT0FBTyxFQUFFLGlCQUFBLEVBQWtCLE1BQU8sa0NBQUEsQ0FBbUM7QUFDckUsT0FBTyxFQUFFLGVBQUEsRUFBZ0IsTUFBTywwQ0FBQSxDQUEyQztBQUMzRSxPQUFPLEVBQUUsZ0JBQUEsRUFBaUIsTUFBTyw0Q0FBQSxDQUE2QztBQUM5RSxPQUFPLEVBQUUseUJBQUEsRUFBMEIsTUFBTywyQ0FBQSxDQUE0QztBQUN0RixPQUFPLEVBQUUseUJBQUEsRUFBMEIsTUFBTywyQ0FBQSxDQUE0QztBQUN0RixPQUFPLEVBQUUsMkJBQUEsRUFBNEIsTUFBTyw2Q0FBQSxDQUE4QztBQUMxRixPQUFPLEVBQUUsd0JBQUEsRUFBeUIsTUFBTywwQ0FBQSxDQUEyQztBQUNwRixPQUFPLEVBQUUscUJBQUEsRUFBc0IsTUFBTyxzQ0FBQSxDQUF1QztBQUM3RSxPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxrQ0FBQSxDQUFtQztBQUNyRSxPQUFPLEVBQUUsaUJBQUEsRUFBa0IsTUFBTyxrQ0FBQSxDQUFtQztBQUNyRSxPQUFPLEVBQUUsd0JBQUEsRUFBeUIsTUFBTywwQ0FBQSxDQUEyQztBQUVwRixPQUFPLGFBQUEsQ0FBYztBQUdyQjtJQUFBO0lBNENBLENBQUM7SUE1QytCLHFCQUFVLEdBQTBCO1FBQ3BFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztvQkFDdkIsWUFBWSxFQUFFO3dCQUNaLGFBQWE7d0JBQ2IsaUJBQWlCO3dCQUNqQixlQUFlO3dCQUNmLGdCQUFnQjt3QkFDaEIsaUJBQWlCO3dCQUNqQixpQkFBaUI7d0JBQ2pCLHlCQUF5Qjt3QkFDekIseUJBQXlCO3dCQUN6QixnQkFBZ0I7d0JBQ2hCLDJCQUEyQjt3QkFDM0IscUJBQXFCO3dCQUNyQix3QkFBd0I7d0JBQ3hCLHdCQUF3QjtxQkFDekI7b0JBQ0QsT0FBTyxFQUFFO3dCQUNQLGFBQWE7d0JBQ2IsaUJBQWlCO3dCQUNqQixlQUFlO3dCQUNmLGdCQUFnQjt3QkFDaEIsaUJBQWlCO3dCQUNqQixpQkFBaUI7d0JBQ2pCLHlCQUF5Qjt3QkFDekIseUJBQXlCO3dCQUN6QixnQkFBZ0I7d0JBQ2hCLDJCQUEyQjt3QkFDM0IscUJBQXFCO3dCQUNyQix3QkFBd0I7d0JBQ3hCLHdCQUF3QjtxQkFDekI7b0JBQ0QsT0FBTyxFQUFFO3dCQUNQLFlBQVk7d0JBQ1osaUJBQWlCO3FCQUNsQjtvQkFDRCxTQUFTLEVBQUU7d0JBQ1Qsa0JBQWtCO3FCQUNuQjtpQkFDRixFQUFHLEVBQUU7S0FDTCxDQUFDO0lBQ0Ysa0JBQWtCO0lBQ1gseUJBQWMsR0FBbUUsY0FBTSxPQUFBLEVBQzdGLEVBRDZGLENBQzdGLENBQUM7SUFDRixpQkFBQztDQTVDRCxBQTRDQyxJQUFBO1NBNUNZLFVBQVU7QUE4Q3ZCLE9BTk8sRUFPTCxTQUFTLEVBQ1QsUUFBUSxFQUNSLGtCQUFrQixFQUNsQixpQkFBaUIsRUFFakIsWUFBWSxFQUNaLElBQUksRUFLSixnQkFBZ0IsRUFDaEIsYUFBYSxFQUNiLGlCQUFpQixFQUNqQixlQUFlLEVBQ2YsaUJBQWlCLEVBQ2pCLGlCQUFpQixFQUNqQix5QkFBeUIsRUFDekIseUJBQXlCLEVBQ3pCLGdCQUFnQixFQUNoQiwyQkFBMkIsRUFDM0IscUJBQXFCLEVBRXRCLENBTkMiLCJmaWxlIjoiYW5ndWxhci10cmVlLWNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9ICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XHJcbmltcG9ydCB7IE1vYnhBbmd1bGFyTW9kdWxlIH0gZnJvbSAnbW9ieC1hbmd1bGFyJztcclxuXHJcbmltcG9ydCB7IFRSRUVfQUNUSU9OUywgSUFjdGlvbk1hcHBpbmcsIElBY3Rpb25IYW5kbGVyIH0gZnJvbSAnLi9tb2RlbHMvdHJlZS1vcHRpb25zLm1vZGVsJztcclxuaW1wb3J0IHsgSVRyZWVPcHRpb25zLCBJQWxsb3dEcm9wRm4sIElBbGxvd0RyYWdGbiwgSVRyZWVTdGF0ZSB9IGZyb20gJy4vZGVmcy9hcGknO1xyXG5pbXBvcnQgeyBLRVlTIH0gZnJvbSAnLi9jb25zdGFudHMva2V5cyc7XHJcbmltcG9ydCB7IFRyZWVNb2RlbCB9IGZyb20gJy4vbW9kZWxzL3RyZWUubW9kZWwnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJy4vbW9kZWxzL3RyZWUtbm9kZS5tb2RlbCc7XHJcbmltcG9ydCB7IFRyZWVEcmFnZ2VkRWxlbWVudCB9IGZyb20gJy4vbW9kZWxzL3RyZWUtZHJhZ2dlZC1lbGVtZW50Lm1vZGVsJztcclxuaW1wb3J0IHsgVHJlZVZpcnR1YWxTY3JvbGwgfSBmcm9tICcuL21vZGVscy90cmVlLXZpcnR1YWwtc2Nyb2xsLm1vZGVsJztcclxuaW1wb3J0IHsgTG9hZGluZ0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9sb2FkaW5nLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90cmVlLW5vZGUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJlZU5vZGVDb250ZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RyZWUtbm9kZS1jb250ZW50LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVOb2RlRHJvcFNsb3QgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS1ub2RlLWRyb3Atc2xvdC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZUV4cGFuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RyZWUtbm9kZS1leHBhbmRlci5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZUNoaWxkcmVuQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RyZWUtbm9kZS1jaGlsZHJlbi5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBUcmVlTm9kZUNvbGxlY3Rpb25Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJlZS1ub2RlLWNvbGxlY3Rpb24uY29tcG9uZW50JztcclxuaW1wb3J0IHsgVHJlZU5vZGVXcmFwcGVyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3RyZWUtbm9kZS13cmFwcGVyLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVWaWV3cG9ydENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90cmVlLXZpZXdwb3J0LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFRyZWVEcm9wRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL3RyZWUtZHJvcC5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBUcmVlRHJhZ0RpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy90cmVlLWRyYWcuZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgVHJlZUFuaW1hdGVPcGVuRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL3RyZWUtYW5pbWF0ZS1vcGVuLmRpcmVjdGl2ZSc7XHJcblxyXG5pbXBvcnQgJy4vcG9seWZpbGxzJztcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZU1vZHVsZSB7c3RhdGljIGRlY29yYXRvcnM6IERlY29yYXRvckludm9jYXRpb25bXSA9IFtcbnsgdHlwZTogTmdNb2R1bGUsIGFyZ3M6IFt7XHJcbiAgZGVjbGFyYXRpb25zOiBbXHJcbiAgICBUcmVlQ29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVDb21wb25lbnQsXHJcbiAgICBUcmVlTm9kZUNvbnRlbnQsXHJcbiAgICBMb2FkaW5nQ29tcG9uZW50LFxyXG4gICAgVHJlZURyb3BEaXJlY3RpdmUsXHJcbiAgICBUcmVlRHJhZ0RpcmVjdGl2ZSxcclxuICAgIFRyZWVOb2RlRXhwYW5kZXJDb21wb25lbnQsXHJcbiAgICBUcmVlTm9kZUNoaWxkcmVuQ29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVEcm9wU2xvdCxcclxuICAgIFRyZWVOb2RlQ29sbGVjdGlvbkNvbXBvbmVudCxcclxuICAgIFRyZWVWaWV3cG9ydENvbXBvbmVudCxcclxuICAgIFRyZWVOb2RlV3JhcHBlckNvbXBvbmVudCxcclxuICAgIFRyZWVBbmltYXRlT3BlbkRpcmVjdGl2ZVxyXG4gIF0sXHJcbiAgZXhwb3J0czogW1xyXG4gICAgVHJlZUNvbXBvbmVudCxcclxuICAgIFRyZWVOb2RlQ29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVDb250ZW50LFxyXG4gICAgTG9hZGluZ0NvbXBvbmVudCxcclxuICAgIFRyZWVEcm9wRGlyZWN0aXZlLFxyXG4gICAgVHJlZURyYWdEaXJlY3RpdmUsXHJcbiAgICBUcmVlTm9kZUV4cGFuZGVyQ29tcG9uZW50LFxyXG4gICAgVHJlZU5vZGVDaGlsZHJlbkNvbXBvbmVudCxcclxuICAgIFRyZWVOb2RlRHJvcFNsb3QsXHJcbiAgICBUcmVlTm9kZUNvbGxlY3Rpb25Db21wb25lbnQsXHJcbiAgICBUcmVlVmlld3BvcnRDb21wb25lbnQsXHJcbiAgICBUcmVlTm9kZVdyYXBwZXJDb21wb25lbnQsXHJcbiAgICBUcmVlQW5pbWF0ZU9wZW5EaXJlY3RpdmVcclxuICBdLFxyXG4gIGltcG9ydHM6IFtcclxuICAgIENvbW1vbk1vZHVsZSxcclxuICAgIE1vYnhBbmd1bGFyTW9kdWxlXHJcbiAgXSxcclxuICBwcm92aWRlcnM6IFtcclxuICAgIFRyZWVEcmFnZ2VkRWxlbWVudFxyXG4gIF1cclxufSwgXSB9LFxuXTtcbi8qKiBAbm9jb2xsYXBzZSAqL1xuc3RhdGljIGN0b3JQYXJhbWV0ZXJzOiAoKSA9PiAoe3R5cGU6IGFueSwgZGVjb3JhdG9ycz86IERlY29yYXRvckludm9jYXRpb25bXX18bnVsbClbXSA9ICgpID0+IFtcbl07XG59XHJcblxyXG5leHBvcnQge1xyXG4gIFRyZWVNb2RlbCxcclxuICBUcmVlTm9kZSxcclxuICBUcmVlRHJhZ2dlZEVsZW1lbnQsXHJcbiAgVHJlZVZpcnR1YWxTY3JvbGwsXHJcbiAgSVRyZWVPcHRpb25zLFxyXG4gIFRSRUVfQUNUSU9OUyxcclxuICBLRVlTLFxyXG4gIElBY3Rpb25NYXBwaW5nLFxyXG4gIElBY3Rpb25IYW5kbGVyLFxyXG4gIElBbGxvd0Ryb3BGbixcclxuICBJQWxsb3dEcmFnRm4sXHJcbiAgTG9hZGluZ0NvbXBvbmVudCxcclxuICBUcmVlQ29tcG9uZW50LFxyXG4gIFRyZWVOb2RlQ29tcG9uZW50LFxyXG4gIFRyZWVOb2RlQ29udGVudCxcclxuICBUcmVlRHJvcERpcmVjdGl2ZSxcclxuICBUcmVlRHJhZ0RpcmVjdGl2ZSxcclxuICBUcmVlTm9kZUV4cGFuZGVyQ29tcG9uZW50LFxyXG4gIFRyZWVOb2RlQ2hpbGRyZW5Db21wb25lbnQsXHJcbiAgVHJlZU5vZGVEcm9wU2xvdCxcclxuICBUcmVlTm9kZUNvbGxlY3Rpb25Db21wb25lbnQsXHJcbiAgVHJlZVZpZXdwb3J0Q29tcG9uZW50LFxyXG4gIElUcmVlU3RhdGVcclxufTtcclxuXG5pbnRlcmZhY2UgRGVjb3JhdG9ySW52b2NhdGlvbiB7XG4gIHR5cGU6IEZ1bmN0aW9uO1xuICBhcmdzPzogYW55W107XG59XG4iXX0="],"names":["uuid","Math","floor","random","binarySearch","nodes","condition","firstIndex","index","toIndex","length","midIndex","_a","KEYS","LEFT","UP","RIGHT","DOWN","ENTER","SPACE","TREE_ACTIONS","TOGGLE_SELECTED","tree","node","$event","toggleActivated","TOGGLE_SELECTED_MULTI","SELECT","setIsActive","DESELECT","FOCUS","focus","TOGGLE_EXPANDED","hasChildren","toggleExpanded","EXPAND","expand","COLLAPSE","collapse","DRILL_DOWN","focusDrillDown","DRILL_UP","focusDrillUp","NEXT_NODE","focusNextNode","PREVIOUS_NODE","focusPreviousNode","MOVE_NODE","from","to","ctrlKey","copyNode","moveNode","defaultActionMapping","mouse","click","dblClick","contextMenu","expanderClick","drop","keys","TreeOptions","options","this","actionMapping","_.defaultsDeep","rtl","_.get","Object","defineProperty","prototype","get","childrenField","enumerable","configurable","displayField","idField","isExpandedField","getChildren","levelPadding","useVirtualScroll","animateExpand","animateSpeed","animateAcceleration","undefined","scrollOnSelect","rootId","getNodeClone","_.omit","assign","data","allowDrop","element","Function","allowDrag","nodeClass","nodeHeight","virtual","dropSlotHeight","TREE_EVENTS","activate","deactivate","blur","initialized","updateData","event","loadNodeChildren","changeFilter","stateChange","__decorate","decorators","target","key","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","i","__metadata","k","v","metadata","first","_.first","last","_.last","TreeNode","parent","treeModel","_this","position","id","getField","_initChildren","isHidden","isExpanded","isActive","isNodeFocused","level","path","concat","_originalNode","children","isRoot","fireEvent","set","value","setField","_findAdjacentSibling","steps","skipHidden","_getParentsChildren","findNextSibling","findPreviousSibling","getVisibleChildren","visibleChildren","filter","getFirstChild","getLastChild","findNextNode","goInside","findPreviousNode","previousSibling","_getLastOpenDescendant","realParent","lastChild","isCollapsed","getIndexInParent","indexOf","isDescendantOf","getNodePadding","getClass","join","onDrop","mouseAction","dropOnNode","Promise","resolve","then","forEach","child","eventName","doForAll","fn","expandAll","collapseAll","ensureVisible","setIsExpanded","setExpandedNode","multi","setActiveNode","setActiveAndVisible","setTimeout","scrollIntoView","bind","force","virtualScroll","scroll","previousNode","getFocusedNode","setFocusedNode","setIsHidden","hide","show","actionName","setFocus","action","getSelfHeight","map","computed","observable","Array","Number","compact","_.compact","find","_.find","isString$1","_.isString","isFunction","_.isFunction","TreeModel","eventNames","expandedNodeIds","activeNodeIds","hiddenNodeIds","focusedNodeId","firstUpdate","events","emit","subscribe","focusedNode","getActiveNode","activeNodes","getActiveNodes","getVisibleRoots","virtualRoot","getFirstRoot","roots","getLastRoot","focusedTree","isEmptyTree","getNodeById","getNodeByPath","startNode","childId","shift","childNode","idStr","toString","getNodeBy","predicate","found","_i","foundInChildren","setData","_b","_c","update","virtualRootConfig","_calculateExpandedNodes","root","nextNode","_setActiveNodeMulti","_setActiveNodeSingle","setHiddenNodeIds","nodeIds","reduce","performKeyAction","keyCode","preventDefault","filterNodes","autoShow","filterFn","clearFilter","isString","toLowerCase","console","error","ids","_filterNode","fromIndex","fromParent","_canMoveNode","fromChildren","toChildren","originalNode","splice","nodeCopy","getState","setState","state","subscribeToState","autorun","isVisible","activeNode","type","Injectable","ctorParameters","TreeDraggedElement","_draggedElement","draggedElement","isDragging","TreeVirtualScroll","yBlocks","x","viewportHeight","viewport","_dispose","fixScroll","height","init","recalcPositions","reaction","isEnabled","_setYBlocks","_getPositionAfter","startPos","_getPositionAfterNode","clear","setViewport","scrollLeft","round","scrollTop","getBoundingClientRect","scrollToMiddle","y","getViewportNodes","visibleNodes","lastIndex","viewportNodes","push","maxY","max","totalHeight","LoadingComponent","Component","args","encapsulation","ViewEncapsulation","None","selector","template","propDecorators","Input","includes","_.includes","pick","_.pick","TreeComponent","treeDraggedElement","renderer","name","EventEmitter","onKeydown","isFocused","document","activeElement","tagName","onMousedown","invokeElementMethod","ngOnChanges","changes","currentValue","providers","styles","Renderer","loadingTemplate","ContentChild","treeNodeTemplate","treeNodeWrapperTemplate","treeNodeFullTemplate","focused","Output","HostListener","TreeNodeComponent","templates","TreeNodeContent","TreeNodeDropSlot","dropIndex","TreeNodeExpanderComponent","TreeNodeChildrenComponent","TreeNodeCollectionComponent","_nodes","setNodes","firstNode","ngOnInit","n","nodeIndexes","compareStructural","fireImmediately","ngOnDestroy","trackNode","String","TreeNodeWrapperComponent","TreeViewportComponent","elementRef","ngAfterViewInit","getTotalHeight","onScroll","nativeElement","ElementRef","TreeDropDirective","el","onDropCallback","onDragOverCallback","onDragLeaveCallback","onDragEnterCallback","_allowDrop","onDragOver","addDisabledClass","addClass","onDragEnter","onDragLeave","removeDisabledClass","removeClass","setElementClass","Directive","treeAllowDrop","TreeDragDirective","ngDoCheck","setElementAttribute","treeDragEnabled","onDragStart","ev","dataTransfer","onDrag","onDragEnd","TreeAnimateOpenDirective","templateRef","viewContainerRef","_show","_isOpen","_animateOpen","_animateClose","_hide","innerElement","createEmbeddedView","rootNodes","delta","ease","maxHeight","setElementStyle","setInterval","clearInterval","roundedMaxHeight","TemplateRef","ViewContainerRef","isOpen","Element","matches","msMatchesSelector","webkitMatchesSelector","elements","ownerDocument","querySelectorAll","Boolean","nodeType","parentNode","TreeModule","NgModule","declarations","exports","imports","CommonModule","MobxAngularModule"],"mappings":"4dA2aA,SACSA,KACL,MAAOC,MAAKC,MAAsB,KAAhBD,KAAKE,UC5O3B,QACSC,GAAaC,EAAOC,EAAWC,OACjB,KAAfA,IAAyBA,EAAa,EAG1C,KAFA,GAAIC,GAAQD,EACRE,EAAUJ,EAAMK,OAAS,EACtBF,IAAUC,GAAS,CACtB,GAAIE,GAAWV,KAAKC,OAAOM,EAAQC,GAAW,EAC1CH,GAAUD,EAAMM,IAChBF,EAAUE,EAINH,EADAA,IAAUG,EACFF,EAEAE,EAGpB,MAAOH,GClNJ,GCoKHI,GDpKOC,GACPC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,KAAM,GACNC,MAAO,GACPC,MAAO,ICJAC,GACPC,gBAAiB,SAAUC,EAAMC,EAAMC,GAAU,MAAOD,IAAQA,EAAKE,mBACrEC,sBAAuB,SAAUJ,EAAMC,EAAMC,GAAU,MAAOD,IAAQA,EAAKE,iBAAgB,IAC3FE,OAAQ,SAAUL,EAAMC,EAAMC,GAAU,MAAOD,GAAKK,aAAY,IAChEC,SAAU,SAAUP,EAAMC,EAAMC,GAAU,MAAOD,GAAKK,aAAY,IAClEE,MAAO,SAAUR,EAAMC,EAAMC,GAAU,MAAOD,GAAKQ,SACnDC,gBAAiB,SAAUV,EAAMC,EAAMC,GAAU,MAAOD,GAAKU,aAAeV,EAAKW,kBACjFC,OAAQ,SAAUb,EAAMC,EAAMC,GAAU,MAAOD,GAAKa,UACpDC,SAAU,SAAUf,EAAMC,EAAMC,GAAU,MAAOD,GAAKe,YACtDC,WAAY,SAAUjB,EAAMC,EAAMC,GAAU,MAAOF,GAAKkB,kBACxDC,SAAU,SAAUnB,EAAMC,EAAMC,GAAU,MAAOF,GAAKoB,gBACtDC,UAAW,SAAUrB,EAAMC,EAAMC,GAAU,MAAOF,GAAKsB,iBACvDC,cAAe,SAAUvB,EAAMC,EAAMC,GAAU,MAAOF,GAAKwB,qBAC3DC,UAAW,SAAUzB,EAAMC,EAAMC,EAAQZ,GACrC,GAAIoC,GAAOpC,EAAGoC,KAAMC,EAAKrC,EAAGqC,EAExBzB,GAAO0B,QACP5B,EAAK6B,SAASH,EAAMC,GAGpB3B,EAAK8B,SAASJ,EAAMC,KAI5BI,GACAC,OACIC,MAAOnC,EAAaC,gBACpBmC,SAAU,KACVC,YAAa,KACbC,cAAetC,EAAaY,gBAC5B2B,KAAMvC,EAAa2B,WAEvBa,MAAOhD,KACHA,EAAGC,EAAKG,OAASI,EAAamB,WAC9B3B,EAAGC,EAAKC,MAAQM,EAAaqB,SAC7B7B,EAAGC,EAAKI,MAAQG,EAAauB,UAC7B/B,EAAGC,EAAKE,IAAMK,EAAayB,cAC3BjC,EAAGC,EAAKM,OAASC,EAAaC,gBAC9BT,EAAGC,EAAKK,OAASE,EAAaC,gBAC9BT,IAEJiD,EAA6B,WAC7B,QAASA,GAAYC,OACD,KAAZA,IAAsBA,MAC1BC,KAAKD,QAAUA,EACfC,KAAKC,cAAgBC,kBAAmBF,KAAKD,QAAQE,cAAeX,GAChES,EAAQI,MACRH,KAAKC,cAAcJ,KAAK/C,EAAKG,OAASmD,MAAML,GAAU,gBAAiB,OAAQjD,EAAKG,SAAWI,EAAaqB,SAC5GsB,KAAKC,cAAcJ,KAAK/C,EAAKC,MAAQqD,MAAML,GAAU,gBAAiB,OAAQjD,EAAKC,QAAUM,EAAamB,YA+GlH,MA5GA6B,QAAOC,eAAeR,EAAYS,UAAW,iBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQU,eAAiB,YACxDC,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,gBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQa,cAAgB,QACvDF,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,WACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQc,SAAW,MAClDH,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,mBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQe,iBAAmB,cAC1DJ,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,eACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQgB,aACvCL,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,gBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQiB,cAAgB,GACvDN,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,oBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQkB,kBACvCP,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,iBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQmB,eACvCR,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,gBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQoB,cAAgB,IACvDT,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,uBACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQqB,qBAAuB,KAC9DV,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,kBACzCC,IAAK,WAAc,WAAuCa,KAAhCrB,KAAKD,QAAQuB,gBAAsCtB,KAAKD,QAAQuB,gBAC1FZ,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,OACzCC,IAAK,WAAc,QAASR,KAAKD,QAAQI,KACzCO,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAeR,EAAYS,UAAW,UACzCC,IAAK,WAAc,MAAOR,MAAKD,QAAQwB,QACvCb,YAAY,EACZC,cAAc,IAElBb,EAAYS,UAAUiB,aAAe,SAAUhE,GAC3C,MAAIwC,MAAKD,QAAQyB,aACNxB,KAAKD,QAAQyB,aAAahE,GAE9BiE,OAAOpB,OAAOqB,UAAWlE,EAAKmE,OAAQ,QAEjD7B,EAAYS,UAAUqB,UAAY,SAAUC,EAAS3C,EAAIzB,GACrD,MAAIuC,MAAKD,QAAQ6B,oBAAqBE,UAC3B9B,KAAKD,QAAQ6B,UAAUC,EAAS3C,EAAIzB,OAGT4D,KAA3BrB,KAAKD,QAAQ6B,WAAiC5B,KAAKD,QAAQ6B,WAG1E9B,EAAYS,UAAUwB,UAAY,SAAUvE,GACxC,MAAIwC,MAAKD,QAAQgC,oBAAqBD,UAC3B9B,KAAKD,QAAQgC,UAAUvE,GAGvBwC,KAAKD,QAAQgC,WAG5BjC,EAAYS,UAAUyB,UAAY,SAAUxE,GACxC,MAAOwC,MAAKD,QAAQiC,UAAYhC,KAAKD,QAAQiC,UAAUxE,GAAQ,IAEnEsC,EAAYS,UAAU0B,WAAa,SAAUzE,GACzC,GAAIA,EAAKmE,KAAKO,QACV,MAAO,EAEX,IAAID,GAAajC,KAAKD,QAAQkC,YAAc,EAK5C,OAJ0B,kBAAfA,KACPA,EAAaA,EAAWzE,IAGrByE,GAA6B,IAAfzE,EAAKf,MAAc,EAAI,GAAKuD,KAAKmC,gBAE1D9B,OAAOC,eAAeR,EAAYS,UAAW,kBACzCC,IAAK,WACD,MAAOR,MAAKD,QAAQoC,gBAAkB,GAE1CzB,YAAY,EACZC,cAAc,IAEXb,KCjKAsC,GACPjE,eAAgB,iBAChBkE,SAAU,WACVC,WAAY,aACZtE,MAAO,QACPuE,KAAM,OACNC,YAAa,cACbC,WAAY,aACZpD,SAAU,WACVD,SAAU,WACVsD,MAAO,QACPC,iBAAkB,mBAClBC,aAAc,eACdC,YAAa,eJbbC,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HC,GAAvHC,EAAIC,UAAU1G,OAAQ2G,EAAIF,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAO7C,OAAOkD,yBAAyBP,EAAQC,GAAOC,CACrH,IAAuB,gBAAZM,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIQ,GAAIX,EAAWpG,OAAS,EAAG+G,GAAK,EAAGA,KAASP,EAAIJ,EAAWW,MAAIJ,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEH,EAAQC,EAAKK,GAAKH,EAAEH,EAAQC,KAASK,EAChJ,OAAOF,GAAI,GAAKE,GAAKjD,OAAOC,eAAe0C,EAAQC,EAAKK,GAAIA,GAE5DK,EAA0C,SAAUC,EAAGC,GACvD,GAAuB,gBAAZL,UAAoD,kBAArBA,SAAQM,SAAyB,MAAON,SAAQM,SAASF,EAAGC,IAKtGE,EAAQC,QAASC,EAAOC,OACxBC,EAA0B,WAC1B,QAASA,GAASxC,EAAMyC,EAAQC,EAAW5H,GACvC,GAAI6H,GAAQtE,IACZA,MAAK2B,KAAOA,EACZ3B,KAAKoE,OAASA,EACdpE,KAAKqE,UAAYA,EACjBrE,KAAKuE,SAAW,EAChBvE,KAAK4B,UAAY,SAAUC,EAASpE,GAChC,MAAO6G,GAAMvE,QAAQ6B,UAAUC,GAAWuC,OAAQE,EAAO7H,MAAO,GAAKgB,QAEzD4D,KAAZrB,KAAKwE,IAAgC,OAAZxE,KAAKwE,KAC9BxE,KAAKwE,GAAKvI,KAEd+D,KAAKvD,MAAQA,EACTuD,KAAKyE,SAAS,aACdzE,KAAK0E,gBA6Yb,MA1YArE,QAAOC,eAAe6D,EAAS5D,UAAW,YACtCC,IAAK,WAAc,MAAOR,MAAKqE,UAAUM,SAAS3E,OAClDU,YAAY,EACZC,cAAc,IAGlBN,OAAOC,eAAe6D,EAAS5D,UAAW,cACtCC,IAAK,WAAc,MAAOR,MAAKqE,UAAUO,WAAW5E,OACpDU,YAAY,EACZC,cAAc,IAGlBN,OAAOC,eAAe6D,EAAS5D,UAAW,YACtCC,IAAK,WAAc,MAAOR,MAAKqE,UAAUQ,SAAS7E,OAClDU,YAAY,EACZC,cAAc,IAGlBN,OAAOC,eAAe6D,EAAS5D,UAAW,aACtCC,IAAK,WAAc,MAAOR,MAAKqE,UAAUS,cAAc9E,OACvDU,YAAY,EACZC,cAAc,IAGlBN,OAAOC,eAAe6D,EAAS5D,UAAW,SACtCC,IAAK,WACD,MAAOR,MAAKoE,OAASpE,KAAKoE,OAAOW,MAAQ,EAAI,GAEjDrE,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,QACtCC,IAAK,WACD,MAAOR,MAAKoE,OAASpE,KAAKoE,OAAOY,KAAKC,QAAQjF,KAAKwE,SAEvD9D,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,cACtCC,IAAK,WACD,KAAM,4IAEVE,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,gBACtCC,IAAK,WAAc,MAAOR,MAAKkF,eAC/BxE,YAAY,EACZC,cAAc,IAGlBN,OAAOC,eAAe6D,EAAS5D,UAAW,eAEtCC,IAAK,WACD,SAAUR,KAAK2B,KAAKzD,aAAgB8B,KAAKmF,UAAYnF,KAAKmF,SAASxI,OAAS,IAEhF+D,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,eACtCC,IAAK,WAAc,OAAQR,KAAK4E,YAChClE,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,UACtCC,IAAK,WAAc,OAAQR,KAAK9B,aAChCwC,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,UACtCC,IAAK,WAAc,MAAOR,MAAKoE,OAAOzC,KAAKO,SAC3CxB,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,cACtCC,IAAK,WAAc,MAAOR,MAAKoF,OAAS,KAAOpF,KAAKoE,QACpD1D,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,WAEtCC,IAAK,WAAc,MAAOR,MAAKqE,UAAUtE,SACzCW,YAAY,EACZC,cAAc,IAElBwD,EAAS5D,UAAU8E,UAAY,SAAU3C,GAAS1C,KAAKqE,UAAUgB,UAAU3C,IAC3ErC,OAAOC,eAAe6D,EAAS5D,UAAW,gBAEtCC,IAAK,WACD,MAAOR,MAAKyE,SAAS,YAEzB/D,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6D,EAAS5D,UAAW,MACtCC,IAAK,WACD,MAAOR,MAAKyE,SAAS,OAEzBa,IAAK,SAAUC,GACXvF,KAAKwF,SAAS,KAAMD,IAExB7E,YAAY,EACZC,cAAc,IAElBwD,EAAS5D,UAAUkE,SAAW,SAAUxB,GACpC,MAAOjD,MAAK2B,KAAK3B,KAAKD,QAAQkD,EAAM,WAExCkB,EAAS5D,UAAUiF,SAAW,SAAUvC,EAAKsC,GACzCvF,KAAK2B,KAAK3B,KAAKD,QAAQkD,EAAM,UAAYsC,GAG7CpB,EAAS5D,UAAUkF,qBAAuB,SAAUC,EAAOC,GAEvD,WADmB,KAAfA,IAAyBA,GAAa,GACnC3F,KAAK4F,oBAAoBD,GAAY3F,KAAKvD,MAAQiJ,IAE7DvB,EAAS5D,UAAUsF,gBAAkB,SAAUF,GAE3C,WADmB,KAAfA,IAAyBA,GAAa,GACnC3F,KAAKyF,qBAAqB,EAAIE,IAEzCxB,EAAS5D,UAAUuF,oBAAsB,SAAUH,GAE/C,WADmB,KAAfA,IAAyBA,GAAa,GACnC3F,KAAKyF,sBAAsB,EAAGE,IAEzCxB,EAAS5D,UAAUwF,mBAAqB,WACpC,MAAO/F,MAAKgG,iBAEhB3F,OAAOC,eAAe6D,EAAS5D,UAAW,mBACtCC,IAAK,WACD,OAAQR,KAAKmF,cAAgBc,OAAO,SAAUzI,GAAQ,OAAQA,EAAKmH,YAEvEjE,YAAY,EACZC,cAAc,IAElBwD,EAAS5D,UAAU2F,cAAgB,SAAUP,OACtB,KAAfA,IAAyBA,GAAa,EAC1C,IAAIR,GAAWQ,EAAa3F,KAAKgG,gBAAkBhG,KAAKmF,QACxD,OAAOpB,GAAMoB,QAEjBhB,EAAS5D,UAAU4F,aAAe,SAAUR,OACrB,KAAfA,IAAyBA,GAAa,EAC1C,IAAIR,GAAWQ,EAAa3F,KAAKgG,gBAAkBhG,KAAKmF,QACxD,OAAOlB,GAAKkB,QAEhBhB,EAAS5D,UAAU6F,aAAe,SAAUC,EAAUV,GAGlD,WAFiB,KAAbU,IAAuBA,GAAW,OACnB,KAAfV,IAAyBA,GAAa,GACnCU,GAAYrG,KAAK4E,YAAc5E,KAAKkG,cAAcP,IACrD3F,KAAK6F,gBAAgBF,IACrB3F,KAAKoE,QAAUpE,KAAKoE,OAAOgC,cAAa,EAAOT,IAEvDxB,EAAS5D,UAAU+F,iBAAmB,SAAUX,OACzB,KAAfA,IAAyBA,GAAa,EAC1C,IAAIY,GAAkBvG,KAAK8F,oBAAoBH,EAC/C,OAAKY,GAGEA,EAAgBC,uBAAuBb,GAFnC3F,KAAKyG,YAIpBtC,EAAS5D,UAAUiG,uBAAyB,SAAUb,OAC/B,KAAfA,IAAyBA,GAAa,EAC1C,IAAIe,GAAY1G,KAAKmG,aAAaR,EAClC,OAAQ3F,MAAK2G,cAAgBD,EACvB1G,KACA0G,EAAUF,uBAAuBb,IAE3CxB,EAAS5D,UAAUqF,oBAAsB,SAAUD,GAI/C,WAHmB,KAAfA,IAAyBA,GAAa,GAC3B3F,KAAKoE,SACfuB,EAAa3F,KAAKoE,OAAO2B,qBAAuB/F,KAAKoE,OAAOe,eAGrEhB,EAAS5D,UAAUqG,iBAAmB,SAAUjB,GAE5C,WADmB,KAAfA,IAAyBA,GAAa,GACnC3F,KAAK4F,oBAAoBD,GAAYkB,QAAQ7G,OAExDmE,EAAS5D,UAAUuG,eAAiB,SAAUtJ,GAC1C,MAAIwC,QAASxC,GAGFwC,KAAKoE,QAAUpE,KAAKoE,OAAO0C,eAAetJ,IAEzD2G,EAAS5D,UAAUwG,eAAiB,WAChC,MAAO/G,MAAKD,QAAQiB,cAAgBhB,KAAK+E,MAAQ,GAAK,MAE1DZ,EAAS5D,UAAUyG,SAAW,WAC1B,OAAQhH,KAAKD,QAAQiC,UAAUhC,MAAO,mBAAqBA,KAAK+E,OAAOkC,KAAK,MAEhF9C,EAAS5D,UAAU2G,OAAS,SAAUzJ,GAClCuC,KAAKmH,YAAY,OAAQ1J,EAAOiF,OAC5BzD,KAAMxB,EAAOoE,QACb3C,IAAMkF,OAAQpE,KAAMvD,MAAO,EAAG2K,YAAY,MAGlDjD,EAAS5D,UAAUwB,UAAY,WAC3B,MAAO/B,MAAKD,QAAQgC,UAAU/B,OAGlCmE,EAAS5D,UAAUoC,iBAAmB,WAClC,GAAI2B,GAAQtE,IACZ,OAAKA,MAAKD,QAAQgB,YAGXsG,QAAQC,QAAQtH,KAAKD,QAAQgB,YAAYf,OAC3CuH,KAAK,SAAUpC,GACZA,IACAb,EAAMkB,SAAS,WAAYL,GAC3Bb,EAAMI,gBACNJ,EAAMa,SAASqC,QAAQ,SAAUC,GACzBA,EAAMhD,SAAS,eAAiBgD,EAAMvJ,aACtCuJ,EAAMpJ,cAInBkJ,KAAK,WACJjD,EAAMe,WACFqC,UAAWtF,EAAYO,iBACvBnF,KAAM8G,MAhBH+C,QAAQC,WAoBvBnD,EAAS5D,UAAUlC,OAAS,WACxB,MAAK2B,MAAK4E,WAGHyC,QAAQC,UAFJtH,KAAK7B,kBAIpBgG,EAAS5D,UAAUhC,SAAW,WAI1B,MAHIyB,MAAK4E,YACL5E,KAAK7B,iBAEF6B,MAEXmE,EAAS5D,UAAUoH,SAAW,SAAUC,GACpC,GAAItD,GAAQtE,IACZqH,SAAQC,QAAQM,EAAG5H,OAAOuH,KAAK,WACvBjD,EAAMa,UACNb,EAAMa,SAASqC,QAAQ,SAAUC,GAAS,MAAOA,GAAME,SAASC,QAI5EzD,EAAS5D,UAAUsH,UAAY,WAC3B7H,KAAK2H,SAAS,SAAUnK,GAAQ,MAAOA,GAAKa,YAEhD8F,EAAS5D,UAAUuH,YAAc,WAC7B9H,KAAK2H,SAAS,SAAUnK,GAAQ,MAAOA,GAAKe,cAEhD4F,EAAS5D,UAAUwH,cAAgB,WAK/B,MAJI/H,MAAKyG,aACLzG,KAAKyG,WAAWpI,SAChB2B,KAAKyG,WAAWsB,iBAEb/H,MAEXmE,EAAS5D,UAAUpC,eAAiB,WAChC,MAAO6B,MAAKgI,eAAehI,KAAK4E,aAEpCT,EAAS5D,UAAUyH,cAAgB,SAAUzC,GACzC,MAAIvF,MAAK9B,cACL8B,KAAKqE,UAAU4D,gBAAgBjI,KAAMuF,IAChCvF,KAAKmF,UAAYnF,KAAK9B,aAAeqH,GAC/BvF,KAAK2C,mBAGb0E,QAAQC,WAGnBnD,EAAS5D,UAAU1C,YAAc,SAAU0H,EAAO2C,GAM9C,WALc,KAAVA,IAAoBA,GAAQ,GAChClI,KAAKqE,UAAU8D,cAAcnI,KAAMuF,EAAO2C,GACtC3C,GACAvF,KAAKhC,MAAMgC,KAAKD,QAAQuB,gBAErBtB,MAEXmE,EAAS5D,UAAU7C,gBAAkB,SAAUwK,GAG3C,WAFc,KAAVA,IAAoBA,GAAQ,GAChClI,KAAKnC,aAAamC,KAAK6E,SAAUqD,GAC1BlI,MAEXmE,EAAS5D,UAAU6H,oBAAsB,SAAUF,GAK/C,WAJc,KAAVA,IAAoBA,GAAQ,GAChClI,KAAKnC,aAAY,EAAMqK,GAClBH,gBACLM,WAAWrI,KAAKsI,eAAeC,KAAKvI,OAC7BA,MAEXmE,EAAS5D,UAAU+H,eAAiB,SAAUE,OAC5B,KAAVA,IAAoBA,GAAQ,GAChCxI,KAAKqE,UAAUoE,cAAcH,eAAetI,KAAMwI,IAEtDrE,EAAS5D,UAAUvC,MAAQ,SAAU0K,OAClB,KAAXA,IAAqBA,GAAS,EAClC,IAAIC,GAAe3I,KAAKqE,UAAUuE,gBASlC,OARA5I,MAAKqE,UAAUwE,eAAe7I,MAC1B0I,GACA1I,KAAKsI,iBAELK,GACA3I,KAAKqF,WAAYqC,UAAWtF,EAAYG,KAAM/E,KAAMmL,IAExD3I,KAAKqF,WAAYqC,UAAWtF,EAAYpE,MAAOR,KAAMwC,OAC9CA,MAEXmE,EAAS5D,UAAUgC,KAAO,WACtB,GAAIoG,GAAe3I,KAAKqE,UAAUuE,gBAKlC,OAJA5I,MAAKqE,UAAUwE,eAAe,MAC1BF,GACA3I,KAAKqF,WAAYqC,UAAWtF,EAAYG,KAAM/E,KAAMwC,OAEjDA,MAEXmE,EAAS5D,UAAUuI,YAAc,SAAUvD,GACvCvF,KAAKqE,UAAUyE,YAAY9I,KAAMuF,IAErCpB,EAAS5D,UAAUwI,KAAO,WACtB/I,KAAK8I,aAAY,IAErB3E,EAAS5D,UAAUyI,KAAO,WACtBhJ,KAAK8I,aAAY,IAErB3E,EAAS5D,UAAU4G,YAAc,SAAU8B,EAAYxL,EAAQkE,OAC9C,KAATA,IAAmBA,EAAO,MAC9B3B,KAAKqE,UAAU6E,UAAS,EACxB,IAAIjJ,GAAgBD,KAAKD,QAAQE,cAAcV,MAC3C4J,EAASlJ,EAAcgJ,EACvBE,IACAA,EAAOnJ,KAAKqE,UAAWrE,KAAMvC,EAAQkE,IAG7CwC,EAAS5D,UAAU6I,cAAgB,WAC/B,MAAOpJ,MAAKD,QAAQkC,WAAWjC,OAEnCmE,EAAS5D,UAAUmE,cAAgB,WAC/B,GAAIJ,GAAQtE,IACZA,MAAKmF,SAAWnF,KAAKyE,SAAS,YACzB4E,IAAI,SAAUjG,EAAG3G,GAAS,MAAO,IAAI0H,GAASf,EAAGkB,EAAOA,EAAMD,UAAW5H,MAElFqG,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZQ,EAAS5D,UAAW,WAAY,MACnCuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZQ,EAAS5D,UAAW,aAAc,MACrCuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZQ,EAAS5D,UAAW,WAAY,MACnCuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZQ,EAAS5D,UAAW,YAAa,MACpCuC,GACIyG,aACA5F,EAAW,cAAe6F,QAC3BrF,EAAS5D,UAAW,eAAY,IACnCuC,GACIyG,aACA5F,EAAW,cAAe8F,SAC3BtF,EAAS5D,UAAW,YAAS,IAChCuC,GACIyG,aACA5F,EAAW,cAAetD,SAC3B8D,EAAS5D,UAAW,eAAY,IACnCuC,GACIyG,aACA5F,EAAW,cAAe8F,SAC3BtF,EAAS5D,UAAW,aAAU,IACjCuC,GACIwG,WACA3F,EAAW,cAAe8F,QAC1B9F,EAAW,yBACZQ,EAAS5D,UAAW,QAAS,MAChCuC,GACIwG,WACA3F,EAAW,cAAe6F,OAC1B7F,EAAW,yBACZQ,EAAS5D,UAAW,OAAQ,MAC/BuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZQ,EAAS5D,UAAW,kBAAmB,MAC1CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCQ,EAAS5D,UAAW,gBAAiB,MACjC4D,KKzaPrB,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HC,GAAvHC,EAAIC,UAAU1G,OAAQ2G,EAAIF,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAO7C,OAAOkD,yBAAyBP,EAAQC,GAAOC,CACrH,IAAuB,gBAAZM,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIQ,GAAIX,EAAWpG,OAAS,EAAG+G,GAAK,EAAGA,KAASP,EAAIJ,EAAWW,MAAIJ,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEH,EAAQC,EAAKK,GAAKH,EAAEH,EAAQC,KAASK,EAChJ,OAAOF,GAAI,GAAKE,GAAKjD,OAAOC,eAAe0C,EAAQC,EAAKK,GAAIA,GAE5DK,EAA0C,SAAUC,EAAGC,GACvD,GAAuB,gBAAZL,UAAoD,kBAArBA,SAAQM,SAAyB,MAAON,SAAQM,SAASF,EAAGC,IAQtGE,EAAQC,QAASC,EAAOC,OAAQwF,EAAUC,UAAWC,EAAOC,OAAQC,EAAkCC,WAAYC,EAAaC,aAC/HC,EAA2B,WAC3B,QAASA,KACLlK,KAAKD,QAAU,GAAID,GACnBE,KAAKmK,WAAa9J,OAAOR,KAAKuC,GAC9BpC,KAAKoK,mBACLpK,KAAKqK,iBACLrK,KAAKsK,iBACLtK,KAAKuK,cAAgB,KACrBvK,KAAKwK,aAAc,EAujBvB,MApjBAN,GAAU3J,UAAU8E,UAAY,SAAU3C,GACtCA,EAAM2B,UAAYrE,KAClBA,KAAKyK,OAAO/H,EAAMgF,WAAWgD,KAAKhI,GAClC1C,KAAKyK,OAAO/H,MAAMgI,KAAKhI,IAE3BwH,EAAU3J,UAAUoK,UAAY,SAAUjD,EAAWE,GACjD5H,KAAKyK,OAAO/C,GAAWiD,UAAU/C,IAGrCsC,EAAU3J,UAAUqI,eAAiB,WACjC,MAAO5I,MAAK4K,aAEhBV,EAAU3J,UAAUsK,cAAgB,WAChC,MAAO7K,MAAK8K,YAAY,IAE5BZ,EAAU3J,UAAUwK,eAAiB,WACjC,MAAO/K,MAAK8K,aAEhBZ,EAAU3J,UAAUyK,gBAAkB,WAClC,MAAOhL,MAAKiL,YAAYjF,iBAE5BkE,EAAU3J,UAAU2K,aAAe,SAAUvF,GAEzC,WADmB,KAAfA,IAAyBA,GAAa,GACnC5B,EAAM4B,EAAa3F,KAAKgL,kBAAoBhL,KAAKmL,QAE5DjB,EAAU3J,UAAU6K,YAAc,SAAUzF,GAExC,WADmB,KAAfA,IAAyBA,GAAa,GACnC1B,EAAK0B,EAAa3F,KAAKgL,kBAAoBhL,KAAKmL,QAE3D9K,OAAOC,eAAe4J,EAAU3J,UAAW,aACvCC,IAAK,WACD,MAAO0J,GAAUmB,cAAgBrL,MAErCU,YAAY,EACZC,cAAc,IAElBuJ,EAAU3J,UAAUuE,cAAgB,SAAUtH,GAC1C,MAAOwC,MAAK4K,cAAgBpN,GAEhC0M,EAAU3J,UAAU+K,YAAc,WAC9B,MAAOtL,MAAKmL,OAA+B,IAAtBnL,KAAKmL,MAAMxO,QAEpC0D,OAAOC,eAAe4J,EAAU3J,UAAW,eACvCC,IAAK,WACD,MAAOR,MAAKuK,cAAgBvK,KAAKuL,YAAYvL,KAAKuK,eAAiB,MAEvE7J,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe4J,EAAU3J,UAAW,iBACvCC,IAAK,WACD,GAAI8D,GAAQtE,KACR1D,EAAQ+D,OAAOR,KAAKG,KAAKoK,iBACxBnE,OAAO,SAAUzB,GAAM,MAAOF,GAAM8F,gBAAgB5F,KACpD6E,IAAI,SAAU7E,GAAM,MAAOF,GAAMiH,YAAY/G,IAClD,OAAOkF,GAAQpN,IAEnBoE,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe4J,EAAU3J,UAAW,eACvCC,IAAK,WACD,GAAI8D,GAAQtE,KACR1D,EAAQ+D,OAAOR,KAAKG,KAAKqK,eACxBpE,OAAO,SAAUzB,GAAM,MAAOF,GAAM+F,cAAc7F,KAClD6E,IAAI,SAAU7E,GAAM,MAAOF,GAAMiH,YAAY/G,IAClD,OAAOkF,GAAQpN,IAEnBoE,YAAY,EACZC,cAAc,IAGlBuJ,EAAU3J,UAAUiL,cAAgB,SAAUxG,EAAMyG,GAEhD,OADkB,KAAdA,IAAwBA,EAAY,OACnCzG,EACD,MAAO,KAEX,IADAyG,EAAYA,GAAazL,KAAKiL,YACV,IAAhBjG,EAAKrI,OACL,MAAO8O,EACX,KAAKA,EAAUtG,SACX,MAAO,KACX,IAAIuG,GAAU1G,EAAK2G,QACfC,EAAYhC,EAAK6B,EAAUtG,UAAYX,GAAIkH,GAC/C,OAAKE,GAEE5L,KAAKwL,cAAcxG,EAAM4G,GADrB,MAGf1B,EAAU3J,UAAUgL,YAAc,SAAU/G,GACxC,GAAIqH,GAAQrH,EAAGsH,UACf,OAAO9L,MAAK+L,UAAU,SAAUvO,GAAQ,MAAOA,GAAKgH,GAAGsH,aAAeD,KAE1E3B,EAAU3J,UAAUwL,UAAY,SAAUC,EAAWP,GAGjD,OAFkB,KAAdA,IAAwBA,EAAY,MACxCA,EAAYA,GAAazL,KAAKiL,aACzBQ,EAAUtG,SACX,MAAO,KACX,IAAI8G,GAAQrC,EAAK6B,EAAUtG,SAAU6G,EACrC,IAAIC,EACA,MAAOA,EAGP,KAAK,GAAIC,GAAK,EAAGrP,EAAK4O,EAAUtG,SAAU+G,EAAKrP,EAAGF,OAAQuP,IAAM,CAC5D,GAAIzE,GAAQ5K,EAAGqP,GACXC,EAAkBnM,KAAK+L,UAAUC,EAAWvE,EAChD,IAAI0E,EACA,MAAOA,KAIvBjC,EAAU3J,UAAUqE,WAAa,SAAUpH,GACvC,MAAOwC,MAAKoK,gBAAgB5M,EAAKgH,KAErC0F,EAAU3J,UAAUoE,SAAW,SAAUnH,GACrC,MAAOwC,MAAKsK,cAAc9M,EAAKgH,KAEnC0F,EAAU3J,UAAUsE,SAAW,SAAUrH,GACrC,MAAOwC,MAAKqK,cAAc7M,EAAKgH,KAGnC0F,EAAU3J,UAAU6L,QAAU,SAAUvP,GACpC,GAAIP,GAAQO,EAAGP,MAAO+P,EAAKxP,EAAGkD,QAASA,MAAiB,KAAPsM,EAAgB,KAAOA,EAAIC,EAAKzP,EAAG4N,OAAQA,MAAgB,KAAP6B,EAAgB,KAAOA,CACxHvM,KACAC,KAAKD,QAAU,GAAID,GAAYC,IAE/B0K,IACAzK,KAAKyK,OAASA,GAEdnO,IACA0D,KAAK1D,MAAQA,GAEjB0D,KAAKuM,UAETrC,EAAU3J,UAAUgM,OAAS,WAEzB,GAAIC,IAAqB3P,GACjB2H,GAAIxE,KAAKD,QAAQwB,OACjBW,SAAS,GAEbrF,EAAGmD,KAAKD,QAAQU,eAAiBT,KAAK1D,MACtCO,EACJmD,MAAKiL,YAAc,GAAI9G,GAASqI,EAAmB,KAAMxM,KAAM,GAC/DA,KAAKmL,MAAQnL,KAAKiL,YAAY9F,SAE1BnF,KAAKwK,YACDxK,KAAKmL,QACLnL,KAAKwK,aAAc,EACnBxK,KAAKyM,2BAITzM,KAAKqF,WAAYqC,UAAWtF,EAAYK,YAE5C,IAAI5F,IAERqN,EAAU3J,UAAUsI,eAAiB,SAAUrL,GAC3CwC,KAAKuK,cAAgB/M,EAAOA,EAAKgH,GAAK,MAE1C0F,EAAU3J,UAAU2I,SAAW,SAAU3D,GACrC2E,EAAUmB,YAAc9F,EAAQvF,KAAO,MAE3CkK,EAAU3J,UAAUoH,SAAW,SAAUC,GACrC5H,KAAKmL,MAAM3D,QAAQ,SAAUkF,GAAQ,MAAOA,GAAK/E,SAASC,MAE9DsC,EAAU3J,UAAU1B,cAAgB,WAChC,GAAI8J,GAAe3I,KAAK4I,iBACpB+D,EAAWhE,EAAeA,EAAavC,cAAa,GAAM,GAAQpG,KAAKkL,cAAa,EACpFyB,IACAA,EAAS3O,SAEjBkM,EAAU3J,UAAUxB,kBAAoB,WACpC,GAAI4J,GAAe3I,KAAK4I,iBACpB+D,EAAWhE,EAAeA,EAAarC,kBAAiB,GAAQtG,KAAKoL,aAAY,EACjFuB,IACAA,EAAS3O,SAEjBkM,EAAU3J,UAAU9B,eAAiB,WACjC,GAAIkK,GAAe3I,KAAK4I,gBACxB,IAAID,GAAgBA,EAAahC,aAAegC,EAAazK,YACzDyK,EAAaxK,qBAEZ,CACD,GAAIwO,GAAWhE,EAAeA,EAAazC,eAAc,GAAQlG,KAAKkL,cAAa,EAC/EyB,IACAA,EAAS3O,UAGrBkM,EAAU3J,UAAU5B,aAAe,WAC/B,GAAIgK,GAAe3I,KAAK4I,gBACxB,IAAKD,EAEL,GAAIA,EAAa/D,WACb+D,EAAaxK,qBAEZ,CACD,GAAIwO,GAAWhE,EAAalC,UACxBkG,IACAA,EAAS3O,UAGrBkM,EAAU3J,UAAU4H,cAAgB,SAAU3K,EAAM+H,EAAO2C,OACzC,KAAVA,IAAoBA,GAAQ,GAC5BA,EACAlI,KAAK4M,oBAAoBpP,EAAM+H,GAG/BvF,KAAK6M,qBAAqBrP,EAAM+H,GAEhCA,GACA/H,EAAKQ,QACLgC,KAAKqF,WAAYqC,UAAWtF,EAAYC,SAAU7E,KAAMA,KAGxDwC,KAAKqF,WAAYqC,UAAWtF,EAAYE,WAAY9E,KAAMA,KAGlE0M,EAAU3J,UAAU0H,gBAAkB,SAAUzK,EAAM+H,GAClDvF,KAAKoK,gBAAkB/J,OAAOqB,UAAW1B,KAAKoK,iBAAkBvN,KAASA,EAAGW,EAAKgH,IAAMe,EAAO1I,IAC9FmD,KAAKqF,WAAYqC,UAAWtF,EAAYjE,eAAgBX,KAAMA,EAAMoH,WAAYW,GAChF,IAAI1I,IAERqN,EAAU3J,UAAUsH,UAAY,WAC5B7H,KAAKmL,MAAM3D,QAAQ,SAAUkF,GAAQ,MAAOA,GAAK7E,eAErDqC,EAAU3J,UAAUuH,YAAc,WAC9B9H,KAAKmL,MAAM3D,QAAQ,SAAUkF,GAAQ,MAAOA,GAAK5E,iBAErDoC,EAAU3J,UAAUuI,YAAc,SAAUtL,EAAM+H,GAC9CvF,KAAKsK,cAAgBjK,OAAOqB,UAAW1B,KAAKsK,eAAgBzN,KAASA,EAAGW,EAAKgH,IAAMe,EAAO1I,GAC1F,IAAIA,IAERqN,EAAU3J,UAAUuM,iBAAmB,SAAUC,GAC7C/M,KAAKsK,cAAgByC,EAAQC,OAAO,SAAUxI,EAAI8F,GAC9C,MAAOjK,QAAOqB,OAAO4I,GAAgBzN,KACjCA,EAAG2H,IAAM,EACT3H,GACJ,IAAIA,SAGZqN,EAAU3J,UAAU0M,iBAAmB,SAAUzP,EAAMC,GACnD,GAAI0L,GAASnJ,KAAKD,QAAQE,cAAcJ,KAAKpC,EAAOyP,QACpD,SAAI/D,IACA1L,EAAO0P,iBACPhE,EAAOnJ,KAAMxC,EAAMC,IACZ,IAMfyM,EAAU3J,UAAU6M,YAAc,SAAUnH,EAAQoH,GAChD,GAAI/I,GAAQtE,SACK,KAAbqN,IAAuBA,GAAW,EACtC,IAAIC,EACJ,KAAKrH,EACD,MAAOjG,MAAKuN,aAGhB,IAAIC,EAASvH,GACTqH,EAAW,SAAU9P,GAAQ,OAA0E,IAAnEA,EAAKoD,aAAa6M,cAAc5G,QAAQZ,EAAOwH,oBAElF,CAAA,IAAIzD,EAAW/D,GAMhB,MAFAyH,SAAQC,MAAM,oCAAsC1H,OACpDyH,SAAQC,MAAM,wCAJdL,GAAWrH,EAOf,GAAI2H,KACJ5N,MAAKmL,MAAM3D,QAAQ,SAAUhK,GAAQ,MAAO8G,GAAMuJ,YAAYD,EAAKpQ,EAAM8P,EAAUD,KACnFrN,KAAKsK,cAAgBsD,EACrB5N,KAAKqF,WAAYqC,UAAWtF,EAAYQ,gBAE5CsH,EAAU3J,UAAUgN,YAAc,WAC9BvN,KAAKsK,iBACLtK,KAAKqF,WAAYqC,UAAWtF,EAAYQ,gBAE5CsH,EAAU3J,UAAUlB,SAAW,SAAU7B,EAAM0B,GAC3C,GAAI4O,GAAYtQ,EAAKoJ,mBACjBmH,EAAavQ,EAAK4G,MACtB,IAAKpE,KAAKgO,aAAaxQ,EAAMsQ,EAAW5O,GAAxC,CAEA,GAAI+O,GAAeF,EAAWtJ,SAAS,WAElCvF,GAAGkF,OAAOK,SAAS,aACpBvF,EAAGkF,OAAOoB,SAAS,cAEvB,IAAI0I,GAAahP,EAAGkF,OAAOK,SAAS,YAChC0J,EAAeF,EAAaG,OAAON,EAAW,GAAG,GAEjDpR,EAAWqR,IAAe7O,EAAGkF,QAAUlF,EAAGzC,MAAQqR,EAAa5O,EAAGzC,MAAQ,EAAIyC,EAAGzC,KACrFyR,GAAWE,OAAO1R,EAAS,EAAGyR,GAC9BJ,EAAW1J,UAAUkI,SACjBrN,EAAGkF,OAAOC,YAAc0J,EAAW1J,WACnCnF,EAAGkF,OAAOC,UAAUkI,SAExBvM,KAAKqF,WAAYqC,UAAWtF,EAAY/C,SAAU7B,KAAM2Q,EAAcjP,IAAMkF,OAAQlF,EAAGkF,OAAOzC,KAAMlF,MAAOC,OAE/GwN,EAAU3J,UAAUnB,SAAW,SAAU5B,EAAM0B,GAC3C,GAAI4O,GAAYtQ,EAAKoJ,kBACrB,IAAK5G,KAAKgO,aAAaxQ,EAAMsQ,EAAW5O,GAAxC,CAGKA,EAAGkF,OAAOK,SAAS,aACpBvF,EAAGkF,OAAOoB,SAAS,cAEvB,IAAI0I,GAAahP,EAAGkF,OAAOK,SAAS,YAChC4J,EAAWrO,KAAKD,QAAQyB,aAAahE,EACzC0Q,GAAWE,OAAOlP,EAAGzC,MAAO,EAAG4R,GAC/B7Q,EAAK6G,UAAUkI,SACXrN,EAAGkF,OAAOC,YAAc7G,EAAK6G,WAC7BnF,EAAGkF,OAAOC,UAAUkI,SAExBvM,KAAKqF,WAAYqC,UAAWtF,EAAYhD,SAAU5B,KAAM6Q,EAAUnP,IAAMkF,OAAQlF,EAAGkF,OAAOzC,KAAMlF,MAAOyC,EAAGzC,WAE9GyN,EAAU3J,UAAU+N,SAAW,WAC3B,OACIlE,gBAAiBpK,KAAKoK,gBACtBC,cAAerK,KAAKqK,cACpBC,cAAetK,KAAKsK,cACpBC,cAAevK,KAAKuK,gBAG5BL,EAAU3J,UAAUgO,SAAW,SAAUC,GAChCA,GAELnO,OAAOqB,OAAO1B,MACVoK,gBAAiBoE,EAAMpE,oBACvBC,cAAemE,EAAMnE,kBACrBC,cAAekE,EAAMlE,kBACrBC,cAAeiE,EAAMjE,iBAG7BL,EAAU3J,UAAUkO,iBAAmB,SAAU7G,GAC7C,GAAItD,GAAQtE,IACZ0O,WAAQ,WAAc,MAAO9G,GAAGtD,EAAMgK,eAG1CpE,EAAU3J,UAAUyN,aAAe,SAAUxQ,EAAMsQ,EAAW5O,GAE1D,OAAI1B,EAAK4G,SAAWlF,EAAGkF,QAAU0J,IAAc5O,EAAGzC,SAG1CyC,EAAGkF,OAAO0C,eAAetJ,IAErC0M,EAAU3J,UAAUsN,YAAc,SAAUD,EAAKpQ,EAAM8P,EAAUD,GAC7D,GAAI/I,GAAQtE,KAER2O,EAAYrB,EAAS9P,EAiBzB,OAhBIA,GAAK2H,UAEL3H,EAAK2H,SAASqC,QAAQ,SAAUC,GACxBnD,EAAMuJ,YAAYD,EAAKnG,EAAO6F,EAAUD,KACxCsB,GAAY,KAKnBA,IACDf,EAAIpQ,EAAKgH,KAAM,GAGf6I,GAAYsB,GACZnR,EAAKuK,gBAEF4G,GAEXzE,EAAU3J,UAAUkM,wBAA0B,SAAUhB,GACpD,GAAInH,GAAQtE,SACM,KAAdyL,IAAwBA,EAAY,MACxCA,EAAYA,GAAazL,KAAKiL,YAC1BQ,EAAU9J,KAAK3B,KAAKD,QAAQe,mBAC5Bd,KAAKoK,gBAAkB/J,OAAOqB,UAAW1B,KAAKoK,iBAAkBvN,KAASA,EAAG4O,EAAUjH,KAAM,EAAM3H,KAElG4O,EAAUtG,UACVsG,EAAUtG,SAASqC,QAAQ,SAAUC,GAAS,MAAOnD,GAAMmI,wBAAwBhF,IAEvF,IAAI5K,IAERqN,EAAU3J,UAAUsM,qBAAuB,SAAUrP,EAAM+H,GACvD,GAAIjB,GAAQtE,IAEZA,MAAK8K,YACA7E,OAAO,SAAU2I,GAAc,MAAOA,KAAepR,IACrDgK,QAAQ,SAAUoH,GACnBtK,EAAMe,WAAYqC,UAAWtF,EAAYE,WAAY9E,KAAMoR,MAG3D5O,KAAKqK,cADL9E,GACsB1I,KAASA,EAAGW,EAAKgH,KAAM,EAAM3H,KAKvD,IAAIA,IAERqN,EAAU3J,UAAUqM,oBAAsB,SAAUpP,EAAM+H,GACtDvF,KAAKqK,cAAgBhK,OAAOqB,UAAW1B,KAAKqK,eAAgBxN,KAASA,EAAGW,EAAKgH,IAAMe,EAAO1I,GAC1F,IAAIA,IAERqN,EAAUmB,YAAc,KACxBnB,EAAUnH,aACJ8L,KAAMC,eAGZ5E,EAAU6E,eAAiB,WAAc,UACzCjM,GACIyG,aACA5F,EAAW,cAAe6F,QAC3BU,EAAU3J,UAAW,YAAS,IACjCuC,GACIyG,aACA5F,EAAW,cAAetD,SAC3B6J,EAAU3J,UAAW,sBAAmB,IAC3CuC,GACIyG,aACA5F,EAAW,cAAetD,SAC3B6J,EAAU3J,UAAW,oBAAiB,IACzCuC,GACIyG,aACA5F,EAAW,cAAetD,SAC3B6J,EAAU3J,UAAW,oBAAiB,IACzCuC,GACIyG,aACA5F,EAAW,cAAetD,SAC3B6J,EAAU3J,UAAW,oBAAiB,IACzCuC,GACIyG,aACA5F,EAAW,cAAeQ,IAC3B+F,EAAU3J,UAAW,kBAAe,IACvCuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZuG,EAAU3J,UAAW,cAAe,MACvCuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZuG,EAAU3J,UAAW,gBAAiB,MACzCuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZuG,EAAU3J,UAAW,cAAe,MACvCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,UAAW,MACnCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,SAAU,MAClCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,iBAAkB,MAC1CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,WAAY,MACpCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,WAAY,MACpCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,gBAAiB,MACzCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,oBAAqB,MAC7CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,iBAAkB,MAC1CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,eAAgB,MACxCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,OAAQA,OAAQA,SACjDsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,gBAAiB,MACzCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,OAAQA,SACzCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,kBAAmB,MAC3CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,YAAa,MACrCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,cAAe,MACvCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,OAAQA,SACzCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,cAAe,MACvCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,mBAAoB,MAC5CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,OAAQA,SACzCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,cAAe,MACvCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,cAAe,MACvCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,OAAQA,SACzCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,WAAY,MACpCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,OAAQA,SACzCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,WAAY,MACpCuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCuG,EAAU3J,UAAW,WAAY,MAC7B2J,KC9kBP8E,EAAoC,WACpC,QAASA,KACLhP,KAAKiP,gBAAkB,KAgB3B,MAdAD,GAAmBzO,UAAU+E,IAAM,SAAU4J,GACzClP,KAAKiP,gBAAkBC,GAE3BF,EAAmBzO,UAAUC,IAAM,WAC/B,MAAOR,MAAKiP,iBAEhBD,EAAmBzO,UAAU4O,WAAa,WACtC,QAASnP,KAAKQ,OAElBwO,EAAmBjM,aACb8L,KAAMC,eAGZE,EAAmBD,eAAiB,WAAc,UAC3CC,KLnBPlM,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HC,GAAvHC,EAAIC,UAAU1G,OAAQ2G,EAAIF,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAO7C,OAAOkD,yBAAyBP,EAAQC,GAAOC,CACrH,IAAuB,gBAAZM,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIQ,GAAIX,EAAWpG,OAAS,EAAG+G,GAAK,EAAGA,KAASP,EAAIJ,EAAWW,MAAIJ,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEH,EAAQC,EAAKK,GAAKH,EAAEH,EAAQC,KAASK,EAChJ,OAAOF,GAAI,GAAKE,GAAKjD,OAAOC,eAAe0C,EAAQC,EAAKK,GAAIA,GAE5DK,EAA0C,SAAUC,EAAGC,GACvD,GAAuB,gBAAZL,UAAoD,kBAArBA,SAAQM,SAAyB,MAAON,SAAQM,SAASF,EAAGC,IAQtGuL,EAAmC,WACnC,QAASA,GAAkB/K,GACvB,GAAIC,GAAQtE,IACZA,MAAKqE,UAAYA,EACjBrE,KAAKqP,QAAU,EACfrP,KAAKsP,EAAI,EACTtP,KAAKuP,eAAiB,KACtBvP,KAAKwP,SAAW,KAChBnL,EAAUoE,cAAgBzI,KAC1BA,KAAKyP,UAAYf,UAAQ,WAAc,MAAOpK,GAAMoL,eAuKxD,MArKArP,QAAOC,eAAe8O,EAAkB7O,UAAW,KAC/CC,IAAK,WACD,MAdI,IAcGR,KAAKqP,SAEhB3O,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe8O,EAAkB7O,UAAW,eAC/CC,IAAK,WACD,MAAOR,MAAKqE,UAAU4G,YAAcjL,KAAKqE,UAAU4G,YAAY0E,OAAS,GAE5EjP,YAAY,EACZC,cAAc,IAElByO,EAAkB7O,UAAU8E,UAAY,SAAU3C,GAC9C1C,KAAKqE,UAAUgB,UAAU3C,IAE7B0M,EAAkB7O,UAAUqP,KAAO,WAC/B,GAAItL,GAAQtE,KACR4H,EAAK5H,KAAK6P,gBAAgBtH,KAAKvI,KACnC4H,KACA5H,KAAKyP,SAAWzP,KAAKyP,SAASxK,QAC1B6K,WAAS,WAAc,MAAOxL,GAAMD,UAAU8G,OAAUvD,GACxDkI,WAAS,WAAc,MAAOxL,GAAMD,UAAU+F,iBAAoBxC,GAClEkI,WAAS,WAAc,MAAOxL,GAAMD,UAAUiG,eAAkB1C,KAEpE5H,KAAKqE,UAAUsG,UAAUvI,EAAYO,iBAAkBiF,IAE3DwH,EAAkB7O,UAAUwP,UAAY,WACpC,MAAO/P,MAAKqE,UAAUtE,QAAQkB,kBAElCmO,EAAkB7O,UAAUyP,YAAc,SAAUzK,GAChDvF,KAAKqP,QAAU9J,GAEnB6J,EAAkB7O,UAAUsP,gBAAkB,WAC1C7P,KAAKqE,UAAU4G,YAAY0E,OAAS3P,KAAKiQ,kBAAkBjQ,KAAKqE,UAAU2G,kBAAmB,IAEjGoE,EAAkB7O,UAAU0P,kBAAoB,SAAU3T,EAAO4T,GAC7D,GAAI5L,GAAQtE,KACRuE,EAAW2L,CAKf,OAJA5T,GAAMkL,QAAQ,SAAUhK,GACpBA,EAAK+G,SAAWA,EAChBA,EAAWD,EAAM6L,sBAAsB3S,EAAM+G,KAE1CA,GAEX6K,EAAkB7O,UAAU4P,sBAAwB,SAAU3S,EAAM0S,GAChE,GAAI3L,GAAW/G,EAAK4L,gBAAkB8G,CAKtC,OAJI1S,GAAK2H,UAAY3H,EAAKoH,aACtBL,EAAWvE,KAAKiQ,kBAAkBzS,EAAKwI,gBAAiBzB,IAE5D/G,EAAKmS,OAASpL,EAAW2L,EAClB3L,GAEX6K,EAAkB7O,UAAU6P,MAAQ,WAChCpQ,KAAKyP,SAASjI,QAAQ,SAAUrE,GAAK,MAAOA,QAEhDiM,EAAkB7O,UAAU8P,YAAc,SAAUb,GAChDnP,OAAOqB,OAAO1B,MACVwP,SAAUA,EACVF,EAAGE,EAASc,WACZjB,QAASnT,KAAKqU,MAAMf,EAASgB,UAzEzB,IA0EJjB,eAAgBC,EAASiB,wBAAwBd,UAGzDP,EAAkB7O,UAAU+H,eAAiB,SAAU9K,EAAMgL,EAAOkI,OACzC,KAAnBA,IAA6BA,GAAiB,IAC9ClI,GACAhL,EAAK+G,SAAWvE,KAAK2Q,GACrBnT,EAAK+G,SAAW/G,EAAK4L,gBAAkBpJ,KAAK2Q,EAAI3Q,KAAKuP,iBACjDvP,KAAKwP,WACLxP,KAAKwP,SAASgB,UAAYE,EACtBlT,EAAK+G,SAAWvE,KAAKuP,eAAiB,EACtC/R,EAAK+G,SACTvE,KAAKgQ,YAAY9T,KAAKC,MAAM6D,KAAKwP,SAASgB,UAtF1C,OA0FZpB,EAAkB7O,UAAUqQ,iBAAmB,SAAUtU,GACrD,GAAIgI,GAAQtE,IACZ,KAAK1D,EACD,QACJ,IAAIuU,GAAevU,EAAM2J,OAAO,SAAUzI,GAAQ,OAAQA,EAAKmH,UAC/D,KAAK3E,KAAK+P,YACN,MAAOc,EACX,KAAK7Q,KAAKuP,iBAAmBsB,EAAalU,OACtC,QAcJ,KAAK,GAVDH,GAAaH,EAAawU,EAAc,SAAUrT,GAClD,MAAQA,GAAK+G,SAxGV,IAwGgCD,EAAMqM,GACpCnT,EAAK+G,SAAW/G,EAAKmS,OAASrL,EAAMqM,IAIzCG,EAAYzU,EAAawU,EAAc,SAAUrT,GACjD,MAAOA,GAAK+G,SA9GT,IA8G+BD,EAAMqM,EAAIrM,EAAMiL,gBACnD/S,GACCuU,KACKrN,EAAIlH,EAAYkH,GAAKoN,EAAWpN,IACrCqN,EAAcC,KAAKH,EAAanN,GAEpC,OAAOqN,IAEX3B,EAAkB7O,UAAUmP,UAAY,WACpC,GAAIuB,GAAO/U,KAAKgV,IAAI,EAAGlR,KAAKmR,YAAcnR,KAAKuP,eAC3CvP,MAAK2Q,EAAI,GACT3Q,KAAKgQ,YAAY,GACjBhQ,KAAK2Q,EAAIM,GACTjR,KAAKgQ,YAAYiB,EA1Hb,KA4HZ7B,EAAkBrM,aACZ8L,KAAMC,eAGZM,EAAkBL,eAAiB,WAAc,QAC3CF,KAAM3E,KAEZpH,GACIyG,aACA5F,EAAW,cAAetD,SAC3B+O,EAAkB7O,UAAW,cAAW,IAC3CuC,GACIyG,aACA5F,EAAW,cAAetD,SAC3B+O,EAAkB7O,UAAW,QAAK,IACrCuC,GACIyG,aACA5F,EAAW,cAAetD,SAC3B+O,EAAkB7O,UAAW,qBAAkB,IAClDuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZyL,EAAkB7O,UAAW,IAAK,MACrCuC,GACIwG,WACA3F,EAAW,cAAetD,QAC1BsD,EAAW,yBACZyL,EAAkB7O,UAAW,cAAe,MAC/CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCyL,EAAkB7O,UAAW,cAAe,MAC/CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,wBACXA,EAAW,wBAAqB,KACjCyL,EAAkB7O,UAAW,kBAAmB,MACnDuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCyL,EAAkB7O,UAAW,cAAe,MAC/CuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,OAAQA,OAAQA,SACjDsD,EAAW,wBAAqB,KACjCyL,EAAkB7O,UAAW,iBAAkB,MAC3C6O,KM9LPgC,EAAkC,WAClC,QAASA,MAeT,MAbAA,GAAiBrO,aACX8L,KAAMwC,YAAWC,OACPC,cAAeC,oBAAkBC,KACjCC,SAAU,yBACVC,SAAU,+LAI1BP,EAAiBrC,eAAiB,WAAc,UAChDqC,EAAiBQ,gBACbD,WAAe9C,KAAMgD,UACrBrU,OAAWqR,KAAMgD,WAEdT,KCbPU,EAAWC,WAAYC,EAAOC,OAC9BC,EAA+B,WAC/B,QAASA,GAAc7N,EAAW8N,EAAoBC,GAClD,GAAI9N,GAAQtE,IACZA,MAAKqE,UAAYA,EACjBrE,KAAKmS,mBAAqBA,EAC1BnS,KAAKoS,SAAWA,EAChB/N,EAAU8F,WAAW3C,QAAQ,SAAU6K,GAAQ,MAAO/N,GAAM+N,GAAQ,GAAIC,kBACxEjO,EAAUoK,iBAAiB,SAAUD,GAAS,MAAOlK,GAAMzB,YAAY6H,KAAK8D,KAyFhF,MAvFAnO,QAAOC,eAAe4R,EAAc3R,UAAW,SAE3C+E,IAAK,SAAUhJ,KACfoE,YAAY,EACZC,cAAc,IAGlBN,OAAOC,eAAe4R,EAAc3R,UAAW,WAC3C+E,IAAK,SAAUvF,KACfW,YAAY,EACZC,cAAc,IAGlBN,OAAOC,eAAe4R,EAAc3R,UAAW,WAC3C+E,IAAK,SAAUC,GACXvF,KAAKqE,UAAU6E,SAAS3D,IAE5B7E,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe4R,EAAc3R,UAAW,SAC3C+E,IAAK,SAAUkJ,GACXxO,KAAKqE,UAAUkK,SAASC,IAE5B9N,YAAY,EACZC,cAAc,IAElBuR,EAAc3R,UAAUgS,UAAY,SAAU9U,GAC1C,GAAKuC,KAAKqE,UAAUmO,YAEhBV,GAAU,QAAS,YAAaW,SAASC,cAAcC,QAAQlF,eAAnE,CAEA,GAAI7C,GAAc5K,KAAKqE,UAAUuE,gBACjC5I,MAAKqE,UAAU4I,iBAAiBrC,EAAanN,KAEjDyU,EAAc3R,UAAUqS,YAAc,SAAUnV,GAC1BuC,KAAKoS,SAASS,oBAAoBpV,EAAOuF,OAAQ,WAAY,UAE3EhD,KAAKqE,UAAU6E,UAAS,IAGhCgJ,EAAc3R,UAAUuS,YAAc,SAAUC,GAC5C/S,KAAKqE,UAAU+H,SACXrM,QAASgT,EAAQhT,SAAWgT,EAAQhT,QAAQiT,aAC5C1W,MAAOyW,EAAQzW,OAASyW,EAAQzW,MAAM0W,aACtCvI,OAAQuH,EAAKhS,KAAMA,KAAKqE,UAAU8F,eAG1C+H,EAAcnP,aACR8L,KAAMwC,YAAWC,OACPI,SAAU,kBACVuB,WAAY/I,GACZgJ,UACAvB,SAAU;y4BAI1BO,EAAcnD,eAAiB,WAAc,QACvCF,KAAM3E,IACN2E,KAAMG,IACNH,KAAMsE,cAEZjB,EAAcN,gBACVwB,kBAAsBvE,KAAMwE,eAAc/B,MAAO,qBACjDgC,mBAAuBzE,KAAMwE,eAAc/B,MAAO,sBAClDiC,0BAA8B1E,KAAMwE,eAAc/B,MAAO,6BACzDkC,uBAA2B3E,KAAMwE,eAAc/B,MAAO,0BACtDhV,QAAYuS,KAAMgD,UAClB9R,UAAc8O,KAAMgD,UACpB4B,UAAc5E,KAAMgD,UACpBrD,QAAYK,KAAMgD,UAClB1T,iBAAqB0Q,KAAM6E,WAC3BrR,WAAewM,KAAM6E,WACrBpR,aAAiBuM,KAAM6E,WACvB1V,QAAY6Q,KAAM6E,WAClBnR,OAAWsM,KAAM6E,WACjBjR,aAAiBoM,KAAM6E,WACvBlR,cAAkBqM,KAAM6E,WACxBrU,WAAewP,KAAM6E,WACrBtU,WAAeyP,KAAM6E,WACrB/Q,mBAAuBkM,KAAM6E,WAC7B9Q,eAAmBiM,KAAM6E,WACzBhR,QAAYmM,KAAM6E,WAClB7Q,cAAkBgM,KAAM6E,WACxBnB,YAAgB1D,KAAM8E,eAAcrC,MAAO,iBAAkB,aAC7DsB,cAAkB/D,KAAM8E,eAAcrC,MAAO,mBAAoB,cAE9DY,KCpGP0B,EAAmC,WACnC,QAASA,MAiBT,MAfAA,GAAkB7Q,aACZ8L,KAAMwC,YAAWC,OACPI,SAAU,sBACVH,cAAeC,oBAAkBC,KACjCyB,UACAvB,SAAU,ynCAI1BiC,EAAkB7E,eAAiB,WAAc,UACjD6E,EAAkBhC,gBACdpU,OAAWqR,KAAMgD,UACjBpV,QAAYoS,KAAMgD,UAClBgC,YAAgBhF,KAAMgD,WAEnB+B,KClBPE,EAAiC,WACjC,QAASA,MAgBT,MAdAA,GAAgB/Q,aACV8L,KAAMwC,YAAWC,OACPI,SAAU,oBACVH,cAAeC,oBAAkBC,KACjCE,SAAU,wNAI1BmC,EAAgB/E,eAAiB,WAAc,UAC/C+E,EAAgBlC,gBACZpU,OAAWqR,KAAMgD,UACjBpV,QAAYoS,KAAMgD,UAClBF,WAAe9C,KAAMgD,WAElBiC,KCjBPC,EAAkC,WAClC,QAASA,MAyBT,MAvBAA,GAAiBxT,UAAU2G,OAAS,SAAUzJ,GAC1CuC,KAAKxC,KAAK2J,YAAY,OAAQ1J,EAAOiF,OACjCzD,KAAMxB,EAAOoE,QACb3C,IAAMkF,OAAQpE,KAAKxC,KAAMf,MAAOuD,KAAKgU,cAG7CD,EAAiBxT,UAAUqB,UAAY,SAAUC,EAASpE,GACtD,MAAOuC,MAAKxC,KAAKuC,QAAQ6B,UAAUC,GAAWuC,OAAQpE,KAAKxC,KAAMf,MAAOuD,KAAKgU,WAAavW,IAE9FsW,EAAiBhR,aACX8L,KAAMwC,YAAWC,OACPI,SAAU,wCACVH,cAAeC,oBAAkBC,KACjCyB,UACAvB,SAAU,iJAI1BoC,EAAiBhF,eAAiB,WAAc,UAChDgF,EAAiBnC,gBACbpU,OAAWqR,KAAMgD,UACjBmC,YAAgBnF,KAAMgD,WAEnBkC,KC1BPE,EAA2C,WAC3C,QAASA,MAeT,MAbAA,GAA0BlR,aACpB8L,KAAMwC,YAAWC,OACPI,SAAU,uCACVH,cAAeC,oBAAkBC,KACjCyB,UACAvB,SAAU,ghBAI1BsC,EAA0BlF,eAAiB,WAAc,UACzDkF,EAA0BrC,gBACtBpU,OAAWqR,KAAMgD,WAEdoC,KChBPC,EAA2C,WAC3C,QAASA,MAgBT,MAdAA,GAA0BnR,aACpB8L,KAAMwC,YAAWC,OACPI,SAAU,qBACVH,cAAeC,oBAAkBC,KACjCyB,UACAvB,SAAU,w3BAI1BuC,EAA0BnF,eAAiB,WAAc,UACzDmF,EAA0BtC,gBACtBpU,OAAWqR,KAAMgD,UACjBgC,YAAgBhF,KAAMgD,WAEnBqC,KClBPpR,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HC,GAAvHC,EAAIC,UAAU1G,OAAQ2G,EAAIF,EAAI,EAAIJ,EAAkB,OAATE,EAAgBA,EAAO7C,OAAOkD,yBAAyBP,EAAQC,GAAOC,CACrH,IAAuB,gBAAZM,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAASV,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAIQ,GAAIX,EAAWpG,OAAS,EAAG+G,GAAK,EAAGA,KAASP,EAAIJ,EAAWW,MAAIJ,GAAKF,EAAI,EAAID,EAAEG,GAAKF,EAAI,EAAID,EAAEH,EAAQC,EAAKK,GAAKH,EAAEH,EAAQC,KAASK,EAChJ,OAAOF,GAAI,GAAKE,GAAKjD,OAAOC,eAAe0C,EAAQC,EAAKK,GAAIA,GAE5DK,EAA0C,SAAUC,EAAGC,GACvD,GAAuB,gBAAZL,UAAoD,kBAArBA,SAAQM,SAAyB,MAAON,SAAQM,SAASF,EAAGC,IAKtGsQ,EAA6C,WAC7C,QAASA,KACLnU,KAAKyP,YA0ET,MAxEApP,QAAOC,eAAe6T,EAA4B5T,UAAW,SACzDC,IAAK,WAAc,MAAOR,MAAKoU,QAC/B9O,IAAK,SAAUhJ,GAAS0D,KAAKqU,SAAS/X,IACtCoE,YAAY,EACZC,cAAc,IAElBN,OAAOC,eAAe6T,EAA4B5T,UAAW,aACzDC,IAAK,WACD,GAAI8T,GAAYtU,KAAK+Q,eAAiB/Q,KAAK+Q,cAAcpU,QAAUqD,KAAK+Q,cAAc,EAEtF,QADuBuD,EAAYA,EAAU/P,SAAW+P,EAAUlQ,OAAOG,SAAW+P,EAAUlQ,OAAOgF,gBAAkB,GAC7F,MAE9B1I,YAAY,EACZC,cAAc,IAElBwT,EAA4B5T,UAAU8T,SAAW,SAAU/X,GACvD0D,KAAKoU,OAAS9X,GAElB6X,EAA4B5T,UAAUgU,SAAW,WAC7C,GAAIjQ,GAAQtE,IACZA,MAAKyI,cAAgBzI,KAAKqE,UAAUoE,cACpCzI,KAAKyP,UAEDK,WAAS,WACL,MAAOxL,GAAMmE,cAAcmI,iBAAiBtM,EAAMhI,OAAO+M,IAAI,SAAUmL,GAAK,MAAOA,GAAE/X,SACtF,SAAUgY,GACTnQ,EAAMyM,cAAgB0D,EAAYpL,IAAI,SAAU3F,GAAK,MAAOY,GAAMhI,MAAMoH,OACvEgR,mBAAmB,EAAMC,iBAAiB,IAC/C7E,WAAS,WAAc,MAAOxL,GAAMhI,OAAU,SAAUA,GACpDgI,EAAMyM,cAAgBzM,EAAMmE,cAAcmI,iBAAiBtU,OAIvE6X,EAA4B5T,UAAUqU,YAAc,WAChD5U,KAAKyP,SAASjI,QAAQ,SAAUrE,GAAK,MAAOA,QAEhDgR,EAA4B5T,UAAUsU,UAAY,SAAUpY,EAAOe,GAC/D,MAAOA,GAAKgH,IAEhB2P,EAA4BpR,aACtB8L,KAAMwC,YAAWC,OACPI,SAAU,uBACVH,cAAeC,oBAAkBC,KACjCE,SAAU,mVAI1BwC,EAA4BpF,eAAiB,WAAc,UAC3DoF,EAA4BvC,gBACxBtV,QAAYuS,KAAMgD,UAClBxN,YAAgBwK,KAAMgD,UACtBgC,YAAgBhF,KAAMgD,WAE1B/O,GACIyG,aACA5F,EAAW,cAAetD,SAC3B8T,EAA4B5T,UAAW,aAAU,IACpDuC,GACIyG,aACA5F,EAAW,cAAe6F,QAC3B2K,EAA4B5T,UAAW,oBAAiB,IAC3DuC,GACIwG,WACA3F,EAAW,cAAemR,QAC1BnR,EAAW,yBACZwQ,EAA4B5T,UAAW,YAAa,MACvDuC,GACIqG,SACAxF,EAAW,cAAe7B,UAC1B6B,EAAW,qBAAsBtD,SACjCsD,EAAW,wBAAqB,KACjCwQ,EAA4B5T,UAAW,WAAY,MAC/C4T,KCvFPY,EAA0C,WAC1C,QAASA,MAiBT,MAfAA,GAAyBhS,aACnB8L,KAAMwC,YAAWC,OACPI,SAAU,oBACVH,cAAeC,oBAAkBC,KACjCyB,UACAvB,SAAU,4yCAI1BoD,EAAyBhG,eAAiB,WAAc,UACxDgG,EAAyBnD,gBACrBpU,OAAWqR,KAAMgD,UACjBpV,QAAYoS,KAAMgD,UAClBgC,YAAgBhF,KAAMgD,WAEnBkD,KChBPC,EAAuC,WACvC,QAASA,GAAsBC,EAAYxM,GACvCzI,KAAKiV,WAAaA,EAClBjV,KAAKyI,cAAgBA,EAwCzB,MAtCAuM,GAAsBzU,UAAUgU,SAAW,WACvCvU,KAAKyI,cAAcmH,QAEvBoF,EAAsBzU,UAAU2U,gBAAkB,WAC9C,GAAI5Q,GAAQtE,IACZqI,YAAW,WACP/D,EAAM+L,cACN/L,EAAMmE,cAAcpD,WAAYqC,UAAWtF,EAAYI,iBAG/DwS,EAAsBzU,UAAUqU,YAAc,WAC1C5U,KAAKyI,cAAc2H,SAEvB4E,EAAsBzU,UAAU4U,eAAiB,WAC7C,MAAOnV,MAAKyI,cAAcsH,aAAe/P,KAAKyI,cAAc0I,YAAc,MAAQ,QAEtF6D,EAAsBzU,UAAU6U,SAAW,WACvCpV,KAAKqQ,eAET2E,EAAsBzU,UAAU8P,YAAc,WAC1CrQ,KAAKyI,cAAc4H,YAAYrQ,KAAKiV,WAAWI,gBAEnDL,EAAsBjS,aAChB8L,KAAMwC,YAAWC,OACPI,SAAU,gBACVwB,UACAD,WAAY7D,GACZuC,SAAU,iKAI1BqD,EAAsBjG,eAAiB,WAAc,QAC/CF,KAAMyG,eACNzG,KAAMO,KAEZ4F,EAAsBpD,gBAClBwD,WAAevG,KAAM8E,eAAcrC,MAAO,UAAW,cAElD0D,KC1CPO,EAAmC,WACnC,QAASA,GAAkBC,EAAIpD,EAAUD,GACrCnS,KAAKwV,GAAKA,EACVxV,KAAKoS,SAAWA,EAChBpS,KAAKmS,mBAAqBA,EAC1BnS,KAAKyV,eAAiB,GAAInD,gBAC1BtS,KAAK0V,mBAAqB,GAAIpD,gBAC9BtS,KAAK2V,oBAAsB,GAAIrD,gBAC/BtS,KAAK4V,oBAAsB,GAAItD,gBAC/BtS,KAAK6V,WAAa,SAAUhU,EAASpE,GAAU,OAAO,GA4E1D,MA1EA4C,QAAOC,eAAeiV,EAAkBhV,UAAW,iBAC/C+E,IAAK,SAAU1D,GACPA,YAAqBE,UACrB9B,KAAK6V,WAAajU,EAGlB5B,KAAK6V,WAAa,SAAUhU,EAASpE,GAAU,MAAOmE,KAE9DlB,YAAY,EACZC,cAAc,IAElB4U,EAAkBhV,UAAUqB,UAAY,SAAUnE,GAC9C,MAAOuC,MAAK6V,WAAW7V,KAAKmS,mBAAmB3R,MAAO/C,IAE1D8X,EAAkBhV,UAAUuV,WAAa,SAAUrY,GAC/C,IAAKuC,KAAK4B,UAAUnE,GAChB,MAAOuC,MAAK+V,kBAChB/V,MAAK0V,mBAAmBhL,MAAOhI,MAAOjF,EAAQoE,QAAS7B,KAAKmS,mBAAmB3R,QAC/E/C,EAAO0P,iBACPnN,KAAKgW,YAETT,EAAkBhV,UAAU0V,YAAc,SAAUxY,GAC3CuC,KAAK4B,UAAUnE,IAEpBuC,KAAK4V,oBAAoBlL,MAAOhI,MAAOjF,EAAQoE,QAAS7B,KAAKmS,mBAAmB3R,SAEpF+U,EAAkBhV,UAAU2V,YAAc,SAAUzY,GAChD,IAAKuC,KAAK4B,UAAUnE,GAChB,MAAOuC,MAAKmW,qBAChBnW,MAAK2V,oBAAoBjL,MAAOhI,MAAOjF,EAAQoE,QAAS7B,KAAKmS,mBAAmB3R,QAChFR,KAAKoW,eAETb,EAAkBhV,UAAU2G,OAAS,SAAUzJ,GACtCuC,KAAK4B,UAAUnE,KAEpBA,EAAO0P,iBACPnN,KAAKyV,eAAe/K,MAAOhI,MAAOjF,EAAQoE,QAAS7B,KAAKmS,mBAAmB3R,QAC3ER,KAAKoW,cACLpW,KAAKmS,mBAAmB7M,IAAI,QAEhCiQ,EAAkBhV,UAAUyV,SAAW,WACnChW,KAAKoS,SAASiE,gBAAgBrW,KAAKwV,GAAGH,cAtDxB,oBAsDwD,IAE1EE,EAAkBhV,UAAU6V,YAAc,WACtCpW,KAAKoS,SAASiE,gBAAgBrW,KAAKwV,GAAGH,cAzDxB,oBAyDwD,IAE1EE,EAAkBhV,UAAUwV,iBAAmB,WAC3C/V,KAAKoS,SAASiE,gBAAgBrW,KAAKwV,GAAGH,cA3DpB,6BA2DwD,IAE9EE,EAAkBhV,UAAU4V,oBAAsB,WAC9CnW,KAAKoS,SAASiE,gBAAgBrW,KAAKwV,GAAGH,cA9DpB,6BA8DwD,IAE9EE,EAAkBxS,aACZ8L,KAAMyH,YAAWhF,OACPI,SAAU,iBAI1B6D,EAAkBxG,eAAiB,WAAc,QAC3CF,KAAMyG,eACNzG,KAAMsE,aACNtE,KAAMG,KAEZuG,EAAkB3D,gBACd6D,iBAAqB5G,KAAM6E,SAAQpC,MAAO,cAC1CoE,qBAAyB7G,KAAM6E,SAAQpC,MAAO,sBAC9CqE,sBAA0B9G,KAAM6E,SAAQpC,MAAO,uBAC/CsE,sBAA0B/G,KAAM6E,SAAQpC,MAAO,uBAC/CiF,gBAAoB1H,KAAMgD,UAC1BiE,aAAiBjH,KAAM8E,eAAcrC,MAAO,YAAa,aACzD2E,cAAkBpH,KAAM8E,eAAcrC,MAAO,aAAc,aAC3D4E,cAAkBrH,KAAM8E,eAAcrC,MAAO,aAAc,aAC3DpK,SAAa2H,KAAM8E,eAAcrC,MAAO,QAAS,cAE9CiE,KCtFPiB,EAAmC,WACnC,QAASA,GAAkBhB,EAAIpD,EAAUD,GACrCnS,KAAKwV,GAAKA,EACVxV,KAAKoS,SAAWA,EAChBpS,KAAKmS,mBAAqBA,EA0C9B,MAxCAqE,GAAkBjW,UAAUkW,UAAY,WACpCzW,KAAKoS,SAASsE,oBAAoB1W,KAAKwV,GAAGH,cAAe,YAAarV,KAAK2W,gBAAkB,OAAS,UAE1GH,EAAkBjW,UAAUqW,YAAc,SAAUC,GAEhDA,EAAGC,aAAa1K,QAAQ,OAAQyK,EAAG7T,OAAOwB,IAC1CxE,KAAKmS,mBAAmB7M,IAAItF,KAAKkP,gBAC7BlP,KAAKkP,eAAe/H,aACpBnH,KAAKkP,eAAe/H,YAAY,YAAa0P,IAGrDL,EAAkBjW,UAAUwW,OAAS,SAAUF,GACvC7W,KAAKkP,eAAe/H,aACpBnH,KAAKkP,eAAe/H,YAAY,OAAQ0P,IAGhDL,EAAkBjW,UAAUyW,UAAY,WAChChX,KAAKkP,eAAe/H,aACpBnH,KAAKkP,eAAe/H,YAAY,WAEpCnH,KAAKmS,mBAAmB7M,IAAI,OAEhCkR,EAAkBzT,aACZ8L,KAAMyH,YAAWhF,OACPI,SAAU,iBAI1B8E,EAAkBzH,eAAiB,WAAc,QAC3CF,KAAMyG,eACNzG,KAAMsE,aACNtE,KAAMG,KAEZwH,EAAkB5E,gBACd1C,iBAAqBL,KAAMgD,QAAOP,MAAO,cACzCqF,kBAAsB9H,KAAMgD,UAC5B+E,cAAkB/H,KAAM8E,eAAcrC,MAAO,aAAc,aAC3DyF,SAAalI,KAAM8E,eAAcrC,MAAO,QAAS,aACjD0F,YAAgBnI,KAAM8E,eAAcrC,MAAO,cAExCkF,KC/CPS,EAA0C,WAC1C,QAASA,GAAyB7E,EAAU8E,EAAaC,GACrDnX,KAAKoS,SAAWA,EAChBpS,KAAKkX,YAAcA,EACnBlX,KAAKmX,iBAAmBA,EA+F5B,MA7FA9W,QAAOC,eAAe2W,EAAyB1W,UAAW,UACtD+E,IAAK,SAAUC,GACPA,GACAvF,KAAKoX,QACDpX,KAAK+P,YAA8B,IAAjB/P,KAAKqX,SACvBrX,KAAKsX,gBAITtX,KAAK+P,UAAY/P,KAAKuX,gBAAkBvX,KAAKwX,QAEjDxX,KAAKqX,UAAY9R,GAErB7E,YAAY,EACZC,cAAc,IAGlBsW,EAAyB1W,UAAU6W,MAAQ,WACnCpX,KAAKyX,eAGTzX,KAAKyX,aAAezX,KAAKmX,iBAAiBO,mBAAmB1X,KAAKkX,aAAaS,UAAU,KAE7FV,EAAyB1W,UAAUiX,MAAQ,WACvCxX,KAAKmX,iBAAiB/G,QACtBpQ,KAAKyX,aAAe,MAExBR,EAAyB1W,UAAU+W,aAAe,WAC9C,GAAIhT,GAAQtE,KACR4X,EAAQ5X,KAAKmB,aACb0W,EAAO7X,KAAKoB,oBACZ0W,EAAY,CAEhB9X,MAAKoS,SAAS2F,gBAAgB/X,KAAKyX,aAAc,aAAc,KAE/DpP,WAAW,WACP,GAAI3E,GAAIsU,YAAY,WAChB,IAAK1T,EAAM+S,UAAY/S,EAAMmT,aACzB,MAAOQ,eAAcvU,EACzBoU,IAAaF,CACb,IAAIM,GAAmBhc,KAAKqU,MAAMuH,EAClCxT,GAAM8N,SAAS2F,gBAAgBzT,EAAMmT,aAAc,aAAcS,EAAmB,KACpF,IAAIvI,GAASrL,EAAMmT,aAAahH,wBAAwBd,MACxDiI,IAASC,EACTA,GAnDQ,MAoDJlI,EAASuI,IAET5T,EAAM8N,SAAS2F,gBAAgBzT,EAAMmT,aAAc,aAAc,MACjEQ,cAAcvU,KAEnB,OAGXuT,EAAyB1W,UAAUgX,cAAgB,WAC/C,GAAIjT,GAAQtE,IACZ,IAAKA,KAAKyX,aAEV,GAAIG,GAAQ5X,KAAKmB,aACb0W,EAAO7X,KAAKoB,oBACZuO,EAAS3P,KAAKyX,aAAahH,wBAAwBd,OAEnDjM,EAAIsU,YAAY,WAChB,GAAI1T,EAAM+S,UAAY/S,EAAMmT,aACxB,MAAOQ,eAAcvU,EACzBiM,IAAUiI,EACVtT,EAAM8N,SAAS2F,gBAAgBzT,EAAMmT,aAAc,aAAc9H,EAAS,MAC1EiI,GAASC,EACTA,GA1EY,MA2ERlI,GAAU,IAEVrL,EAAM6S,iBAAiB/G,QACvB9L,EAAMmT,aAAe,KACrBQ,cAAcvU,KAEnB,KAEPuT,EAAyBlU,aACnB8L,KAAMyH,YAAWhF,OACPI,SAAU,wBAI1BuF,EAAyBlI,eAAiB,WAAc,QAClDF,KAAMsE,aACNtE,KAAMsJ,gBACNtJ,KAAMuJ,sBAEZnB,EAAyBrF,gBACrBzQ,eAAmB0N,KAAMgD,QAAOP,MAAO,0BACvClQ,sBAA0ByN,KAAMgD,QAAOP,MAAO,iCAC9CvB,YAAgBlB,KAAMgD,QAAOP,MAAO,4BACpC+G,SAAaxJ,KAAMgD,QAAOP,MAAO,sBAE9B2F,ICpGY,oBAAZqB,WACkC,kBAA9BA,SAAQ/X,UAAUgY,UACzBD,QAAQ/X,UAAUgY,QAAUD,QAAQ/X,UAAUiY,mBAC1CF,QAAQ/X,UAA8B,oBACtC+X,QAAQ/X,UAAUkY,uBAClB,SAAiB/G,GAIb,IAHA,GAAI7P,GAAU7B,KACV0Y,GAAY7W,EAAQ4Q,UAAY5Q,EAAQ8W,eAAeC,iBAAiBlH,GACxEjV,EAAQ,EACLic,EAASjc,IAAUic,EAASjc,KAAWoF,KACxCpF,CAEN,OAAOoc,SAAQH,EAASjc,MAGQ,kBAAjC6b,SAAQ/X,UAAmB,UAClC+X,QAAQ/X,UAAmB,QAAI,SAAiBmR,GAE5C,IADA,GAAI7P,GAAU7B,KACP6B,GAAgC,IAArBA,EAAQiX,UAAgB,CACtC,GAAIjX,EAAQ0W,QAAQ7G,GAChB,MAAO7P,EAEXA,GAAUA,EAAQkX,WAEtB,MAAO,QCFnB,IAAIC,GAA4B,WAC5B,QAASA,MA6CT,MA3CAA,GAAWjW,aACL8L,KAAMoK,WAAU3H,OACN4H,cACIhH,EACA0B,EACAE,EACA1C,EACAmE,EACAiB,EACAvC,EACAC,EACAH,EACAI,EACAa,EACAD,EACAkC,GAEJkC,SACIjH,EACA0B,EACAE,EACA1C,EACAmE,EACAiB,EACAvC,EACAC,EACAH,EACAI,EACAa,EACAD,EACAkC,GAEJmC,SACIC,eACAC,qBAEJrG,WACIjE,OAKpBgK,EAAWjK,eAAiB,WAAc,UACnCiK"}